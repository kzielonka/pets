  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6659852900869868@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 189ms (ActiveRecord: 0.0ms | Allocations: 1686)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6659852900869868@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 473)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5207078545581555@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5207078545581555@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 173)
Started PATCH "/users/me/announcements/effa56c6-1ddc-4c33-bd5d-7b7418e12398" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"effa56c6-1ddc-4c33-bd5d-7b7418e12398"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
Started POST "/users/me/announcements/effa56c6-1ddc-4c33-bd5d-7b7418e12398/publish" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"effa56c6-1ddc-4c33-bd5d-7b7418e12398"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/38609556-97d5-40cc-8fda-918189ea1b5c" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"38609556-97d5-40cc-8fda-918189ea1b5c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/38609556-97d5-40cc-8fda-918189ea1b5c/publish" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"38609556-97d5-40cc-8fda-918189ea1b5c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 61)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/c97d93b2-8dea-4290-961d-05201a0d517b" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"c97d93b2-8dea-4290-961d-05201a0d517b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c97d93b2-8dea-4290-961d-05201a0d517b/publish" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c97d93b2-8dea-4290-961d-05201a0d517b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 61)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 128)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8670916113870711@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8670916113870711@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8861989057263303@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8861989057263303@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/0f8b72df-3ba2-46fe-b308-ac9525fe4d34" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0f8b72df-3ba2-46fe-b308-ac9525fe4d34"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.28318576519868754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.28318576519868754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.019684751978111703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.019684751978111703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/b613563e-6e24-46a2-947d-18cd0298d98c" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"b613563e-6e24-46a2-947d-18cd0298d98c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/b613563e-6e24-46a2-947d-18cd0298d98c/publish" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b613563e-6e24-46a2-947d-18cd0298d98c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 63)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8067955818394957@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8067955818394957@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3481604490740323@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3481604490740323@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started GET "/users/me/announcements/7d72f048-c480-4a0f-a86e-d611bce167b8" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d72f048-c480-4a0f-a86e-d611bce167b8"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8933904262753816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8933904262753816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 60)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 59)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
Started PATCH "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 59)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 59)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b/publish" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 61)
Started GET "/users/me/announcements/1c52ce32-1d76-445e-be7e-d752fa17ed0b" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c52ce32-1d76-445e-be7e-d752fa17ed0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9301962867775683@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9301962867775683@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/375d5879-51a4-44b8-be6b-82a6abcd733d" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"375d5879-51a4-44b8-be6b-82a6abcd733d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 59)
Started POST "/users/me/announcements/375d5879-51a4-44b8-be6b-82a6abcd733d/publish" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"375d5879-51a4-44b8-be6b-82a6abcd733d"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.891563965555978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 113)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.891563965555978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.541632435511509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.541632435511509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/34f5397c-ee77-4ef6-86ab-d098ce6811ca" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"34f5397c-ee77-4ef6-86ab-d098ce6811ca"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 62)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 367ms (ActiveRecord: 0.0ms | Allocations: 195)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 112)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 139)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240423085448)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 09:45:19.972894', '2024-04-23 09:45:19.972896') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'ba0a1cd3a342ca69a589f1876e020309c580ff7c', '2024-04-23 09:45:19.974153', '2024-04-23 09:45:19.974154') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1125)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 205)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 363)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 179)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 200)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6479559996305584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6479559996305584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5b16c4cd-48ba-4bcf-85fd-4ca5873056bc" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5b16c4cd-48ba-4bcf-85fd-4ca5873056bc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started POST "/users/me/announcements/5b16c4cd-48ba-4bcf-85fd-4ca5873056bc/publish" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b16c4cd-48ba-4bcf-85fd-4ca5873056bc"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7780455029017733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7780455029017733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34782251393125296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34782251393125296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/5f6b146e-e669-4653-a0ce-033540608d03" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5f6b146e-e669-4653-a0ce-033540608d03"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08237407443153899@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08237407443153899@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 114)
Started PATCH "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791/publish" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/f7a0f17f-a0c8-410e-9c73-d01e4e265791" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7a0f17f-a0c8-410e-9c73-d01e4e265791"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6388833840906669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6388833840906669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4872116154645444@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4872116154645444@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/11c31ac9-0aa6-4dc3-90d5-01e4fbb4f149" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"11c31ac9-0aa6-4dc3-90d5-01e4fbb4f149"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/11c31ac9-0aa6-4dc3-90d5-01e4fbb4f149/publish" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"11c31ac9-0aa6-4dc3-90d5-01e4fbb4f149"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/af630f17-51b1-4ae9-8055-cbd89f85a9d5" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"af630f17-51b1-4ae9-8055-cbd89f85a9d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/af630f17-51b1-4ae9-8055-cbd89f85a9d5/publish" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"af630f17-51b1-4ae9-8055-cbd89f85a9d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/7ec08026-b788-46b2-8347-53f79d173e65" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7ec08026-b788-46b2-8347-53f79d173e65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7ec08026-b788-46b2-8347-53f79d173e65/publish" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7ec08026-b788-46b2-8347-53f79d173e65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9703528099457488@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9703528099457488@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6184640235108149@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6184640235108149@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/091068df-ff4b-4e96-a8d7-867522fd2855" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"091068df-ff4b-4e96-a8d7-867522fd2855"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/091068df-ff4b-4e96-a8d7-867522fd2855/publish" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"091068df-ff4b-4e96-a8d7-867522fd2855"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3726282102889076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3726282102889076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0969299582996308@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0969299582996308@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3a6698cc-4f03-464d-a97e-88265dc67063" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3a6698cc-4f03-464d-a97e-88265dc67063"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2740053539416134@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2740053539416134@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 09:45:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8143632853073897@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 09:45:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8143632853073897@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 09:45:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/d2425a92-9847-4864-b2e0-f4d27113059a" for 127.0.0.1 at 2024-04-23 09:45:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d2425a92-9847-4864-b2e0-f4d27113059a"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18650070134342334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 1101)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18650070134342334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 485)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8482510835524236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8482510835524236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 178)
Started PATCH "/users/me/announcements/6d7133c2-ecb4-45b5-9c1b-b62304e2e160" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"6d7133c2-ecb4-45b5-9c1b-b62304e2e160"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/6d7133c2-ecb4-45b5-9c1b-b62304e2e160/publish" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6d7133c2-ecb4-45b5-9c1b-b62304e2e160"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4560517505468481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4560517505468481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f8bb4c77-bed7-461b-bc90-9fdceb4288df" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f8bb4c77-bed7-461b-bc90-9fdceb4288df"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/f8bb4c77-bed7-461b-bc90-9fdceb4288df/publish" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8bb4c77-bed7-461b-bc90-9fdceb4288df"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.76172939365566@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.76172939365566@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4106504983500522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4106504983500522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/8a9f5cbf-b2e9-4afc-97f1-722abc56db42" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8a9f5cbf-b2e9-4afc-97f1-722abc56db42"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36396833656411365@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36396833656411365@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5526760198068253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5526760198068253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/4d47942f-c0b1-425f-a57d-84ca0a665849" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4d47942f-c0b1-425f-a57d-84ca0a665849"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5736022453094531@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5736022453094531@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
Started PATCH "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd/publish" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/a9251d79-481c-410e-917e-f1e4bdc218fd" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9251d79-481c-410e-917e-f1e4bdc218fd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3238189150868833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3238189150868833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8789179971348677@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8789179971348677@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3b2852c7-8000-43ef-bc6f-257060c5e308" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"3b2852c7-8000-43ef-bc6f-257060c5e308"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3b2852c7-8000-43ef-bc6f-257060c5e308/publish" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3b2852c7-8000-43ef-bc6f-257060c5e308"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f01634f5-44b2-48bd-8232-6e2a3a7447af" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f01634f5-44b2-48bd-8232-6e2a3a7447af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f01634f5-44b2-48bd-8232-6e2a3a7447af/publish" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f01634f5-44b2-48bd-8232-6e2a3a7447af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/d47b5d15-838b-4961-a2b1-f84e07a3cf92" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d47b5d15-838b-4961-a2b1-f84e07a3cf92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d47b5d15-838b-4961-a2b1-f84e07a3cf92/publish" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d47b5d15-838b-4961-a2b1-f84e07a3cf92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5395292009712065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5395292009712065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2806982435390907@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2806982435390907@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/5084ff2c-a0fb-4a5c-a2e6-deef990cd121" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5084ff2c-a0fb-4a5c-a2e6-deef990cd121"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 364ms (ActiveRecord: 0.0ms | Allocations: 200)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 485)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 179)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 200)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7366576699401379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7366576699401379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.811345350892021@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.811345350892021@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8645654c-6cca-4bd2-bd8f-75c2d2c44406" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8645654c-6cca-4bd2-bd8f-75c2d2c44406"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 88)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6189173239510355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6189173239510355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.00014567906355300586@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.00014567906355300586@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/0889c17a-2c55-4078-a67c-b88346fe5bf8" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0889c17a-2c55-4078-a67c-b88346fe5bf8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/0889c17a-2c55-4078-a67c-b88346fe5bf8/publish" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0889c17a-2c55-4078-a67c-b88346fe5bf8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a336a3a0-45ef-45a2-8947-19ee74c8b298" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a336a3a0-45ef-45a2-8947-19ee74c8b298"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a336a3a0-45ef-45a2-8947-19ee74c8b298/publish" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a336a3a0-45ef-45a2-8947-19ee74c8b298"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/0b869138-3a15-40ef-8d77-168752bdfb95" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"0b869138-3a15-40ef-8d77-168752bdfb95"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0b869138-3a15-40ef-8d77-168752bdfb95/publish" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b869138-3a15-40ef-8d77-168752bdfb95"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.780475761007745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.780475761007745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8396118311035771@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8396118311035771@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/c5e1edda-7c27-4562-bee8-e6e822887680" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c5e1edda-7c27-4562-bee8-e6e822887680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c5e1edda-7c27-4562-bee8-e6e822887680/publish" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c5e1edda-7c27-4562-bee8-e6e822887680"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14532372226706014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14532372226706014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9635581768393315@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9635581768393315@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/36f86a69-35aa-47ad-a2e1-aa0de3af2cbf" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"36f86a69-35aa-47ad-a2e1-aa0de3af2cbf"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25071209959846463@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25071209959846463@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5940178153256632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5940178153256632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/1e8dd42d-7fa3-4e8b-bd2a-aad2e1bbf394" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1e8dd42d-7fa3-4e8b-bd2a-aad2e1bbf394"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9981802304229141@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9981802304229141@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9/publish" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2c8dc3bf-70ba-44d6-99ab-3feb47cb93a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:21:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9629404893198167@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:21:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9629404893198167@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:21:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3b156217-178a-4351-813a-ffb6c9e65d6d" for 127.0.0.1 at 2024-04-23 10:21:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3b156217-178a-4351-813a-ffb6c9e65d6d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/3b156217-178a-4351-813a-ffb6c9e65d6d/publish" for 127.0.0.1 at 2024-04-23 10:21:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3b156217-178a-4351-813a-ffb6c9e65d6d"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3660916343327715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (ActiveRecord: 0.0ms | Allocations: 1101)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3660916343327715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 485)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 178)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 122)
Started PATCH "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d/publish" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/e7d357a9-b682-4778-a84e-8aebb5017d8d" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e7d357a9-b682-4778-a84e-8aebb5017d8d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6412945798316885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6412945798316885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0005688875606926214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0005688875606926214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/8596db70-bfbf-4eef-88f2-0d09e948e5ec" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"8596db70-bfbf-4eef-88f2-0d09e948e5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8596db70-bfbf-4eef-88f2-0d09e948e5ec/publish" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8596db70-bfbf-4eef-88f2-0d09e948e5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3da4989d-b5b1-4fca-8100-9367ca169075" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"3da4989d-b5b1-4fca-8100-9367ca169075"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3da4989d-b5b1-4fca-8100-9367ca169075/publish" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3da4989d-b5b1-4fca-8100-9367ca169075"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/1fbc54a2-8a18-4a21-a72d-911e8ae62827" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"1fbc54a2-8a18-4a21-a72d-911e8ae62827"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1fbc54a2-8a18-4a21-a72d-911e8ae62827/publish" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1fbc54a2-8a18-4a21-a72d-911e8ae62827"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24025716706407074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24025716706407074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/27e5f4ec-cd1c-4920-9ebb-c803e76a76be" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"27e5f4ec-cd1c-4920-9ebb-c803e76a76be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/27e5f4ec-cd1c-4920-9ebb-c803e76a76be/publish" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"27e5f4ec-cd1c-4920-9ebb-c803e76a76be"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7567609053607545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7567609053607545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8843930637267562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8843930637267562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/00caa39f-4c2f-4960-bf16-cd28097b64e0" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"00caa39f-4c2f-4960-bf16-cd28097b64e0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3468778286204732@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3468778286204732@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2709139530635456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2709139530635456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/a6440f1f-5bf5-47ab-8753-2b4f817e7872" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a6440f1f-5bf5-47ab-8753-2b4f817e7872"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.052820583136936494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.052820583136936494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4861533684464041@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4861533684464041@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f881f529-913b-45e2-a817-84fb22339e57" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f881f529-913b-45e2-a817-84fb22339e57"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8513503993648082@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8513503993648082@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7236690326080514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7236690326080514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/cf5eb8ec-1c26-4a45-bcc4-8e3f3b2c4fa4" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"cf5eb8ec-1c26-4a45-bcc4-8e3f3b2c4fa4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cf5eb8ec-1c26-4a45-bcc4-8e3f3b2c4fa4/publish" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cf5eb8ec-1c26-4a45-bcc4-8e3f3b2c4fa4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 368ms (ActiveRecord: 0.0ms | Allocations: 200)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 144)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (ActiveRecord: 0.0ms | Allocations: 1101)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 275)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 352)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 179)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 364ms (ActiveRecord: 0.0ms | Allocations: 200)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8271629039094487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8271629039094487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b/publish" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/1f062492-3dec-49e4-8f18-b74ea58dfb6b" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f062492-3dec-49e4-8f18-b74ea58dfb6b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5163115857836873@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5163115857836873@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1796260830337456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1796260830337456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/c7291b08-c109-4161-8488-1ac398b40763" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c7291b08-c109-4161-8488-1ac398b40763"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1415589719143946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1415589719143946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3639255295400561@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3639255295400561@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/c310faa5-be8c-4aaa-8278-d2e0149091fc" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c310faa5-be8c-4aaa-8278-d2e0149091fc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c310faa5-be8c-4aaa-8278-d2e0149091fc/publish" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c310faa5-be8c-4aaa-8278-d2e0149091fc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46618921604439634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46618921604439634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5635384797917876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5635384797917876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/72090ea9-ab24-464f-9050-69ea67dc95d8" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"72090ea9-ab24-464f-9050-69ea67dc95d8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8039603906652317@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8039603906652317@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/4b7a6630-df63-44d5-be5e-ebca8d2eafbb" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4b7a6630-df63-44d5-be5e-ebca8d2eafbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/4b7a6630-df63-44d5-be5e-ebca8d2eafbb/publish" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4b7a6630-df63-44d5-be5e-ebca8d2eafbb"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24072005464122936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24072005464122936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0042514491952916345@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0042514491952916345@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/4d9622c2-9f1c-4980-a43d-89ce0690f2d1" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4d9622c2-9f1c-4980-a43d-89ce0690f2d1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5472960015247972@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5472960015247972@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17106992991232417@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 10:25:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17106992991232417@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/625f0135-f05c-410b-bc82-b02a005fa4bc" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"625f0135-f05c-410b-bc82-b02a005fa4bc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/625f0135-f05c-410b-bc82-b02a005fa4bc/publish" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"625f0135-f05c-410b-bc82-b02a005fa4bc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/ce2bcf05-427a-4e07-a300-c86c864a5cb3" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ce2bcf05-427a-4e07-a300-c86c864a5cb3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ce2bcf05-427a-4e07-a300-c86c864a5cb3/publish" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce2bcf05-427a-4e07-a300-c86c864a5cb3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/b4368577-bcb8-421f-add3-4c1f04dcc436" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"b4368577-bcb8-421f-add3-4c1f04dcc436"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b4368577-bcb8-421f-add3-4c1f04dcc436/publish" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4368577-bcb8-421f-add3-4c1f04dcc436"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 10:25:25 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE DATABASE "pets" ENCODING = 'utf8'[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4624145601107277315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 11:10:00.252292', '2024-04-23 11:10:00.252294') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4624145601107277315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE DATABASE "pets" ENCODING = 'utf8'[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4624145601107277315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 11:20:44.804921', '2024-04-23 11:20:44.804923') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4624145601107277315)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (19.0ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 11:23:07.421817', '2024-04-23 11:23:07.421819') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "owner_id" character varying NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_owner_id" ON "credentials" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (4.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 12:21:50.281072', '2024-04-23 12:21:50.281073') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 12:41:57.935606', '2024-04-23 12:41:57.935608') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (6.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "announcements" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "credentials" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240423121101)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240423085448);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 13:06:35.058819', '2024-04-23 13:06:35.058821') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '26794352359d1627ec1671a58886c69395e484ae', '2024-04-23 13:06:35.059919', '2024-04-23 13:06:35.059920') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.584559625421008@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1788)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.584559625421008@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 482)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1279445989675605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1279445989675605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 178)
Started PATCH "/users/me/announcements/f99b24cc-9bcc-4a35-8968-42ec05812032" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"f99b24cc-9bcc-4a35-8968-42ec05812032"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/f99b24cc-9bcc-4a35-8968-42ec05812032/publish" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f99b24cc-9bcc-4a35-8968-42ec05812032"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40148452882483954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40148452882483954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5725584186552709@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 186)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5725584186552709@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/f0aabb98-8fd0-42c4-8e1a-6b803a880c57" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f0aabb98-8fd0-42c4-8e1a-6b803a880c57"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f0aabb98-8fd0-42c4-8e1a-6b803a880c57/publish" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f0aabb98-8fd0-42c4-8e1a-6b803a880c57"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/aecea80e-72bd-4b0e-909d-8e956e32606d" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"aecea80e-72bd-4b0e-909d-8e956e32606d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aecea80e-72bd-4b0e-909d-8e956e32606d/publish" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aecea80e-72bd-4b0e-909d-8e956e32606d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/442ae4d4-6c61-421e-b03a-897689864252" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"442ae4d4-6c61-421e-b03a-897689864252"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/442ae4d4-6c61-421e-b03a-897689864252/publish" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"442ae4d4-6c61-421e-b03a-897689864252"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8233570154249983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8233570154249983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6570005596532775@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6570005596532775@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/84d5e16a-ff2d-4677-93bd-b796bdcd108f" for 127.0.0.1 at 2024-04-23 13:06:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"84d5e16a-ff2d-4677-93bd-b796bdcd108f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8446644905153233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8446644905153233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 102)
Started PATCH "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started POST "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe/publish" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/46fe6f08-e95b-4485-94ee-0568653f80fe" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"46fe6f08-e95b-4485-94ee-0568653f80fe"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.04217781117256736@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.04217781117256736@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7455997622947603@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7455997622947603@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started GET "/users/me/announcements/7567c597-7feb-4ef9-90d2-793e9a878b93" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7567c597-7feb-4ef9-90d2-793e9a878b93"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22518594641025946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22518594641025946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/f49f942e-9831-45fb-885a-13582d0caecd" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f49f942e-9831-45fb-885a-13582d0caecd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f49f942e-9831-45fb-885a-13582d0caecd/publish" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f49f942e-9831-45fb-885a-13582d0caecd"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4007095947588717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4007095947588717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7636551060950212@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7636551060950212@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/f6adacfe-b524-4891-bc1f-357d4a54997e" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f6adacfe-b524-4891-bc1f-357d4a54997e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 366ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 365ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 208)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:06:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:06:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 13:12:24.997961', '2024-04-23 13:12:24.997963') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (26.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "announcements" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "credentials" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240423121101)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240423085448);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-23 13:12:38.155343', '2024-04-23 13:12:38.155345') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '26794352359d1627ec1671a58886c69395e484ae', '2024-04-23 13:12:38.156457', '2024-04-23 13:12:38.156458') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23965797350182627@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 374ms (ActiveRecord: 0.0ms | Allocations: 1788)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23965797350182627@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 482)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15098247019734368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15098247019734368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 178)
Started PATCH "/users/me/announcements/e5b78e9d-f6c3-4469-8478-b523a3e1e7d3" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e5b78e9d-f6c3-4469-8478-b523a3e1e7d3"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6206962061949844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6206962061949844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/cb4e27e3-0635-469f-a505-a636a6747a52" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"cb4e27e3-0635-469f-a505-a636a6747a52"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements/cb4e27e3-0635-469f-a505-a636a6747a52/publish" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb4e27e3-0635-469f-a505-a636a6747a52"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4701184963614814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 374ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4701184963614814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.011565105811717546@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.011565105811717546@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/677a8044-c4ac-4de0-9599-964aaa503f24" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"677a8044-c4ac-4de0-9599-964aaa503f24"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07708072251551934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07708072251551934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8702311891144963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8702311891144963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/42349d9d-48ff-4eff-9087-a8d6b54a2837" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"42349d9d-48ff-4eff-9087-a8d6b54a2837"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/42349d9d-48ff-4eff-9087-a8d6b54a2837/publish" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"42349d9d-48ff-4eff-9087-a8d6b54a2837"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/225310ed-075d-4960-80aa-76673d46445a" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"225310ed-075d-4960-80aa-76673d46445a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/225310ed-075d-4960-80aa-76673d46445a/publish" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"225310ed-075d-4960-80aa-76673d46445a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/26c40ee1-37d7-4ad2-a0c0-34797b16e7ae" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"26c40ee1-37d7-4ad2-a0c0-34797b16e7ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/26c40ee1-37d7-4ad2-a0c0-34797b16e7ae/publish" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"26c40ee1-37d7-4ad2-a0c0-34797b16e7ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 130)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11129090155709831@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 186)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11129090155709831@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4824890115600937@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4824890115600937@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/6be4f5c9-b84b-469b-ac60-831dc99ea080" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"6be4f5c9-b84b-469b-ac60-831dc99ea080"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6be4f5c9-b84b-469b-ac60-831dc99ea080/publish" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6be4f5c9-b84b-469b-ac60-831dc99ea080"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6172248988967708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6172248988967708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 102)
Started PATCH "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started PATCH "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started POST "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d/publish" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/8d5d9e9e-ffc6-442c-bb60-172aa3f8959d" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8d5d9e9e-ffc6-442c-bb60-172aa3f8959d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0756485949604202@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0756485949604202@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9397336856321944@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9397336856321944@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
Started GET "/users/me/announcements/fcd21cf1-d79a-4f09-9a25-f3f2bf51d171" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fcd21cf1-d79a-4f09-9a25-f3f2bf51d171"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 367ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-23 13:12:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-23 13:12:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 186)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 145)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 367ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-23 13:12:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddLocationToAnnouncements (20240425142030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "announcements" ADD "latitude" decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "announcements" ADD "longitude" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240425142030') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (7.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "announcements" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "latitude" decimal, "longitude" decimal)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "credentials" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240425142030)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240423121101),
(20240423085448);[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-04-25 14:24:22.270603', '2024-04-25 14:24:22.270605') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '3fd6ab6a8500f5febfdd55f6e3beb9135c5954f8', '2024-04-25 14:24:22.271716', '2024-04-25 14:24:22.271717') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 998)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 273)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 477)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 368ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 400ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 368ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6923173260931117@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6923173260931117@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4426560792980141@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4426560792980141@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 99)
Started GET "/users/me/announcements/f8ea91f4-df1f-4149-b037-26af93ee3e82" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8ea91f4-df1f-4149-b037-26af93ee3e82"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7636212363868207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7636212363868207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1963015664252309@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1963015664252309@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2823b17c-5eab-4d2b-947a-78870c8520b9" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"2823b17c-5eab-4d2b-947a-78870c8520b9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started POST "/users/me/announcements/2823b17c-5eab-4d2b-947a-78870c8520b9/publish" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2823b17c-5eab-4d2b-947a-78870c8520b9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d3a1cac6-74cf-4136-8bde-680afb39f1e9" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"d3a1cac6-74cf-4136-8bde-680afb39f1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d3a1cac6-74cf-4136-8bde-680afb39f1e9/publish" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d3a1cac6-74cf-4136-8bde-680afb39f1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b43f84ac-c891-4bb5-8e6d-cab1e783b4ef" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"b43f84ac-c891-4bb5-8e6d-cab1e783b4ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b43f84ac-c891-4bb5-8e6d-cab1e783b4ef/publish" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b43f84ac-c891-4bb5-8e6d-cab1e783b4ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6867666789648793@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6867666789648793@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d268b6a9-5a42-4bac-8b81-c00f3d18a104" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d268b6a9-5a42-4bac-8b81-c00f3d18a104"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/d268b6a9-5a42-4bac-8b81-c00f3d18a104/publish" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d268b6a9-5a42-4bac-8b81-c00f3d18a104"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.527888980881797@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.527888980881797@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.02680211253831566@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.02680211253831566@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/45e3e67f-f067-446b-95e5-43c6abcc30ce" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"45e3e67f-f067-446b-95e5-43c6abcc30ce"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6512029323004103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6512029323004103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20998099585875607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20998099585875607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1cf99623-9ddd-4a5a-966d-0691ed371451" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"1cf99623-9ddd-4a5a-966d-0691ed371451"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1cf99623-9ddd-4a5a-966d-0691ed371451/publish" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1cf99623-9ddd-4a5a-966d-0691ed371451"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7863677329300072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7863677329300072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4382214486643212@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4382214486643212@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df95befd-1421-4137-9b18-3503c9f0f05b" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"df95befd-1421-4137-9b18-3503c9f0f05b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:24:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.864691327581927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.864691327581927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started PATCH "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829/publish" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/064e4a5c-9e90-4bae-aed4-bb8942989829" for 127.0.0.1 at 2024-04-25 14:24:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"064e4a5c-9e90-4bae-aed4-bb8942989829"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 367ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 369ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-25 14:27:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7797248011292823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7797248011292823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.006026009379731301@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.006026009379731301@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bd9ed60e-fe57-40c3-9a2f-b04f02b7dabf" for 127.0.0.1 at 2024-04-25 14:27:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bd9ed60e-fe57-40c3-9a2f-b04f02b7dabf"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.27669534192622613@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.27669534192622613@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0718205899207841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 372ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0718205899207841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/700d0c46-eaf2-47de-83b5-2f09c2724ab2" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"700d0c46-eaf2-47de-83b5-2f09c2724ab2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/700d0c46-eaf2-47de-83b5-2f09c2724ab2/publish" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"700d0c46-eaf2-47de-83b5-2f09c2724ab2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7385626534855866@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7385626534855866@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c0ede4f2-4b3e-4383-97c6-ae2b2b593bd4" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c0ede4f2-4b3e-4383-97c6-ae2b2b593bd4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/c0ede4f2-4b3e-4383-97c6-ae2b2b593bd4/publish" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c0ede4f2-4b3e-4383-97c6-ae2b2b593bd4"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5714184403500632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5714184403500632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5379156667217009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5379156667217009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/41555018-50a4-4eeb-af19-8ed4f3abc3cc" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"41555018-50a4-4eeb-af19-8ed4f3abc3cc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.507630651083113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.507630651083113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798/publish" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/324550f7-ac52-4ead-ae3b-25623e75a798" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"324550f7-ac52-4ead-ae3b-25623e75a798"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23982610655915637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23982610655915637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7121401695825231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7121401695825231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/55dc9138-5ec6-4ab6-9760-6e2180f98137" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"55dc9138-5ec6-4ab6-9760-6e2180f98137"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/55dc9138-5ec6-4ab6-9760-6e2180f98137/publish" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"55dc9138-5ec6-4ab6-9760-6e2180f98137"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/05105430-c1a8-49e1-a06f-f9aa4558c984" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"05105430-c1a8-49e1-a06f-f9aa4558c984"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/05105430-c1a8-49e1-a06f-f9aa4558c984/publish" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"05105430-c1a8-49e1-a06f-f9aa4558c984"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e2e0131d-708e-4a14-bce7-f1571519cfb9" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"e2e0131d-708e-4a14-bce7-f1571519cfb9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e2e0131d-708e-4a14-bce7-f1571519cfb9/publish" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e2e0131d-708e-4a14-bce7-f1571519cfb9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1921636718000146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1921636718000146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:27:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7577730383193269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:27:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7577730383193269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:27:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/597665b8-c7ef-44b2-810f-7be3765b2f27" for 127.0.0.1 at 2024-04-25 14:27:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"597665b8-c7ef-44b2-810f-7be3765b2f27"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 296)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 366ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:23 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 366ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7690691592485751@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7690691592485751@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:24 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6984805835071001@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6984805835071001@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8612327575332012@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8612327575332012@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:25 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4484835544604665@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4484835544604665@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4790194193479368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4790194193479368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:26 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6841616994310341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6841616994310341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:27 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.022199242478363357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.022199242478363357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44273011128649764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44273011128649764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:28 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13526916536803602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13526916536803602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 219ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.022612627583902256@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.022612627583902256@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:29 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-25 14:36:29 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7266150916520656@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7266150916520656@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21436305244075038@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21436305244075038@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/19687849-e90d-4c99-a654-11f63e737811" for 127.0.0.1 at 2024-04-25 14:36:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"19687849-e90d-4c99-a654-11f63e737811"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5892370062324007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5892370062324007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/d9f3c6bf-bdd8-4a74-9755-ce6a82dfba24" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d9f3c6bf-bdd8-4a74-9755-ce6a82dfba24"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/d9f3c6bf-bdd8-4a74-9755-ce6a82dfba24/publish" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9f3c6bf-bdd8-4a74-9755-ce6a82dfba24"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1442830611872753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1442830611872753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47733451610860855@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47733451610860855@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c7209918-70d5-46f5-9376-669820b4924f" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c7209918-70d5-46f5-9376-669820b4924f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/c7209918-70d5-46f5-9376-669820b4924f/publish" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7209918-70d5-46f5-9376-669820b4924f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37697467588224487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37697467588224487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/08c5d6de-192c-443d-b979-d554b8c20ac0" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"08c5d6de-192c-443d-b979-d554b8c20ac0"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 132)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05049197775964209@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:34 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05049197775964209@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7352190933911259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7352190933911259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d1b5733b-6f3e-4034-a171-83c4c24fe080" for 127.0.0.1 at 2024-04-25 14:36:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d1b5733b-6f3e-4034-a171-83c4c24fe080"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07241392314134076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07241392314134076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6662921868630901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 372ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6662921868630901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/10446f34-4202-4c3f-8e17-4ce22dee8432" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"10446f34-4202-4c3f-8e17-4ce22dee8432"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4736022779238941@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4736022779238941@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8549145450799092@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8549145450799092@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/72e55677-c24d-44cf-9faf-01cf0f160ce8" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"72e55677-c24d-44cf-9faf-01cf0f160ce8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.41308245870721905@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.41308245870721905@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5724889630311731@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5724889630311731@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/490ba455-00b9-486a-b8cd-293bd8e197a7" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"490ba455-00b9-486a-b8cd-293bd8e197a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/490ba455-00b9-486a-b8cd-293bd8e197a7/publish" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"490ba455-00b9-486a-b8cd-293bd8e197a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b18fbc2a-f35d-4cee-b09d-d7e6fcf0a54f" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"b18fbc2a-f35d-4cee-b09d-d7e6fcf0a54f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b18fbc2a-f35d-4cee-b09d-d7e6fcf0a54f/publish" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b18fbc2a-f35d-4cee-b09d-d7e6fcf0a54f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2464e35e-4f4b-4c4a-bf3e-59f8876ba72e" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"2464e35e-4f4b-4c4a-bf3e-59f8876ba72e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2464e35e-4f4b-4c4a-bf3e-59f8876ba72e/publish" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2464e35e-4f4b-4c4a-bf3e-59f8876ba72e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 128)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 369ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 400ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-25 14:36:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 389ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-25 14:36:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-25 14:36:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6409351085518296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6409351085518296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9495211181653138@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9495211181653138@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/da3b0324-1fb2-4075-bdd8-218a94de5330" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"da3b0324-1fb2-4075-bdd8-218a94de5330"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7336711472297017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7336711472297017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8a33bcf3-fabb-45cc-b729-6ee6ae45541b" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8a33bcf3-fabb-45cc-b729-6ee6ae45541b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8a33bcf3-fabb-45cc-b729-6ee6ae45541b/publish" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8a33bcf3-fabb-45cc-b729-6ee6ae45541b"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46708131807839226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46708131807839226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 191ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2838946030356194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2838946030356194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/313a06ff-5792-4765-a47f-5313894591d0" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"313a06ff-5792-4765-a47f-5313894591d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/313a06ff-5792-4765-a47f-5313894591d0/publish" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"313a06ff-5792-4765-a47f-5313894591d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5e897b84-6ae1-4b1e-97af-7b780ae21ca8" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"5e897b84-6ae1-4b1e-97af-7b780ae21ca8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5e897b84-6ae1-4b1e-97af-7b780ae21ca8/publish" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5e897b84-6ae1-4b1e-97af-7b780ae21ca8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4a4efef4-ff73-42b7-9b4c-4b65b83b20df" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"4a4efef4-ff73-42b7-9b4c-4b65b83b20df"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4a4efef4-ff73-42b7-9b4c-4b65b83b20df/publish" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4a4efef4-ff73-42b7-9b4c-4b65b83b20df"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44071231158535973@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44071231158535973@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.85950791240737@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.85950791240737@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/61d7e158-c890-4bce-a06a-9f70984f8ebf" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"61d7e158-c890-4bce-a06a-9f70984f8ebf"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29491017082241644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29491017082241644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4476460166639481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 372ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4476460166639481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/eb5b96db-8406-415d-9da6-773d08c5ce25" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"eb5b96db-8406-415d-9da6-773d08c5ce25"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/eb5b96db-8406-415d-9da6-773d08c5ce25/publish" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eb5b96db-8406-415d-9da6-773d08c5ce25"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9695822213054192@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9695822213054192@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0ace050c-f51a-4093-8445-d2ce5ea00b3b" for 127.0.0.1 at 2024-04-26 07:41:42 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0ace050c-f51a-4093-8445-d2ce5ea00b3b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.04292397173450224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.04292397173450224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49204848763818576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49204848763818576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/681e3271-7b0c-44f4-92f9-bd37ac55f900" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"681e3271-7b0c-44f4-92f9-bd37ac55f900"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 368ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:41:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 372ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 369ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:41:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:41:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1133)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 288)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 370ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 370ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:42:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44595835407956963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 372ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44595835407956963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3664730423139011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3664730423139011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1e7255ca-1c5c-4c13-b5cb-18dadfc042c0" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"1e7255ca-1c5c-4c13-b5cb-18dadfc042c0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/1e7255ca-1c5c-4c13-b5cb-18dadfc042c0/publish" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1e7255ca-1c5c-4c13-b5cb-18dadfc042c0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.32507220161352945@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.32507220161352945@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7600096847251462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7600096847251462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0b197531-7b3c-4573-a8cc-de833577e09d" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0b197531-7b3c-4573-a8cc-de833577e09d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0b197531-7b3c-4573-a8cc-de833577e09d/publish" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b197531-7b3c-4573-a8cc-de833577e09d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b0b88034-60d9-4c90-a2a4-ab529721215b" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"b0b88034-60d9-4c90-a2a4-ab529721215b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b0b88034-60d9-4c90-a2a4-ab529721215b/publish" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b0b88034-60d9-4c90-a2a4-ab529721215b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/da0255ce-2a98-47cf-ace6-f21b8151f1d4" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"da0255ce-2a98-47cf-ace6-f21b8151f1d4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/da0255ce-2a98-47cf-ace6-f21b8151f1d4/publish" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"da0255ce-2a98-47cf-ace6-f21b8151f1d4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4302876491421994@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4302876491421994@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8763556609155135@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8763556609155135@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/97086d6b-9296-43ee-a3f0-57fa47f27a56" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"97086d6b-9296-43ee-a3f0-57fa47f27a56"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09483526140146592@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09483526140146592@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d30604ea-0ad6-4542-9a3a-b45a8818ac29" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d30604ea-0ad6-4542-9a3a-b45a8818ac29"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d30604ea-0ad6-4542-9a3a-b45a8818ac29/publish" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d30604ea-0ad6-4542-9a3a-b45a8818ac29"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.645022191068646@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.645022191068646@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8182822240905689@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8182822240905689@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/801720cb-92d5-470a-a7ab-b8c3035f6312" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"801720cb-92d5-470a-a7ab-b8c3035f6312"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15681326490526093@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15681326490526093@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3297595598820844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3297595598820844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0aa7c58d-8670-4cb1-a159-0ec1976ccdc9" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0aa7c58d-8670-4cb1-a159-0ec1976ccdc9"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:42:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9554177328586936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:42:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9554177328586936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:42:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d1bf0362-a1ab-4f9d-865a-7d794ba4e338" for 127.0.0.1 at 2024-04-26 07:42:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d1bf0362-a1ab-4f9d-865a-7d794ba4e338"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4536990914623781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 375ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4536990914623781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6646335470954567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6646335470954567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/88f36f36-5aec-42ee-9ea2-7f5914d7dde9" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"88f36f36-5aec-42ee-9ea2-7f5914d7dde9"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.999183344370069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.999183344370069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7518217572870193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7518217572870193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/951adf8e-6767-4c2e-a393-5ff0ef9aa4fa" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"951adf8e-6767-4c2e-a393-5ff0ef9aa4fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/951adf8e-6767-4c2e-a393-5ff0ef9aa4fa/publish" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"951adf8e-6767-4c2e-a393-5ff0ef9aa4fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dd421714-425b-47e0-ac57-f6f90319f69d" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"dd421714-425b-47e0-ac57-f6f90319f69d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/dd421714-425b-47e0-ac57-f6f90319f69d/publish" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dd421714-425b-47e0-ac57-f6f90319f69d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aef2d110-0be0-44d3-aa41-87ab7c0a0fcc" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"aef2d110-0be0-44d3-aa41-87ab7c0a0fcc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aef2d110-0be0-44d3-aa41-87ab7c0a0fcc/publish" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aef2d110-0be0-44d3-aa41-87ab7c0a0fcc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 133)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.008011262227148097@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.008011262227148097@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.987498321630688@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.987498321630688@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b8a95210-eefe-4dd5-89b8-3da180a14540" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"b8a95210-eefe-4dd5-89b8-3da180a14540"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b8a95210-eefe-4dd5-89b8-3da180a14540/publish" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b8a95210-eefe-4dd5-89b8-3da180a14540"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5782499189491801@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5782499189491801@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05833747132539424@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05833747132539424@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/852826ed-03f0-45a8-b762-b8f125c9baf2" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"852826ed-03f0-45a8-b762-b8f125c9baf2"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4925682740566413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4925682740566413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a858aa44-3b62-402c-854f-dd288f1646c5" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a858aa44-3b62-402c-854f-dd288f1646c5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/a858aa44-3b62-402c-854f-dd288f1646c5/publish" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a858aa44-3b62-402c-854f-dd288f1646c5"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6541597276861797@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6541597276861797@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/984bc84f-e76d-4bee-9bbd-ce0a66cc617a" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"984bc84f-e76d-4bee-9bbd-ce0a66cc617a"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 175)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4582098893344818@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4582098893344818@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.823999519777497@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.823999519777497@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/de3df99c-7b0a-45d3-bd1d-a389b0e8adf1" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"de3df99c-7b0a-45d3-bd1d-a389b0e8adf1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 372ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 185ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 368ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 372ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 341)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 356)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 370ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06356252452833411@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06356252452833411@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49734372431613105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49734372431613105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/adbab4fb-ce6b-4c3d-892a-4ba280623990" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"adbab4fb-ce6b-4c3d-892a-4ba280623990"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8109177860078884@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8109177860078884@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2800536533195377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2800536533195377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0a4c373c-988b-405a-bb0d-41c01966046a" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0a4c373c-988b-405a-bb0d-41c01966046a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/0a4c373c-988b-405a-bb0d-41c01966046a/publish" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0a4c373c-988b-405a-bb0d-41c01966046a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/29f7af3b-e866-4994-a279-3ad139437311" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"29f7af3b-e866-4994-a279-3ad139437311"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/29f7af3b-e866-4994-a279-3ad139437311/publish" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"29f7af3b-e866-4994-a279-3ad139437311"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/05ac8931-117d-41e2-aa2e-1e7a77419901" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"05ac8931-117d-41e2-aa2e-1e7a77419901"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/05ac8931-117d-41e2-aa2e-1e7a77419901/publish" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"05ac8931-117d-41e2-aa2e-1e7a77419901"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 133)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6766559956237796@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6766559956237796@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d4bd698d-cdfe-4233-b51f-e5821c014e42" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d4bd698d-cdfe-4233-b51f-e5821c014e42"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d4bd698d-cdfe-4233-b51f-e5821c014e42/publish" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d4bd698d-cdfe-4233-b51f-e5821c014e42"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07585809764700535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07585809764700535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5648872883507268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5648872883507268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9319e697-e04d-47ec-b8fe-d7d30df9f35d" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9319e697-e04d-47ec-b8fe-d7d30df9f35d"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:43:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8241189078427593@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8241189078427593@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.537616816530056@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.537616816530056@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c4557311-889b-4892-a24e-37e06bd53529" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c4557311-889b-4892-a24e-37e06bd53529"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1540617594719037@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1540617594719037@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 192ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5307345563083776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5307345563083776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1c150131-9f97-498e-9ac4-71ad9de9283d" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"1c150131-9f97-498e-9ac4-71ad9de9283d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1c150131-9f97-498e-9ac4-71ad9de9283d/publish" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c150131-9f97-498e-9ac4-71ad9de9283d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:44:01 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09621057406835443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09621057406835443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/23b31104-48a2-44de-8b53-10b9fd9ad967" for 127.0.0.1 at 2024-04-26 07:44:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"23b31104-48a2-44de-8b53-10b9fd9ad967"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 175)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2024523401074253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2024523401074253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6901067971462297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6901067971462297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:07 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/e0e75bd0-1653-4b6b-9f01-5339f60bd342" for 127.0.0.1 at 2024-04-26 07:44:07 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e0e75bd0-1653-4b6b-9f01-5339f60bd342"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:07 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7915934868074092@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:07 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7915934868074092@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6918000781994901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6918000781994901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/38264f06-0bcc-4327-9b21-207c72511c91" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"38264f06-0bcc-4327-9b21-207c72511c91"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33697732552563786@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:08 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33697732552563786@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/41f0e9b7-92e0-4b86-bee9-86e244de4276" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"41f0e9b7-92e0-4b86-bee9-86e244de4276"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements/41f0e9b7-92e0-4b86-bee9-86e244de4276/publish" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"41f0e9b7-92e0-4b86-bee9-86e244de4276"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6272263375132638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6272263375132638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8165106567608208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8165106567608208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1c58aa94-bd76-4a26-af0c-b6d6f00a683c" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"1c58aa94-bd76-4a26-af0c-b6d6f00a683c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/1c58aa94-bd76-4a26-af0c-b6d6f00a683c/publish" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c58aa94-bd76-4a26-af0c-b6d6f00a683c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d5f122bc-978b-452a-a8cb-baa891055d60" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"d5f122bc-978b-452a-a8cb-baa891055d60"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d5f122bc-978b-452a-a8cb-baa891055d60/publish" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d5f122bc-978b-452a-a8cb-baa891055d60"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/108a18f7-2ec9-4c22-afaa-d0bb7a472eb8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"108a18f7-2ec9-4c22-afaa-d0bb7a472eb8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/108a18f7-2ec9-4c22-afaa-d0bb7a472eb8/publish" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"108a18f7-2ec9-4c22-afaa-d0bb7a472eb8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9466279854007558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9466279854007558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 215ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f36e3cb7-85cf-4647-9f45-4a5dae162ef8" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"f36e3cb7-85cf-4647-9f45-4a5dae162ef8"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.927266164663204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.927266164663204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 188ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7786400429815815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7786400429815815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dc950aef-3dbf-4962-a310-759cf9688870" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"dc950aef-3dbf-4962-a310-759cf9688870"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6084318743856496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6084318743856496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17452285639096943@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17452285639096943@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6a583669-d77a-4f9b-ac55-3c0964e8e8ee" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"6a583669-d77a-4f9b-ac55-3c0964e8e8ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6a583669-d77a-4f9b-ac55-3c0964e8e8ee/publish" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6a583669-d77a-4f9b-ac55-3c0964e8e8ee"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 371ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 367ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9277633418632178@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9277633418632178@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/c67b8efb-c982-4fff-8c34-eda53be9f463" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c67b8efb-c982-4fff-8c34-eda53be9f463"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/c67b8efb-c982-4fff-8c34-eda53be9f463/publish" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c67b8efb-c982-4fff-8c34-eda53be9f463"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.787175477489921@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.787175477489921@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4057846954629384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4057846954629384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/45ab169c-ce33-4486-9456-9d75d5a1b7be" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"45ab169c-ce33-4486-9456-9d75d5a1b7be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/45ab169c-ce33-4486-9456-9d75d5a1b7be/publish" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"45ab169c-ce33-4486-9456-9d75d5a1b7be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7d9f81e1-3e67-455b-b033-1cb7edd0a940" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"7d9f81e1-3e67-455b-b033-1cb7edd0a940"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7d9f81e1-3e67-455b-b033-1cb7edd0a940/publish" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d9f81e1-3e67-455b-b033-1cb7edd0a940"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23d0c927-38e3-4dc5-a991-2a3b2d2c6a1e" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"23d0c927-38e3-4dc5-a991-2a3b2d2c6a1e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/23d0c927-38e3-4dc5-a991-2a3b2d2c6a1e/publish" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23d0c927-38e3-4dc5-a991-2a3b2d2c6a1e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.042533703311669835@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.042533703311669835@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44660923011344045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44660923011344045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aa20e773-c81d-4259-8de7-6dd40658cb42" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"aa20e773-c81d-4259-8de7-6dd40658cb42"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aa20e773-c81d-4259-8de7-6dd40658cb42/publish" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aa20e773-c81d-4259-8de7-6dd40658cb42"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11453651150892707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 373ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11453651150892707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7940195949621615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7940195949621615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0b5011e8-7649-43c8-b9bb-2a2dbcd71ca4" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b5011e8-7649-43c8-b9bb-2a2dbcd71ca4"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8541524666951322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8541524666951322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8314481641912473@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8314481641912473@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/16531c55-19c0-4160-968b-262667583a45" for 127.0.0.1 at 2024-04-26 07:44:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"16531c55-19c0-4160-968b-262667583a45"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6535641524172294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6535641524172294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cceca27a-f35e-4448-9360-ab0e5ed3b18f" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cceca27a-f35e-4448-9360-ab0e5ed3b18f"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 195)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08596396100311565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08596396100311565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7112918211694251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7112918211694251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/52f906ad-1835-4403-a1ea-7172bf0ddd42" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"52f906ad-1835-4403-a1ea-7172bf0ddd42"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 367ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 369ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:44:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:44:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 373ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 370ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 185ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 371ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2122375226089931@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2122375226089931@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5992103182099137@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5992103182099137@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/6e02ceb4-5396-42a3-9266-062f429f8b02" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6e02ceb4-5396-42a3-9266-062f429f8b02"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/6e02ceb4-5396-42a3-9266-062f429f8b02/publish" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e02ceb4-5396-42a3-9266-062f429f8b02"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3d7e977c-3b55-4abb-b082-bb48d277ae65" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"3d7e977c-3b55-4abb-b082-bb48d277ae65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3d7e977c-3b55-4abb-b082-bb48d277ae65/publish" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3d7e977c-3b55-4abb-b082-bb48d277ae65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e4571a1-4910-4d9d-9b70-1c061662e212" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"6e4571a1-4910-4d9d-9b70-1c061662e212"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6e4571a1-4910-4d9d-9b70-1c061662e212/publish" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e4571a1-4910-4d9d-9b70-1c061662e212"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 133)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4908645300380917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4908645300380917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/24e357fc-2048-4db1-a5cd-7a31e7c37a30" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"24e357fc-2048-4db1-a5cd-7a31e7c37a30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/24e357fc-2048-4db1-a5cd-7a31e7c37a30/publish" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"24e357fc-2048-4db1-a5cd-7a31e7c37a30"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7739700756189718@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7739700756189718@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4758203421220384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4758203421220384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/56f70777-b296-446b-b199-5d28e4339c90" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"56f70777-b296-446b-b199-5d28e4339c90"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4724719574532553@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4724719574532553@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5932967131550394@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5932967131550394@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fdb845eb-b467-4a95-8de5-c5d0ffca0792" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"fdb845eb-b467-4a95-8de5-c5d0ffca0792"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fdb845eb-b467-4a95-8de5-c5d0ffca0792/publish" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb845eb-b467-4a95-8de5-c5d0ffca0792"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.029887816883961027@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.029887816883961027@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10984860055939882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10984860055939882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/84ce6aac-9a14-4220-b6c2-d50c2a2fe130" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"84ce6aac-9a14-4220-b6c2-d50c2a2fe130"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18095692898449978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 373ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18095692898449978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6308606563166053@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6308606563166053@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2cae1cce-1d05-45d3-affb-f2cf3245fb52" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2cae1cce-1d05-45d3-affb-f2cf3245fb52"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22553640740813086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22553640740813086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started GET "/users/me/announcements/fc65794b-337b-4a1d-8b02-9ace451623c2" for 127.0.0.1 at 2024-04-26 07:46:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc65794b-337b-4a1d-8b02-9ace451623c2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19349366436532467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19349366436532467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9752934959116425@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9752934959116425@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/0638950c-3197-4470-917b-d569697521fa" for 127.0.0.1 at 2024-04-26 07:46:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0638950c-3197-4470-917b-d569697521fa"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9432247720589071@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9432247720589071@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8358360040177917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8358360040177917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/578553cc-4c17-4de4-ab6b-588486400097" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"578553cc-4c17-4de4-ab6b-588486400097"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5801161317783456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5801161317783456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.056964724697166846@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.056964724697166846@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5f08e74b-9f3c-4874-b590-0c63798723b5" for 127.0.0.1 at 2024-04-26 07:46:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"5f08e74b-9f3c-4874-b590-0c63798723b5"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8761157811848306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8761157811848306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aa94f3cd-d4f2-4d6c-a964-091990f1266d" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"aa94f3cd-d4f2-4d6c-a964-091990f1266d"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40241704034579695@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40241704034579695@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4ca50463-d2ef-4f8f-8e9b-457a947a8e3b" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4ca50463-d2ef-4f8f-8e9b-457a947a8e3b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/4ca50463-d2ef-4f8f-8e9b-457a947a8e3b" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4ca50463-d2ef-4f8f-8e9b-457a947a8e3b"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5024963232199653@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5024963232199653@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9374591434886336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9374591434886336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef5a8eb2-692e-4acd-87ec-babb5f6aa132" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"ef5a8eb2-692e-4acd-87ec-babb5f6aa132"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 152)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18149011299754236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18149011299754236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7101062946060848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7101062946060848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/81a0acb0-0683-41df-a77e-c8a9c38d0ea0" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"81a0acb0-0683-41df-a77e-c8a9c38d0ea0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 372ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 369ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 185ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3726515210662711@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3726515210662711@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.26339480825781125@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.26339480825781125@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 188ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/ee6a9a9f-11f4-4931-84ba-48aab007a2af" for 127.0.0.1 at 2024-04-26 07:47:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee6a9a9f-11f4-4931-84ba-48aab007a2af"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8373792918162443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8373792918162443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.743839621874569@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.743839621874569@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e1e0d3ed-5426-4a32-9be2-17f65301e57e" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e1e0d3ed-5426-4a32-9be2-17f65301e57e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9695040548335276@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9695040548335276@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3663265457488587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3663265457488587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df9b1f9a-6129-44f8-864b-e04d0e522b9e" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"df9b1f9a-6129-44f8-864b-e04d0e522b9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/df9b1f9a-6129-44f8-864b-e04d0e522b9e/publish" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"df9b1f9a-6129-44f8-864b-e04d0e522b9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ee915643-d754-497a-9fa9-ee0421216476" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ee915643-d754-497a-9fa9-ee0421216476"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ee915643-d754-497a-9fa9-ee0421216476/publish" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee915643-d754-497a-9fa9-ee0421216476"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5b809845-54a1-4c76-9f0f-23ed9277ff85" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"5b809845-54a1-4c76-9f0f-23ed9277ff85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5b809845-54a1-4c76-9f0f-23ed9277ff85/publish" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b809845-54a1-4c76-9f0f-23ed9277ff85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19958485723731123@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 403ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19958485723731123@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a459e1f0-f9e3-442a-8c52-794d40f457f3" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a459e1f0-f9e3-442a-8c52-794d40f457f3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/a459e1f0-f9e3-442a-8c52-794d40f457f3/publish" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a459e1f0-f9e3-442a-8c52-794d40f457f3"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.963044977762817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.963044977762817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3990854587999395@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3990854587999395@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a6f9ef34-0cd2-42f7-9e2c-b13fa069a2a6" for 127.0.0.1 at 2024-04-26 07:47:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a6f9ef34-0cd2-42f7-9e2c-b13fa069a2a6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06395131496903783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06395131496903783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21879456296270094@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21879456296270094@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8ebdab05-b290-41b1-bf31-da686e4db431" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"8ebdab05-b290-41b1-bf31-da686e4db431"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8ebdab05-b290-41b1-bf31-da686e4db431/publish" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8ebdab05-b290-41b1-bf31-da686e4db431"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1780346353792598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 371ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1780346353792598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
Started GET "/users/me/announcements/33e68ce1-552e-482b-af7b-309991d9083d" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33e68ce1-552e-482b-af7b-309991d9083d"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 368ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 185ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 368ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 185ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9889113745050224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9889113745050224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6051876573619611@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6051876573619611@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/25afdfb5-edb8-4ba9-861c-86041a4fcabf" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"25afdfb5-edb8-4ba9-861c-86041a4fcabf"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37688579441359493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37688579441359493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
Started GET "/users/me/announcements/a0d37e7b-1797-4d5f-b188-6d44ebea2d01" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a0d37e7b-1797-4d5f-b188-6d44ebea2d01"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.010719033543964862@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.010719033543964862@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5031426870152327@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5031426870152327@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/634f7108-bd10-48c7-98b6-cffe4d2c167e" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"634f7108-bd10-48c7-98b6-cffe4d2c167e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/634f7108-bd10-48c7-98b6-cffe4d2c167e/publish" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"634f7108-bd10-48c7-98b6-cffe4d2c167e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33405037638145874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33405037638145874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.558047304003815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.558047304003815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/20564392-2c59-47a1-b444-aa92b9b7232a" for 127.0.0.1 at 2024-04-26 07:47:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"20564392-2c59-47a1-b444-aa92b9b7232a"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2780897800028127@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2780897800028127@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23733930768948408@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23733930768948408@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a5535ba1-73f1-4d49-ab6e-84238ec4805c" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"a5535ba1-73f1-4d49-ab6e-84238ec4805c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a5535ba1-73f1-4d49-ab6e-84238ec4805c/publish" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a5535ba1-73f1-4d49-ab6e-84238ec4805c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/06a81e7f-8069-4a6e-bb73-ccbd8b1301cc" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"06a81e7f-8069-4a6e-bb73-ccbd8b1301cc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/06a81e7f-8069-4a6e-bb73-ccbd8b1301cc/publish" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"06a81e7f-8069-4a6e-bb73-ccbd8b1301cc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bc0c94e6-6f2d-4a40-928b-151711977e92" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"bc0c94e6-6f2d-4a40-928b-151711977e92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bc0c94e6-6f2d-4a40-928b-151711977e92/publish" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bc0c94e6-6f2d-4a40-928b-151711977e92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 128)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48036599339367314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48036599339367314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:47:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3409321514446574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3409321514446574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bacb275d-64c4-408a-a560-28205f55e459" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bacb275d-64c4-408a-a560-28205f55e459"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23844621949193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23844621949193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d1160d0a-83ac-4ca1-91cf-a4ac1fd2bf23" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d1160d0a-83ac-4ca1-91cf-a4ac1fd2bf23"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d1160d0a-83ac-4ca1-91cf-a4ac1fd2bf23/publish" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d1160d0a-83ac-4ca1-91cf-a4ac1fd2bf23"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 369ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 214)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:01 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:01 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 366ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1133)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 288)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 365ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 367ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 184ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9705804429640529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9705804429640529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 192ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14260170254996007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14260170254996007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/c9c20b09-db52-4246-8f54-691a7cd422f2" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c9c20b09-db52-4246-8f54-691a7cd422f2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/c9c20b09-db52-4246-8f54-691a7cd422f2/publish" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c9c20b09-db52-4246-8f54-691a7cd422f2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1703786521959645@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1703786521959645@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/66a4d454-5d26-41ac-88bf-9ee6b61a7e07" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"66a4d454-5d26-41ac-88bf-9ee6b61a7e07"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/66a4d454-5d26-41ac-88bf-9ee6b61a7e07/publish" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"66a4d454-5d26-41ac-88bf-9ee6b61a7e07"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49206168399995576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49206168399995576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/6316897d-3cfc-4745-a7f0-7f496c69d919" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6316897d-3cfc-4745-a7f0-7f496c69d919"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4216505048025905@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4216505048025905@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5755955486841696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 370ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5755955486841696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8406ad9a-87a2-4fa3-a731-275f2f6b33c7" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"8406ad9a-87a2-4fa3-a731-275f2f6b33c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8406ad9a-87a2-4fa3-a731-275f2f6b33c7/publish" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8406ad9a-87a2-4fa3-a731-275f2f6b33c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e6380563-f52d-475f-baf4-7faa9971d41a" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"e6380563-f52d-475f-baf4-7faa9971d41a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e6380563-f52d-475f-baf4-7faa9971d41a/publish" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e6380563-f52d-475f-baf4-7faa9971d41a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/573ecfbe-d46e-45fb-88ff-cda0de22178d" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"573ecfbe-d46e-45fb-88ff-cda0de22178d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/573ecfbe-d46e-45fb-88ff-cda0de22178d/publish" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"573ecfbe-d46e-45fb-88ff-cda0de22178d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 128)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4691090650369162@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4691090650369162@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8360100495133151@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8360100495133151@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0ff03b36-c963-446a-8514-81aab83a0b88" for 127.0.0.1 at 2024-04-26 07:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0ff03b36-c963-446a-8514-81aab83a0b88"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6366393546723086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6366393546723086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39288617331404185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39288617331404185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a0486229-dff2-4c62-ad45-7de48e97f8fb" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a0486229-dff2-4c62-ad45-7de48e97f8fb"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5164643361725895@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5164643361725895@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:48:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3648841991586541@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:48:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3648841991586541@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:48:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d2ab9b4a-7dac-4949-8762-6dbf0031a687" for 127.0.0.1 at 2024-04-26 07:48:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d2ab9b4a-7dac-4949-8762-6dbf0031a687"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:49:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 1041)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5968745386770999@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 328)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5968745386770999@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12539723341115427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 364ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12539723341115427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/532da865-19e4-452f-8d89-cd6dd129eaa0" for 127.0.0.1 at 2024-04-26 07:49:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"532da865-19e4-452f-8d89-cd6dd129eaa0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5635912979473486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5635912979473486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5685043075858816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5685043075858816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/882b41d6-3edc-4550-ba8c-0d4c30ad300d" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"882b41d6-3edc-4550-ba8c-0d4c30ad300d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/882b41d6-3edc-4550-ba8c-0d4c30ad300d/publish" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"882b41d6-3edc-4550-ba8c-0d4c30ad300d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e1377dac-36f9-4249-bfb2-243aa6ad2acb" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"e1377dac-36f9-4249-bfb2-243aa6ad2acb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e1377dac-36f9-4249-bfb2-243aa6ad2acb/publish" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1377dac-36f9-4249-bfb2-243aa6ad2acb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6fb1ce86-9c4e-4de0-83b4-f4ddbc25f8e9" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"6fb1ce86-9c4e-4de0-83b4-f4ddbc25f8e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6fb1ce86-9c4e-4de0-83b4-f4ddbc25f8e9/publish" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6fb1ce86-9c4e-4de0-83b4-f4ddbc25f8e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.549887298758239@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.549887298758239@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d81cab67-06b5-48fb-bb18-9d9b09c3aee8" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d81cab67-06b5-48fb-bb18-9d9b09c3aee8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d81cab67-06b5-48fb-bb18-9d9b09c3aee8/publish" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d81cab67-06b5-48fb-bb18-9d9b09c3aee8"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:12 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12924136001549436@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12924136001549436@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9542244501970236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9542244501970236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5fb236d1-63f2-4acf-a61d-47fa95009321" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5fb236d1-63f2-4acf-a61d-47fa95009321"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8062187468361958@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8062187468361958@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 134)
Started PATCH "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
Started GET "/users/me/announcements/faa14e5f-f7c6-4f80-978e-2206bc6c341c" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"faa14e5f-f7c6-4f80-978e-2206bc6c341c"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8752509098182597@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8752509098182597@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.01739155464848341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.01739155464848341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f874f9b3-95e9-422a-b2c6-88e1601973ac" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f874f9b3-95e9-422a-b2c6-88e1601973ac"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33263684802379345@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33263684802379345@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06896155237101953@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06896155237101953@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a03ab372-9bde-41cd-9fba-a0722a5a427f" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a03ab372-9bde-41cd-9fba-a0722a5a427f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a03ab372-9bde-41cd-9fba-a0722a5a427f/publish" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a03ab372-9bde-41cd-9fba-a0722a5a427f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:49:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 366ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 210)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:49:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:49:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:50:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1041)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.526549564847535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 328)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.526549564847535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8310755872440075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8310755872440075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/a9e7bef2-b2eb-4207-85d5-88ac483710f3" for 127.0.0.1 at 2024-04-26 07:50:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a9e7bef2-b2eb-4207-85d5-88ac483710f3"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8490155402977637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8490155402977637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6947267617559022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6947267617559022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 214ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e0008af6-8795-4412-9a68-7dabd1a96c36" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e0008af6-8795-4412-9a68-7dabd1a96c36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/e0008af6-8795-4412-9a68-7dabd1a96c36/publish" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e0008af6-8795-4412-9a68-7dabd1a96c36"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14104219618947778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14104219618947778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6643043570403487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6643043570403487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0b0025c1-8163-4a13-a30a-f963e1f1c7f3" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0b0025c1-8163-4a13-a30a-f963e1f1c7f3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0b0025c1-8163-4a13-a30a-f963e1f1c7f3/publish" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b0025c1-8163-4a13-a30a-f963e1f1c7f3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d0b98378-53c2-4a19-8ddc-8709a6639e64" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"d0b98378-53c2-4a19-8ddc-8709a6639e64"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d0b98378-53c2-4a19-8ddc-8709a6639e64/publish" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d0b98378-53c2-4a19-8ddc-8709a6639e64"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/14fae54b-c039-499a-84ed-deb6098492bf" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"14fae54b-c039-499a-84ed-deb6098492bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/14fae54b-c039-499a-84ed-deb6098492bf/publish" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"14fae54b-c039-499a-84ed-deb6098492bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8045984787450842@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8045984787450842@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f2766ec2-4e47-4355-aca6-376ba6d44ba8" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f2766ec2-4e47-4355-aca6-376ba6d44ba8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f2766ec2-4e47-4355-aca6-376ba6d44ba8/publish" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f2766ec2-4e47-4355-aca6-376ba6d44ba8"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05197602065757945@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05197602065757945@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6562441643744501@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6562441643744501@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 187ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b9b58a1c-b59f-4d89-a3d4-799908a08321" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b9b58a1c-b59f-4d89-a3d4-799908a08321"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7213266027414305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7213266027414305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 134)
Started PATCH "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667/publish" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/5588d2cb-15f4-4302-bcec-a623e6dc2667" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5588d2cb-15f4-4302-bcec-a623e6dc2667"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.83584174265252@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.83584174265252@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.223081280306891@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.223081280306891@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/20b6f291-4cc8-41ed-969d-10876749e246" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"20b6f291-4cc8-41ed-969d-10876749e246"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 365ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5848186475984808@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5848186475984808@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5523167798768505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5523167798768505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/321d5e9c-8199-423a-9799-1f420bf90b8d" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"321d5e9c-8199-423a-9799-1f420bf90b8d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:39 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11087819805510857@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11087819805510857@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.850018738080155@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.850018738080155@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5fad61f2-c880-480e-9a9c-37d2e33f42ec" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5fad61f2-c880-480e-9a9c-37d2e33f42ec"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.805857003459603@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.805857003459603@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ea38b989-3f53-4b72-86b5-5aee71336ca0" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ea38b989-3f53-4b72-86b5-5aee71336ca0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements/ea38b989-3f53-4b72-86b5-5aee71336ca0/publish" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ea38b989-3f53-4b72-86b5-5aee71336ca0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5658766976788331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5658766976788331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8245865809743518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:42 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8245865809743518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:42 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8a851cce-05b6-4bb8-9faa-910e93115cb6" for 127.0.0.1 at 2024-04-26 07:50:42 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"8a851cce-05b6-4bb8-9faa-910e93115cb6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:42 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6269267489728737@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6269267489728737@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9/publish" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/1d3fab20-5012-4d93-846f-cffc4b9dd1e9" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d3fab20-5012-4d93-846f-cffc4b9dd1e9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46598772601443383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46598772601443383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8443857913571132@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8443857913571132@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/28371d56-c421-4d74-84e6-bc93ecbc8b5c" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"28371d56-c421-4d74-84e6-bc93ecbc8b5c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/28371d56-c421-4d74-84e6-bc93ecbc8b5c/publish" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"28371d56-c421-4d74-84e6-bc93ecbc8b5c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cdfa551d-de65-46a8-a264-7f2732825e6b" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"cdfa551d-de65-46a8-a264-7f2732825e6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cdfa551d-de65-46a8-a264-7f2732825e6b/publish" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cdfa551d-de65-46a8-a264-7f2732825e6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e581cce6-6be8-41d5-a9f7-5bd14153b89d" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"e581cce6-6be8-41d5-a9f7-5bd14153b89d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e581cce6-6be8-41d5-a9f7-5bd14153b89d/publish" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e581cce6-6be8-41d5-a9f7-5bd14153b89d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5495403167455707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5495403167455707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8205680093258758@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8205680093258758@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/213b457b-0625-4765-8919-a2c87e2d6155" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"213b457b-0625-4765-8919-a2c87e2d6155"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/213b457b-0625-4765-8919-a2c87e2d6155/publish" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"213b457b-0625-4765-8919-a2c87e2d6155"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:50:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 366ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 366ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:50:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 183ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:50:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.057999241175963445@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.057999241175963445@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8969441337244374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8969441337244374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/9fb90a87-dc6a-4cd5-9900-8946549cc819" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9fb90a87-dc6a-4cd5-9900-8946549cc819"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5046610729031841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 364ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5046610729031841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680/publish" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/86a63f86-85e9-4016-b168-4568bd5e2680" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a63f86-85e9-4016-b168-4568bd5e2680"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25585117029993487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25585117029993487@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31244850544391023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31244850544391023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8731c87d-f295-42eb-a5ea-2744dd31c819" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"8731c87d-f295-42eb-a5ea-2744dd31c819"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8731c87d-f295-42eb-a5ea-2744dd31c819/publish" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8731c87d-f295-42eb-a5ea-2744dd31c819"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3641192450788082@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:50 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3641192450788082@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b32bf6a4-deab-4b61-afe1-d5b0f0ab8661" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b32bf6a4-deab-4b61-afe1-d5b0f0ab8661"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/b32bf6a4-deab-4b61-afe1-d5b0f0ab8661/publish" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b32bf6a4-deab-4b61-afe1-d5b0f0ab8661"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9996930634704778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9996930634704778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4093493896927516@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4093493896927516@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f5f44eb1-b0c4-4d4f-9952-b1493c6e1ea7" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f5f44eb1-b0c4-4d4f-9952-b1493c6e1ea7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f5f44eb1-b0c4-4d4f-9952-b1493c6e1ea7/publish" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f5f44eb1-b0c4-4d4f-9952-b1493c6e1ea7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e1bd7f0-022a-448a-8ff7-1e7c43c556ff" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"6e1bd7f0-022a-448a-8ff7-1e7c43c556ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6e1bd7f0-022a-448a-8ff7-1e7c43c556ff/publish" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e1bd7f0-022a-448a-8ff7-1e7c43c556ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4b1d52c6-708e-4051-9233-fba468c26605" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"4b1d52c6-708e-4051-9233-fba468c26605"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4b1d52c6-708e-4051-9233-fba468c26605/publish" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4b1d52c6-708e-4051-9233-fba468c26605"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.047538272056318@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.047538272056318@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.784937761973402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.784937761973402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3d5a2421-4c9e-42f1-9712-ffc5bc7e3ce0" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3d5a2421-4c9e-42f1-9712-ffc5bc7e3ce0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6744754648882003@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6744754648882003@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 182ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49588923512706384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49588923512706384@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bb10b423-d8e1-4450-afc4-93b0e4783af8" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"bb10b423-d8e1-4450-afc4-93b0e4783af8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 182ms (ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 365ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:51:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:51:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:51:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8445878080135301@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 1191)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8445878080135301@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 483)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6847506119829746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 188)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6847506119829746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/42de1da7-831f-4130-9608-9dfb74014119" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"42de1da7-831f-4130-9608-9dfb74014119"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/42de1da7-831f-4130-9608-9dfb74014119/publish" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"42de1da7-831f-4130-9608-9dfb74014119"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09610549179375572@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 369ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09610549179375572@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617/publish" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/41e6eee7-d217-4ccf-b1a6-1fe31507e617" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e6eee7-d217-4ccf-b1a6-1fe31507e617"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40298602960095153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40298602960095153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6927646828523946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 367ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6927646828523946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/045354d3-0339-437f-a8ac-dce1a68c3b99" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"045354d3-0339-437f-a8ac-dce1a68c3b99"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/045354d3-0339-437f-a8ac-dce1a68c3b99/publish" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"045354d3-0339-437f-a8ac-dce1a68c3b99"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/939e3e3f-f5dc-47ab-8dd1-0d5a199d2259" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"939e3e3f-f5dc-47ab-8dd1-0d5a199d2259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/939e3e3f-f5dc-47ab-8dd1-0d5a199d2259/publish" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"939e3e3f-f5dc-47ab-8dd1-0d5a199d2259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ece416be-b072-4f8d-b1ca-368aec7db6eb" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"ece416be-b072-4f8d-b1ca-368aec7db6eb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ece416be-b072-4f8d-b1ca-368aec7db6eb/publish" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ece416be-b072-4f8d-b1ca-368aec7db6eb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7410228819525319@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7410228819525319@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4655affd-5b0f-4253-afa4-c63f796c44b8" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4655affd-5b0f-4253-afa4-c63f796c44b8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/4655affd-5b0f-4253-afa4-c63f796c44b8/publish" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4655affd-5b0f-4253-afa4-c63f796c44b8"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6631086188832529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 364ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6631086188832529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 186ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8734079663568596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8734079663568596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e04691e9-be37-40b3-8631-e552e47c41da" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e04691e9-be37-40b3-8631-e552e47c41da"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:34 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8296146565787583@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8296146565787583@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5092271964802288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5092271964802288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f50c52da-4ddd-4a3d-9c1e-f744fec44958" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f50c52da-4ddd-4a3d-9c1e-f744fec44958"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4581848991437354@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4581848991437354@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4303632217422453@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4303632217422453@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/359872cd-5171-4375-8e84-e035e8bcf0c8" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"359872cd-5171-4375-8e84-e035e8bcf0c8"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 365ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 184ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 366ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:37 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 365ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-26 07:52:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 368ms (ActiveRecord: 0.0ms | Allocations: 185)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 183ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 146)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 365ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-26 07:52:39 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 192ms (ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0788654945223577@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 1697)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0788654945223577@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46451514157629403@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46451514157629403@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 183)
Started GET "/users/me/announcements/c3ee3020-c44c-43ec-bdf3-3d5f4647cf25" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3ee3020-c44c-43ec-bdf3-3d5f4647cf25"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3519929636949014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3519929636949014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/423ae8c7-aa00-4946-9fd4-fce425f5eb69" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"423ae8c7-aa00-4946-9fd4-fce425f5eb69"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/423ae8c7-aa00-4946-9fd4-fce425f5eb69/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"423ae8c7-aa00-4946-9fd4-fce425f5eb69"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7182753782500025@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7182753782500025@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31030506986853856@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31030506986853856@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/0f5c42bd-e8ea-486f-ad12-695fcb8d98be" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0f5c42bd-e8ea-486f-ad12-695fcb8d98be"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10641654315013671@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10641654315013671@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7376963141321448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7376963141321448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3a9dce90-7919-492b-8487-604ab9641a53" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"3a9dce90-7919-492b-8487-604ab9641a53"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/3a9dce90-7919-492b-8487-604ab9641a53/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3a9dce90-7919-492b-8487-604ab9641a53"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10400754696040226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10400754696040226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
Started PATCH "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started POST "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/e284060c-5612-4402-af20-28164078bfcd" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e284060c-5612-4402-af20-28164078bfcd"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6382048528614113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6382048528614113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4813496606707619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4813496606707619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/e3220cb3-5ea2-4d92-ac02-0b0b9c2662b5" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e3220cb3-5ea2-4d92-ac02-0b0b9c2662b5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6331681862814105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6331681862814105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0855903678167198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0855903678167198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/d37970c4-2475-4dfa-b292-f777832fc83e" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"d37970c4-2475-4dfa-b292-f777832fc83e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d37970c4-2475-4dfa-b292-f777832fc83e/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d37970c4-2475-4dfa-b292-f777832fc83e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0404b255-c0ad-4598-b52c-b74683543140" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"0404b255-c0ad-4598-b52c-b74683543140"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0404b255-c0ad-4598-b52c-b74683543140/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0404b255-c0ad-4598-b52c-b74683543140"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/44179755-3a83-4f6c-ac2a-6ae16f26bf21" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"44179755-3a83-4f6c-ac2a-6ae16f26bf21"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/44179755-3a83-4f6c-ac2a-6ae16f26bf21/publish" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"44179755-3a83-4f6c-ac2a-6ae16f26bf21"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:15 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 144)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48825417380665825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48825417380665825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7588157368963728@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7588157368963728@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/985796dd-e18e-4578-850d-64a7bbc6d584" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"985796dd-e18e-4578-850d-64a7bbc6d584"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9607313409273628@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9607313409273628@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/cc0a1b3b-02fb-4fdd-a941-fbf2895acb85" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cc0a1b3b-02fb-4fdd-a941-fbf2895acb85"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9635535577725881@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9635535577725881@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4962085440481251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4962085440481251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/11845564-0da3-43cf-b2d7-fad4bfc390dd" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"11845564-0da3-43cf-b2d7-fad4bfc390dd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/11845564-0da3-43cf-b2d7-fad4bfc390dd/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"11845564-0da3-43cf-b2d7-fad4bfc390dd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4413648508518355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4413648508518355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07888814171211944@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07888814171211944@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8ffdb9a-5996-408b-8786-d4cd9d619144" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a8ffdb9a-5996-408b-8786-d4cd9d619144"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7071476208236838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7071476208236838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8664746468683072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8664746468683072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/82028706-3866-4910-a896-403441a700a0" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"82028706-3866-4910-a896-403441a700a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/82028706-3866-4910-a896-403441a700a0/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"82028706-3866-4910-a896-403441a700a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/68a167ea-48d1-450f-b512-f47f3ff2feeb" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"68a167ea-48d1-450f-b512-f47f3ff2feeb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/68a167ea-48d1-450f-b512-f47f3ff2feeb/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"68a167ea-48d1-450f-b512-f47f3ff2feeb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/506b25a5-0dc4-424b-98a6-90b31303dc0c" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"506b25a5-0dc4-424b-98a6-90b31303dc0c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/506b25a5-0dc4-424b-98a6-90b31303dc0c/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"506b25a5-0dc4-424b-98a6-90b31303dc0c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13177934271944014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13177934271944014@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3198770812008499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3198770812008499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/879bc5e0-e5b2-4673-b448-e85f29eff598" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"879bc5e0-e5b2-4673-b448-e85f29eff598"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5852795205329496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5852795205329496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/af8fdefd-fe3e-40e7-89eb-ad8b74dd74be" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"af8fdefd-fe3e-40e7-89eb-ad8b74dd74be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/af8fdefd-fe3e-40e7-89eb-ad8b74dd74be/publish" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"af8fdefd-fe3e-40e7-89eb-ad8b74dd74be"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-04-29 13:19:18 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4060535849929394@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4060535849929394@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48056580220702916@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48056580220702916@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/30d925db-b8a5-491a-909d-ccef2f3cf98c" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"30d925db-b8a5-491a-909d-ccef2f3cf98c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.04768024930155057@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.04768024930155057@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08194951637063919@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08194951637063919@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/62cc0942-2993-441b-a76f-a3f9a68b3983" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"62cc0942-2993-441b-a76f-a3f9a68b3983"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/62cc0942-2993-441b-a76f-a3f9a68b3983/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"62cc0942-2993-441b-a76f-a3f9a68b3983"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9655802510711547@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9655802510711547@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03095414852551126@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03095414852551126@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6c2f67da-82a3-4866-8d28-fda192ebe555" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6c2f67da-82a3-4866-8d28-fda192ebe555"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36942933364090413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36942933364090413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9294732175209821@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9294732175209821@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6a7c7eae-2aec-4b18-bd4b-634d5dace6c0" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6a7c7eae-2aec-4b18-bd4b-634d5dace6c0"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7993849125962158@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7993849125962158@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements/01529031-dac8-4f8e-bbbb-41b24ff846fa" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"01529031-dac8-4f8e-bbbb-41b24ff846fa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.179003893798809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.179003893798809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/53a0e0bf-8b6f-46e8-aaa8-bfea81a4b697" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"53a0e0bf-8b6f-46e8-aaa8-bfea81a4b697"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/53a0e0bf-8b6f-46e8-aaa8-bfea81a4b697/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"53a0e0bf-8b6f-46e8-aaa8-bfea81a4b697"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3715466878585061@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3715466878585061@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4744863185270386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4744863185270386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c1b7266d-2805-4e34-b9ae-d3bd5487a0a7" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"c1b7266d-2805-4e34-b9ae-d3bd5487a0a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c1b7266d-2805-4e34-b9ae-d3bd5487a0a7/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c1b7266d-2805-4e34-b9ae-d3bd5487a0a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6ff94f24-dc18-405f-87fc-10a5e0cdb8ee" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"6ff94f24-dc18-405f-87fc-10a5e0cdb8ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6ff94f24-dc18-405f-87fc-10a5e0cdb8ee/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6ff94f24-dc18-405f-87fc-10a5e0cdb8ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e3123477-e8e5-48fb-9d41-5e9d4c2f48e5" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"e3123477-e8e5-48fb-9d41-5e9d4c2f48e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e3123477-e8e5-48fb-9d41-5e9d4c2f48e5/publish" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e3123477-e8e5-48fb-9d41-5e9d4c2f48e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-02 09:15:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:23 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6359032383932465@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6359032383932465@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7719500318370975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7719500318370975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 184)
Started PATCH "/users/me/announcements/a31d10d9-6b6f-44bb-b647-350b834098d5" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"a31d10d9-6b6f-44bb-b647-350b834098d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/a31d10d9-6b6f-44bb-b647-350b834098d5/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a31d10d9-6b6f-44bb-b647-350b834098d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ed81cdd0-e942-4b54-8b05-a0e1c1e2784b" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ed81cdd0-e942-4b54-8b05-a0e1c1e2784b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ed81cdd0-e942-4b54-8b05-a0e1c1e2784b/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ed81cdd0-e942-4b54-8b05-a0e1c1e2784b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/39808449-6ffc-4f58-a394-81f2ee465cc3" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"39808449-6ffc-4f58-a394-81f2ee465cc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/39808449-6ffc-4f58-a394-81f2ee465cc3/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"39808449-6ffc-4f58-a394-81f2ee465cc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07241797734046707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07241797734046707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49591321076259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49591321076259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/775b8e11-8307-47a5-b849-572c2a61a073" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"775b8e11-8307-47a5-b849-572c2a61a073"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9128743489690357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9128743489690357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3936934249317898@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3936934249317898@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/32b2773c-59a3-49d4-a118-ab77a5dc8c80" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"32b2773c-59a3-49d4-a118-ab77a5dc8c80"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6872726042630712@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6872726042630712@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.798260812934642@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.798260812934642@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d49125f4-cf4b-4897-b11b-653ed66f1a91" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d49125f4-cf4b-4897-b11b-653ed66f1a91"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4914268310316443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4914268310316443@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/632883fd-5a02-4522-9a2c-b632468ea07e" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"632883fd-5a02-4522-9a2c-b632468ea07e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/632883fd-5a02-4522-9a2c-b632468ea07e/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"632883fd-5a02-4522-9a2c-b632468ea07e"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5195355362888763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5195355362888763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9940420453218386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9940420453218386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/81e573f2-1965-4f80-ac3c-7ea52ff17169" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"81e573f2-1965-4f80-ac3c-7ea52ff17169"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/81e573f2-1965-4f80-ac3c-7ea52ff17169/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"81e573f2-1965-4f80-ac3c-7ea52ff17169"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2235296865724522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2235296865724522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2/publish" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started GET "/users/me/announcements/9a07ea7c-5fc8-47a7-b18d-716abe97bfc2" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a07ea7c-5fc8-47a7-b18d-716abe97bfc2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6515385322915543@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6515385322915543@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4018379212120331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4018379212120331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 184)
Started PATCH "/users/me/announcements/1bb167ae-1367-4107-ad8a-8ca2d8357449" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1bb167ae-1367-4107-ad8a-8ca2d8357449"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5575156348388207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5575156348388207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9dd3cced-3907-4a76-8f66-f230dd9a61bf" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9dd3cced-3907-4a76-8f66-f230dd9a61bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements/9dd3cced-3907-4a76-8f66-f230dd9a61bf/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9dd3cced-3907-4a76-8f66-f230dd9a61bf"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5316764664615085@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5316764664615085@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18814209603739118@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18814209603739118@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e31837b8-249f-4cc2-9ce5-9b336c4f9309" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e31837b8-249f-4cc2-9ce5-9b336c4f9309"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8956639702009574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8956639702009574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements/f96b2d47-4573-4000-9890-9d74d7e9dda3" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f96b2d47-4573-4000-9890-9d74d7e9dda3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2250885241112196@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2250885241112196@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8469261218202019@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8469261218202019@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d0f6805b-cf1c-47ba-9bad-4375d684fa14" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d0f6805b-cf1c-47ba-9bad-4375d684fa14"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2363345179849482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2363345179849482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3713456176500717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3713456176500717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e5ea1c7c-ef2a-4b8f-9dba-65cf8b9131f1" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e5ea1c7c-ef2a-4b8f-9dba-65cf8b9131f1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e5ea1c7c-ef2a-4b8f-9dba-65cf8b9131f1/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e5ea1c7c-ef2a-4b8f-9dba-65cf8b9131f1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/af01aeb7-a29c-4619-8b24-aa7d7a4fd892" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"af01aeb7-a29c-4619-8b24-aa7d7a4fd892"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/af01aeb7-a29c-4619-8b24-aa7d7a4fd892/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"af01aeb7-a29c-4619-8b24-aa7d7a4fd892"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac7d2f57-057c-4603-8577-b741cac1dade" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"ac7d2f57-057c-4603-8577-b741cac1dade"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ac7d2f57-057c-4603-8577-b741cac1dade/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ac7d2f57-057c-4603-8577-b741cac1dade"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8448197650935393@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8448197650935393@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9284265955825327@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9284265955825327@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9dbca982-6bcb-4aa7-9b4c-bb96e425c8d5" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"9dbca982-6bcb-4aa7-9b4c-bb96e425c8d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9dbca982-6bcb-4aa7-9b4c-bb96e425c8d5/publish" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9dbca982-6bcb-4aa7-9b4c-bb96e425c8d5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:05:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20237655331797477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20237655331797477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8188318467026562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8188318467026562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/dfe97ac2-1b2d-4a11-9eca-e9e26f929516" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"dfe97ac2-1b2d-4a11-9eca-e9e26f929516"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6873059664321413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6873059664321413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4047497878136639@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4047497878136639@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/08f61b12-e1e8-46f5-a78f-fcf0acf652dd" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"08f61b12-e1e8-46f5-a78f-fcf0acf652dd"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39172877336914613@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39172877336914613@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/36bb8921-8b15-4a60-a96c-3e8276f72f4c" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"36bb8921-8b15-4a60-a96c-3e8276f72f4c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/36bb8921-8b15-4a60-a96c-3e8276f72f4c/publish" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"36bb8921-8b15-4a60-a96c-3e8276f72f4c"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3000507185218422@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3000507185218422@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1448193501854882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1448193501854882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/254d0904-d508-4c06-873d-752630cb61ec" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"254d0904-d508-4c06-873d-752630cb61ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/254d0904-d508-4c06-873d-752630cb61ec/publish" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"254d0904-d508-4c06-873d-752630cb61ec"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36533828127986634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36533828127986634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2030513500165564@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2030513500165564@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6d9bef7d-0ffe-4894-88ef-1534550be800" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6d9bef7d-0ffe-4894-88ef-1534550be800"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6d9bef7d-0ffe-4894-88ef-1534550be800/publish" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6d9bef7d-0ffe-4894-88ef-1534550be800"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2418c137-9617-41e8-9c6e-6c04d29cf0d1" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"2418c137-9617-41e8-9c6e-6c04d29cf0d1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2418c137-9617-41e8-9c6e-6c04d29cf0d1/publish" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2418c137-9617-41e8-9c6e-6c04d29cf0d1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/314c1a05-e4c5-46c7-9340-b29c7ba30080" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"314c1a05-e4c5-46c7-9340-b29c7ba30080"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/314c1a05-e4c5-46c7-9340-b29c7ba30080/publish" for 127.0.0.1 at 2024-05-05 15:14:30 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"314c1a05-e4c5-46c7-9340-b29c7ba30080"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8588700849078814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8588700849078814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313/publish" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
Started GET "/users/me/announcements/789d5e2c-27aa-4648-8ae1-ae116882a313" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"789d5e2c-27aa-4648-8ae1-ae116882a313"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17800545903169518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17800545903169518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9493996550870202@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9493996550870202@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/740a4f3c-bd34-4d20-ae5e-a654a7629d48" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"740a4f3c-bd34-4d20-ae5e-a654a7629d48"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:14:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 366)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7048762978734854@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7048762978734854@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1970153964703174@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1970153964703174@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/d15d78d9-3fdc-45cc-9033-9bf41adcdfcb" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"d15d78d9-3fdc-45cc-9033-9bf41adcdfcb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/d15d78d9-3fdc-45cc-9033-9bf41adcdfcb/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d15d78d9-3fdc-45cc-9033-9bf41adcdfcb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 160)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/82a64720-66c6-4496-a590-2d9008c4b39c" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"82a64720-66c6-4496-a590-2d9008c4b39c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/82a64720-66c6-4496-a590-2d9008c4b39c/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"82a64720-66c6-4496-a590-2d9008c4b39c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b64e918b-ecec-4643-8f7b-24ab6ebe8211" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"b64e918b-ecec-4643-8f7b-24ab6ebe8211"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b64e918b-ecec-4643-8f7b-24ab6ebe8211/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b64e918b-ecec-4643-8f7b-24ab6ebe8211"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5666392306787249@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5666392306787249@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.711524115820573@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.711524115820573@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8cd13401-660b-48cd-8c9c-65ff1e90edd4" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8cd13401-660b-48cd-8c9c-65ff1e90edd4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.397164444144673@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.397164444144673@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8269196754471513@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8269196754471513@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5500ef82-853b-491a-9ea2-4512684bf173" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5500ef82-853b-491a-9ea2-4512684bf173"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8551911830782124@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8551911830782124@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e1f8340-e89e-4da4-9ad6-5e5f0fc95ac9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17744231039090785@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17744231039090785@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6650361733673328@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6650361733673328@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1021af12-3bb0-42b9-94e2-8340b4e40bd1" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1021af12-3bb0-42b9-94e2-8340b4e40bd1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0887605654757263@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0887605654757263@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47249572194027967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47249572194027967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5e8bd1b9-28cf-469b-b772-ca4444ade4c6" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"5e8bd1b9-28cf-469b-b772-ca4444ade4c6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5e8bd1b9-28cf-469b-b772-ca4444ade4c6/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5e8bd1b9-28cf-469b-b772-ca4444ade4c6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2069490204417097@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2069490204417097@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/82f7a7b9-14b2-47c2-a9fa-882768fd6c61" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"82f7a7b9-14b2-47c2-a9fa-882768fd6c61"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/82f7a7b9-14b2-47c2-a9fa-882768fd6c61/publish" for 127.0.0.1 at 2024-05-05 15:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"82f7a7b9-14b2-47c2-a9fa-882768fd6c61"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6789302192902883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6789302192902883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8908046478531397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8908046478531397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/760e8d8a-ad5d-4e0c-a541-df7ee189f257" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"760e8d8a-ad5d-4e0c-a541-df7ee189f257"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7233973191669567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7233973191669567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6431231853105364@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6431231853105364@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a74dbf18-18b1-4b5b-bbab-3795c53dffe9" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a74dbf18-18b1-4b5b-bbab-3795c53dffe9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/a74dbf18-18b1-4b5b-bbab-3795c53dffe9/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a74dbf18-18b1-4b5b-bbab-3795c53dffe9"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3861986891678414@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3861986891678414@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.046936115795521816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.046936115795521816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9915c8c9-3550-4055-9454-9fb238837674" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"9915c8c9-3550-4055-9454-9fb238837674"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9915c8c9-3550-4055-9454-9fb238837674/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9915c8c9-3550-4055-9454-9fb238837674"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8d0cbbb-876b-4c1e-8dc7-9b18bae55aec" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a8d0cbbb-876b-4c1e-8dc7-9b18bae55aec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a8d0cbbb-876b-4c1e-8dc7-9b18bae55aec/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8d0cbbb-876b-4c1e-8dc7-9b18bae55aec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9ab2a8b2-b5d1-41e1-bb04-381af4773afb" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"9ab2a8b2-b5d1-41e1-bb04-381af4773afb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9ab2a8b2-b5d1-41e1-bb04-381af4773afb/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9ab2a8b2-b5d1-41e1-bb04-381af4773afb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9448460718651985@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9448460718651985@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7505186692482368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7505186692482368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/26d05013-c99c-41cf-aa23-9cd14793e423" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"26d05013-c99c-41cf-aa23-9cd14793e423"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7215522041176825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7215522041176825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f27b3dfb-7d1d-46c6-ba68-e4c95e52982f" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f27b3dfb-7d1d-46c6-ba68-e4c95e52982f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f27b3dfb-7d1d-46c6-ba68-e4c95e52982f/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f27b3dfb-7d1d-46c6-ba68-e4c95e52982f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5699199374848901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5699199374848901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1526155933489669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1526155933489669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4e5f90a6-26e4-401c-a5c9-34611f3b4259" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4e5f90a6-26e4-401c-a5c9-34611f3b4259"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8123752409581263@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8123752409581263@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302/publish" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/193af976-9d8c-40bb-b5f5-b3b5bacb5302" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"193af976-9d8c-40bb-b5f5-b3b5bacb5302"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:23:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3592565738868364@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3592565738868364@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/e184d85c-bd0f-4141-b929-3a782e0f963e" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e184d85c-bd0f-4141-b929-3a782e0f963e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/e184d85c-bd0f-4141-b929-3a782e0f963e/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e184d85c-bd0f-4141-b929-3a782e0f963e"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7675512381667412@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7675512381667412@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18379642446072286@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18379642446072286@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fe30a60a-6a6f-482d-8bad-709e0b6478f7" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"fe30a60a-6a6f-482d-8bad-709e0b6478f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/fe30a60a-6a6f-482d-8bad-709e0b6478f7/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fe30a60a-6a6f-482d-8bad-709e0b6478f7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6367391412852738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6367391412852738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6999806089499917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6999806089499917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6acc242f-ae41-4ebb-b189-d21513210c49" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6acc242f-ae41-4ebb-b189-d21513210c49"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.38665757150188884@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.38665757150188884@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 177)
Started GET "/users/me/announcements/9489d258-8942-4476-b4f8-d01e9deabef2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9489d258-8942-4476-b4f8-d01e9deabef2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2224063417794181@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2224063417794181@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3240758820690983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3240758820690983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5aa4771e-20df-4613-98b0-fbf01147bfb2" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"5aa4771e-20df-4613-98b0-fbf01147bfb2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5aa4771e-20df-4613-98b0-fbf01147bfb2/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5aa4771e-20df-4613-98b0-fbf01147bfb2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 127)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d63b3dc8-c8e4-4179-840a-71d1ab98232f" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"d63b3dc8-c8e4-4179-840a-71d1ab98232f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d63b3dc8-c8e4-4179-840a-71d1ab98232f/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d63b3dc8-c8e4-4179-840a-71d1ab98232f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 136)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fe8db89f-6120-437b-a90b-f25eece128f0" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"fe8db89f-6120-437b-a90b-f25eece128f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fe8db89f-6120-437b-a90b-f25eece128f0/publish" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fe8db89f-6120-437b-a90b-f25eece128f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 145)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5864780602258253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5864780602258253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48273321837018357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48273321837018357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/acc95877-fd7a-40bd-b439-97bf5ac4c5e4" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"acc95877-fd7a-40bd-b439-97bf5ac4c5e4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9719595799707346@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9719595799707346@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.42277956893771385@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.42277956893771385@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/53c58228-2d39-4780-9885-e33b12540209" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"53c58228-2d39-4780-9885-e33b12540209"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:24:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 202)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 366)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
PublishAnnouncementTest: test_user_announcement_search
------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4652440667924894@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4652440667924894@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/72e699b1-05ef-4b24-99f9-3f520b092c25" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"72e699b1-05ef-4b24-99f9-3f520b092c25"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.205797438444828@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.205797438444828@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14621607729679242@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14621607729679242@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/016f50b0-ed4b-4446-875c-03fe5d03a423" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"016f50b0-ed4b-4446-875c-03fe5d03a423"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/016f50b0-ed4b-4446-875c-03fe5d03a423/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"016f50b0-ed4b-4446-875c-03fe5d03a423"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d6efbcfe-0773-4046-9e3e-578776a90282" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"d6efbcfe-0773-4046-9e3e-578776a90282"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d6efbcfe-0773-4046-9e3e-578776a90282/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d6efbcfe-0773-4046-9e3e-578776a90282"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fd34c091-a7b5-42ad-b4d7-265431c2f174" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"fd34c091-a7b5-42ad-b4d7-265431c2f174"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fd34c091-a7b5-42ad-b4d7-265431c2f174/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd34c091-a7b5-42ad-b4d7-265431c2f174"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6469798509614185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6469798509614185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6717525999800824@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6717525999800824@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/dd9c8274-c614-4757-931f-2a608c2b32b5" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"dd9c8274-c614-4757-931f-2a608c2b32b5"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9279388844253644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9279388844253644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4423968871744475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4423968871744475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e14402f8-a646-4f6e-b514-53c88b8f3bda" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e14402f8-a646-4f6e-b514-53c88b8f3bda"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e14402f8-a646-4f6e-b514-53c88b8f3bda/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e14402f8-a646-4f6e-b514-53c88b8f3bda"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07419456912497102@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07419456912497102@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/e1db4e1b-4b1f-4a32-a8d8-833052cd766f" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1db4e1b-4b1f-4a32-a8d8-833052cd766f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6079176060625883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6079176060625883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/86a3d808-1d35-435d-b96c-b37d6f74fd93" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"86a3d808-1d35-435d-b96c-b37d6f74fd93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/86a3d808-1d35-435d-b96c-b37d6f74fd93/publish" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"86a3d808-1d35-435d-b96c-b37d6f74fd93"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.881285499433086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.881285499433086@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06125519919389166@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06125519919389166@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5e52cfb4-9c5b-43f2-8089-aa450de8f133" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5e52cfb4-9c5b-43f2-8089-aa450de8f133"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4616139901987678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4616139901987678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16476932397123867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16476932397123867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a88ca0f9-3423-4c21-a7e6-f07b4aa31fa7" for 127.0.0.1 at 2024-05-05 15:28:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a88ca0f9-3423-4c21-a7e6-f07b4aa31fa7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0379412491899509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0379412491899509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3014814009686885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3014814009686885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/1d191686-7f31-4207-b32c-bf045ccf98e2" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1d191686-7f31-4207-b32c-bf045ccf98e2"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6987831297360156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6987831297360156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6631398386488292@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6631398386488292@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d6c34329-b6a0-452b-bf69-5bcf6f682548" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"d6c34329-b6a0-452b-bf69-5bcf6f682548"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d6c34329-b6a0-452b-bf69-5bcf6f682548/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d6c34329-b6a0-452b-bf69-5bcf6f682548"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1328254288913665@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1328254288913665@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3388085145310742@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3388085145310742@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/963cb090-4586-48ae-8a30-0dfc609ca6e9" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"963cb090-4586-48ae-8a30-0dfc609ca6e9"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6640379780377712@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6640379780377712@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8bb96f46-3674-4f38-8f8d-692095b0f61d" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8bb96f46-3674-4f38-8f8d-692095b0f61d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/8bb96f46-3674-4f38-8f8d-692095b0f61d/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8bb96f46-3674-4f38-8f8d-692095b0f61d"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3563559407761244@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3563559407761244@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05864240668296539@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05864240668296539@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/728aa835-8ae3-4d5a-8348-57fdd07b0a4f" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"728aa835-8ae3-4d5a-8348-57fdd07b0a4f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7280351811457859@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7280351811457859@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5318440666416148@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5318440666416148@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5b94488c-c24d-45cb-9b74-ad1beda6c2b6" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"5b94488c-c24d-45cb-9b74-ad1beda6c2b6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5b94488c-c24d-45cb-9b74-ad1beda6c2b6/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b94488c-c24d-45cb-9b74-ad1beda6c2b6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/12583dfb-270c-4197-ad26-08101b9bb1d9" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"12583dfb-270c-4197-ad26-08101b9bb1d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/12583dfb-270c-4197-ad26-08101b9bb1d9/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"12583dfb-270c-4197-ad26-08101b9bb1d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/00ac6f41-0279-40e8-a740-7264ee21364f" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"00ac6f41-0279-40e8-a740-7264ee21364f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/00ac6f41-0279-40e8-a740-7264ee21364f/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"00ac6f41-0279-40e8-a740-7264ee21364f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13395383438695374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13395383438695374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3/publish" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/5745075c-a9db-4a9b-80f7-dc2de7f507a3" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5745075c-a9db-4a9b-80f7-dc2de7f507a3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5926360222162484@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5926360222162484@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3024a862-5664-48c7-a096-f3938430a854" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3024a862-5664-48c7-a096-f3938430a854"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6666261233776382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6666261233776382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/bb56f20f-cafd-449d-80f6-394b95cbf02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"bb56f20f-cafd-449d-80f6-394b95cbf02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.45995257759016817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.45995257759016817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.27671278968983803@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.27671278968983803@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d705785f-ae43-48ba-8b96-7b66a06fd549" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d705785f-ae43-48ba-8b96-7b66a06fd549"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6318916730807@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6318916730807@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b863fef4-7dcb-430c-82f0-abf9e6ef0346" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b863fef4-7dcb-430c-82f0-abf9e6ef0346"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/b863fef4-7dcb-430c-82f0-abf9e6ef0346/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b863fef4-7dcb-430c-82f0-abf9e6ef0346"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.41915574205724104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.41915574205724104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07268333361096224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07268333361096224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1f843e1f-4f8e-448b-88bc-a81caa9f6154" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1f843e1f-4f8e-448b-88bc-a81caa9f6154"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4493166902088954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4493166902088954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.453955971841155@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.453955971841155@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d7ba4b39-9307-4384-bbe4-a5576bb74c8f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d7ba4b39-9307-4384-bbe4-a5576bb74c8f"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4592714272067412@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4592714272067412@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4252449974953789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4252449974953789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f77d4903-1926-4b18-9045-08cc82854bb1" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f77d4903-1926-4b18-9045-08cc82854bb1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f77d4903-1926-4b18-9045-08cc82854bb1/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f77d4903-1926-4b18-9045-08cc82854bb1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 153)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/614d0476-d925-4ca0-a11d-61fab6c7c7da" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"614d0476-d925-4ca0-a11d-61fab6c7c7da"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/614d0476-d925-4ca0-a11d-61fab6c7c7da/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"614d0476-d925-4ca0-a11d-61fab6c7c7da"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c93c20c9-7f9c-431a-8aeb-8ad9194925d5" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"c93c20c9-7f9c-431a-8aeb-8ad9194925d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c93c20c9-7f9c-431a-8aeb-8ad9194925d5/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c93c20c9-7f9c-431a-8aeb-8ad9194925d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.710177019182849@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.710177019182849@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19de8026-c9d5-4eb9-ac7a-2cd0cbe3d02f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.043446455368964076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.043446455368964076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10629979960098757@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10629979960098757@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/17e9ebee-986d-4246-8f10-dfd6888e9980" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"17e9ebee-986d-4246-8f10-dfd6888e9980"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/17e9ebee-986d-4246-8f10-dfd6888e9980/publish" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"17e9ebee-986d-4246-8f10-dfd6888e9980"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:28:38 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1023)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4585282213549221@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 238)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4585282213549221@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4514281484416989@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4514281484416989@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/4a255c83-10cb-4f11-8d48-781af8354632" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"4a255c83-10cb-4f11-8d48-781af8354632"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/4a255c83-10cb-4f11-8d48-781af8354632/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4a255c83-10cb-4f11-8d48-781af8354632"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4664531239160904@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4664531239160904@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1674262513627568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1674262513627568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/30511186-32a1-484f-9e3b-8fc6cd286002" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"30511186-32a1-484f-9e3b-8fc6cd286002"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9652231801810723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9652231801810723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33910819099401357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33910819099401357@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f9d2d5e1-9256-47d1-85e8-6752ab8131a1" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f9d2d5e1-9256-47d1-85e8-6752ab8131a1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f9d2d5e1-9256-47d1-85e8-6752ab8131a1/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f9d2d5e1-9256-47d1-85e8-6752ab8131a1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e5889a6a-4166-417d-9bde-85a2954c81b1" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"e5889a6a-4166-417d-9bde-85a2954c81b1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e5889a6a-4166-417d-9bde-85a2954c81b1/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e5889a6a-4166-417d-9bde-85a2954c81b1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/21bf2cb1-caee-48a3-93dc-acb46bebd1d7" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"21bf2cb1-caee-48a3-93dc-acb46bebd1d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/21bf2cb1-caee-48a3-93dc-acb46bebd1d7/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"21bf2cb1-caee-48a3-93dc-acb46bebd1d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.013434557220948329@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.013434557220948329@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6347550334387009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6347550334387009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b684023d-d80b-4999-ba33-ef0ba591e7bc" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b684023d-d80b-4999-ba33-ef0ba591e7bc"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9308431185969761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9308431185969761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/0df700b0-e033-4ba5-9b27-b5b7713f4e03" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0df700b0-e033-4ba5-9b27-b5b7713f4e03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7754829265758515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7754829265758515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b60fada5-7d1c-4a5d-863e-3e7f476d347c" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b60fada5-7d1c-4a5d-863e-3e7f476d347c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/b60fada5-7d1c-4a5d-863e-3e7f476d347c/publish" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b60fada5-7d1c-4a5d-863e-3e7f476d347c"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29407102119096074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29407102119096074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9644184671781321@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9644184671781321@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1db485d6-8e83-4f02-9a57-2aebcf7d0af7" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1db485d6-8e83-4f02-9a57-2aebcf7d0af7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3898008521189852@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3898008521189852@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/cde37b36-d99d-4cc1-b66c-8e399ad0c19e" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cde37b36-d99d-4cc1-b66c-8e399ad0c19e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:29:27 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 202)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 366)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9038626291702987@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9038626291702987@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8670828625108354@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8670828625108354@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started GET "/users/me/announcements/4c22dc91-9299-4d70-a953-3f172c04f86d" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4c22dc91-9299-4d70-a953-3f172c04f86d"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5531390401774571@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5531390401774571@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.01135588428304024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.01135588428304024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23b06b69-7a1f-4e85-be9d-d541fb0cde0e" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"23b06b69-7a1f-4e85-be9d-d541fb0cde0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/23b06b69-7a1f-4e85-be9d-d541fb0cde0e/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23b06b69-7a1f-4e85-be9d-d541fb0cde0e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5825505727180678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5825505727180678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/e4291dec-e923-4f52-9668-27a896a52e30" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4291dec-e923-4f52-9668-27a896a52e30"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8770840249084132@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8770840249084132@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c67625d6-ddd3-47a1-821a-02574c2002ef" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c67625d6-ddd3-47a1-821a-02574c2002ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c67625d6-ddd3-47a1-821a-02574c2002ef/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c67625d6-ddd3-47a1-821a-02574c2002ef"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.821364636205637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.821364636205637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8234033470862676@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8234033470862676@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/20032f41-8f01-467f-bbe5-979d2e57d09c" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"20032f41-8f01-467f-bbe5-979d2e57d09c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10387924852903829@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10387924852903829@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34902478143673554@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34902478143673554@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cb0c3a16-3927-4c95-b22d-cb9b9c454c2b" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"cb0c3a16-3927-4c95-b22d-cb9b9c454c2b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.317704169076816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.317704169076816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0634175704008999@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0634175704008999@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/10adeeb5-f321-4b7c-847e-d34b89cc335a" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"10adeeb5-f321-4b7c-847e-d34b89cc335a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/10adeeb5-f321-4b7c-847e-d34b89cc335a/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"10adeeb5-f321-4b7c-847e-d34b89cc335a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/20be72da-cce0-4d8f-8999-3e50a45f90c8" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"20be72da-cce0-4d8f-8999-3e50a45f90c8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/20be72da-cce0-4d8f-8999-3e50a45f90c8/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"20be72da-cce0-4d8f-8999-3e50a45f90c8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/44dc7aad-b10a-4b86-9cb7-2e15ea94afa1" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"44dc7aad-b10a-4b86-9cb7-2e15ea94afa1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/44dc7aad-b10a-4b86-9cb7-2e15ea94afa1/publish" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"44dc7aad-b10a-4b86-9cb7-2e15ea94afa1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47491333565278127@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47491333565278127@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e32e682e-4fab-4919-b92c-fd68df9b3af8" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e32e682e-4fab-4919-b92c-fd68df9b3af8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:29:55 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.0ms | Allocations: 1136)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1526318624194294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1526318624194294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.27793921894153983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.27793921894153983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/e3a4847d-f8ed-4c55-9eed-4b0a09aaf3eb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e3a4847d-f8ed-4c55-9eed-4b0a09aaf3eb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/e3a4847d-f8ed-4c55-9eed-4b0a09aaf3eb/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e3a4847d-f8ed-4c55-9eed-4b0a09aaf3eb"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9288334000570955@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9288334000570955@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.00357161179199339@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.00357161179199339@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ea6d3da6-caa7-455d-a993-edfa60cd62cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ea6d3da6-caa7-455d-a993-edfa60cd62cb"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15384410024401762@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15384410024401762@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2659698880998106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2659698880998106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1930e22a-a6cb-4255-9eb8-811fe7201024" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"1930e22a-a6cb-4255-9eb8-811fe7201024"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1930e22a-a6cb-4255-9eb8-811fe7201024/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1930e22a-a6cb-4255-9eb8-811fe7201024"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a0500a00-c8c7-402b-9382-52a62109c928" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a0500a00-c8c7-402b-9382-52a62109c928"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a0500a00-c8c7-402b-9382-52a62109c928/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a0500a00-c8c7-402b-9382-52a62109c928"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2050055a-abe7-42e0-9d33-bbdf47c9952c" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"2050055a-abe7-42e0-9d33-bbdf47c9952c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2050055a-abe7-42e0-9d33-bbdf47c9952c/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2050055a-abe7-42e0-9d33-bbdf47c9952c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8165413739981495@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8165413739981495@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/a35b9d3f-e188-42b4-bf76-ba6b9698f7cb" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a35b9d3f-e188-42b4-bf76-ba6b9698f7cb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.179753721435168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.179753721435168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/518fe000-6af7-4759-aa14-1a94ad494e81" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"518fe000-6af7-4759-aa14-1a94ad494e81"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/518fe000-6af7-4759-aa14-1a94ad494e81/publish" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"518fe000-6af7-4759-aa14-1a94ad494e81"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7271857996801813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7271857996801813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2870979548342172@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2870979548342172@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/378525da-d7d3-4258-9b34-5e2f8983e194" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"378525da-d7d3-4258-9b34-5e2f8983e194"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03843605632730773@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03843605632730773@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37817045182926956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37817045182926956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/121ad0f3-5dc2-4f34-9486-c820ad0a900c" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"121ad0f3-5dc2-4f34-9486-c820ad0a900c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15807860061484302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15807860061484302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/e5d3dea2-f482-4956-8e2f-76657b50d549" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e5d3dea2-f482-4956-8e2f-76657b50d549"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:30:13 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6147786968828522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6147786968828522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5533046989154595@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5533046989154595@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/bf555799-e652-4ed9-92c9-55d8a936dde6" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bf555799-e652-4ed9-92c9-55d8a936dde6"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8109542934172428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8109542934172428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5147974803000535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5147974803000535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/61441ebe-d0e4-45e0-9c80-07220d5124f6" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"61441ebe-d0e4-45e0-9c80-07220d5124f6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6113361146567947@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6113361146567947@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
Started GET "/users/me/announcements/27d775aa-81e8-43ff-b967-f9600407c633" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"27d775aa-81e8-43ff-b967-f9600407c633"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3656171810345268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3656171810345268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07326190424780499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07326190424780499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5b571f2e-553b-4bcc-8296-016359688376" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5b571f2e-553b-4bcc-8296-016359688376"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9206523861542829@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9206523861542829@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08791609869947392@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08791609869947392@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/51391d8d-c337-4bf9-901a-eaa77a74cbbd" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"51391d8d-c337-4bf9-901a-eaa77a74cbbd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/51391d8d-c337-4bf9-901a-eaa77a74cbbd/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"51391d8d-c337-4bf9-901a-eaa77a74cbbd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ae2e0eff-5296-4e8d-83f8-265643748e07" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ae2e0eff-5296-4e8d-83f8-265643748e07"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ae2e0eff-5296-4e8d-83f8-265643748e07/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ae2e0eff-5296-4e8d-83f8-265643748e07"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/497a7086-09f5-45d4-b59b-a7da8d1bec00" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"497a7086-09f5-45d4-b59b-a7da8d1bec00"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/497a7086-09f5-45d4-b59b-a7da8d1bec00/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"497a7086-09f5-45d4-b59b-a7da8d1bec00"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3238035956226454@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3238035956226454@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3132530490114456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3132530490114456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5e9a5718-5f39-42ff-9ddf-de53ac687e54" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"5e9a5718-5f39-42ff-9ddf-de53ac687e54"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5e9a5718-5f39-42ff-9ddf-de53ac687e54/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5e9a5718-5f39-42ff-9ddf-de53ac687e54"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25515118103534196@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25515118103534196@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/04ef6f4b-037e-4c63-9c1c-fa2b9fc00ff1" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"04ef6f4b-037e-4c63-9c1c-fa2b9fc00ff1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/04ef6f4b-037e-4c63-9c1c-fa2b9fc00ff1/publish" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"04ef6f4b-037e-4c63-9c1c-fa2b9fc00ff1"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.613233360777055@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.613233360777055@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ec3f7464-275d-4632-99ed-9bff654fe992" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ec3f7464-275d-4632-99ed-9bff654fe992"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 243)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23994809670404937@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23994809670404937@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8831049843363165@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8831049843363165@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/0f312df2-e251-4f5e-bc37-78852a22285e" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0f312df2-e251-4f5e-bc37-78852a22285e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/0f312df2-e251-4f5e-bc37-78852a22285e/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0f312df2-e251-4f5e-bc37-78852a22285e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 160)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9c98b93b-7e59-46d7-b70d-b2ccb1cc58ba" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"9c98b93b-7e59-46d7-b70d-b2ccb1cc58ba"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9c98b93b-7e59-46d7-b70d-b2ccb1cc58ba/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9c98b93b-7e59-46d7-b70d-b2ccb1cc58ba"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f778d586-cb3d-4355-bf12-569952b3a688" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"f778d586-cb3d-4355-bf12-569952b3a688"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f778d586-cb3d-4355-bf12-569952b3a688/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f778d586-cb3d-4355-bf12-569952b3a688"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24069484900119154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24069484900119154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40074308652404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40074308652404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f1e561dd-6639-4cf3-8919-c009657345b2" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f1e561dd-6639-4cf3-8919-c009657345b2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9734875552801858@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9734875552801858@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09463727476136374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09463727476136374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6f1426d6-c624-4947-87aa-c8d96f882156" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"6f1426d6-c624-4947-87aa-c8d96f882156"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7905363196321867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7905363196321867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.41661143743492446@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.41661143743492446@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/95fd1f5f-5572-41a1-8ca7-f74c70d9fc47" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"95fd1f5f-5572-41a1-8ca7-f74c70d9fc47"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/95fd1f5f-5572-41a1-8ca7-f74c70d9fc47/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"95fd1f5f-5572-41a1-8ca7-f74c70d9fc47"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6195393703454367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6195393703454367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14959958455513334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14959958455513334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/52b925ff-24d5-4e85-8668-88d67c72dec3" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"52b925ff-24d5-4e85-8668-88d67c72dec3"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7098228067173464@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7098228067173464@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/4f81006a-5109-4f48-a3bf-75b56e063421" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f81006a-5109-4f48-a3bf-75b56e063421"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9963477666330096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9963477666330096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cbc7ef54-c641-4015-b31e-19e33c9584f0" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"cbc7ef54-c641-4015-b31e-19e33c9584f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/cbc7ef54-c641-4015-b31e-19e33c9584f0/publish" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cbc7ef54-c641-4015-b31e-19e33c9584f0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05984014811319427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05984014811319427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3d99e108-1e2d-4f37-a02f-a6768c622de5" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3d99e108-1e2d-4f37-a02f-a6768c622de5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 137)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.515631192752615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.515631192752615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/0659b23c-b8e7-4ab7-b7e1-f7d0248cf398" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0659b23c-b8e7-4ab7-b7e1-f7d0248cf398"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/0659b23c-b8e7-4ab7-b7e1-f7d0248cf398/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0659b23c-b8e7-4ab7-b7e1-f7d0248cf398"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9689183747492219@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9689183747492219@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7607500113335209@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7607500113335209@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/910eba59-d7ce-496d-b73e-ca1a25707590" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"910eba59-d7ce-496d-b73e-ca1a25707590"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9974883713479589@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9974883713479589@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06481963126425094@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06481963126425094@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4bf44405-6ed2-4d68-93cb-e8493a99b851" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4bf44405-6ed2-4d68-93cb-e8493a99b851"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14962790275663296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14962790275663296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.928870405387749@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.928870405387749@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/474957f2-909b-42e4-8515-24225434ed7f" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"474957f2-909b-42e4-8515-24225434ed7f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.32802666064058417@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.32802666064058417@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6559615161973607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6559615161973607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e2044f09-dfeb-42f5-afe3-f5f7059f1885" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e2044f09-dfeb-42f5-afe3-f5f7059f1885"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e2044f09-dfeb-42f5-afe3-f5f7059f1885/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e2044f09-dfeb-42f5-afe3-f5f7059f1885"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3619383876919563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3619383876919563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/a8962a79-70ea-4c5d-8803-3204b9ea159e" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8962a79-70ea-4c5d-8803-3204b9ea159e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7244720636593992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7244720636593992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5570594038877733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5570594038877733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/106fdcc9-2b27-4435-bd21-cc746b321cb5" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"106fdcc9-2b27-4435-bd21-cc746b321cb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/106fdcc9-2b27-4435-bd21-cc746b321cb5/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"106fdcc9-2b27-4435-bd21-cc746b321cb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cb2e6b8a-c5e3-41ef-a790-6722399010bd" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"cb2e6b8a-c5e3-41ef-a790-6722399010bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cb2e6b8a-c5e3-41ef-a790-6722399010bd/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb2e6b8a-c5e3-41ef-a790-6722399010bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/32517d57-1946-4f36-997d-60eb2b342ced" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"32517d57-1946-4f36-997d-60eb2b342ced"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/32517d57-1946-4f36-997d-60eb2b342ced/publish" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"32517d57-1946-4f36-997d-60eb2b342ced"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6677789885654525@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6677789885654525@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8d7acea-302c-401a-bb45-cc9595dc1821" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a8d7acea-302c-401a-bb45-cc9595dc1821"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:31:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4279779622730646@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4279779622730646@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/247a4e97-e991-4f7d-ad0a-eae38137aace" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"247a4e97-e991-4f7d-ad0a-eae38137aace"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 148)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8080319406414809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8080319406414809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
Started GET "/users/me/announcements/378e463c-ed60-4fb6-a978-bca675c88d36" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"378e463c-ed60-4fb6-a978-bca675c88d36"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7291861298258168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7291861298258168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7166351267615835@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7166351267615835@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4676ca5b-3cfc-4628-bf63-8ec0a399be2d" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"4676ca5b-3cfc-4628-bf63-8ec0a399be2d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4676ca5b-3cfc-4628-bf63-8ec0a399be2d/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4676ca5b-3cfc-4628-bf63-8ec0a399be2d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8904057420658471@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8904057420658471@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7360199595734044@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7360199595734044@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4787c5a1-749c-42c3-86ec-de4b3e8aaec1" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4787c5a1-749c-42c3-86ec-de4b3e8aaec1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4390983584489586@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4390983584489586@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5520604970887208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5520604970887208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/8e997d64-988b-43e8-b726-69d8e34d7c53" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e997d64-988b-43e8-b726-69d8e34d7c53"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.026917557780242185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.026917557780242185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fab6a7c1-28a8-465f-b655-5fe7396fe6d9" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"fab6a7c1-28a8-465f-b655-5fe7396fe6d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/fab6a7c1-28a8-465f-b655-5fe7396fe6d9/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fab6a7c1-28a8-465f-b655-5fe7396fe6d9"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5388422258041747@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5388422258041747@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9246720989972756@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9246720989972756@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1435f341-4a07-4e69-b94a-7d996eb1bb56" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1435f341-4a07-4e69-b94a-7d996eb1bb56"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21776339660945987@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21776339660945987@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39515097915977637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39515097915977637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f82a56ab-5882-40e0-9998-65b1cfe01247" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f82a56ab-5882-40e0-9998-65b1cfe01247"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f82a56ab-5882-40e0-9998-65b1cfe01247/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f82a56ab-5882-40e0-9998-65b1cfe01247"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3e26d9d1-7e87-4c6e-93b8-1667549d0259" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"3e26d9d1-7e87-4c6e-93b8-1667549d0259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3e26d9d1-7e87-4c6e-93b8-1667549d0259/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3e26d9d1-7e87-4c6e-93b8-1667549d0259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/ce179597-3f35-4783-9aa9-ec716fad565e" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"ce179597-3f35-4783-9aa9-ec716fad565e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ce179597-3f35-4783-9aa9-ec716fad565e/publish" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce179597-3f35-4783-9aa9-ec716fad565e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7091478132386948@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7091478132386948@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6514507315464617@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6514507315464617@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/2763741c-7d2c-496f-8557-709f5639a1e2" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2763741c-7d2c-496f-8557-709f5639a1e2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7694001010558924@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7694001010558924@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7058426474442485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7058426474442485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0d6da64e-6d3f-4025-962b-20f25d8be538" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0d6da64e-6d3f-4025-962b-20f25d8be538"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14649983803477729@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14649983803477729@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bff96034-742c-4b6b-91fe-89c086370fdd" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bff96034-742c-4b6b-91fe-89c086370fdd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bff96034-742c-4b6b-91fe-89c086370fdd/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bff96034-742c-4b6b-91fe-89c086370fdd"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8122683716370538@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8122683716370538@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5910321545664985@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5910321545664985@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/40c116aa-94eb-46c6-b357-e672fe1a1e11" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"40c116aa-94eb-46c6-b357-e672fe1a1e11"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7978397882138633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7978397882138633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.012555292360489467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.012555292360489467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/46083098-5586-4373-bb36-d6fb66a569b5" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"46083098-5586-4373-bb36-d6fb66a569b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/46083098-5586-4373-bb36-d6fb66a569b5/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"46083098-5586-4373-bb36-d6fb66a569b5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9968530875924756@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9968530875924756@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07911769882412956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07911769882412956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d0c0e99a-76ec-4725-b893-021523931b05" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"d0c0e99a-76ec-4725-b893-021523931b05"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d0c0e99a-76ec-4725-b893-021523931b05/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d0c0e99a-76ec-4725-b893-021523931b05"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c9e0d316-d3c3-4b20-b2e9-30a2173b2f51" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"c9e0d316-d3c3-4b20-b2e9-30a2173b2f51"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c9e0d316-d3c3-4b20-b2e9-30a2173b2f51/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c9e0d316-d3c3-4b20-b2e9-30a2173b2f51"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/45d039e5-8afb-4a8d-b658-89b436b967ab" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"45d039e5-8afb-4a8d-b658-89b436b967ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/45d039e5-8afb-4a8d-b658-89b436b967ab/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d039e5-8afb-4a8d-b658-89b436b967ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06926003670923764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06926003670923764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812/publish" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/351dc4de-ed59-463b-bccc-15db2767c812" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"351dc4de-ed59-463b-bccc-15db2767c812"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5165075726396106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5165075726396106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5df78ac4-d248-4cee-be6c-e1bdeb3017d4" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5df78ac4-d248-4cee-be6c-e1bdeb3017d4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 300)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 11ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:33:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9656367326972096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9656367326972096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7094708837501408@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7094708837501408@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/57806ff5-120f-4866-85a8-db514634daa5" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"57806ff5-120f-4866-85a8-db514634daa5"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1907203450743865@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1907203450743865@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 155)
Started GET "/users/me/announcements/3df3650b-9fe7-4814-8184-5da8e2db138b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3df3650b-9fe7-4814-8184-5da8e2db138b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06914402724825253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06914402724825253@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e2c85ed-a716-440f-830f-4b65547cf84d" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6e2c85ed-a716-440f-830f-4b65547cf84d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/6e2c85ed-a716-440f-830f-4b65547cf84d/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e2c85ed-a716-440f-830f-4b65547cf84d"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9882376700556501@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9882376700556501@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7530878081707979@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7530878081707979@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f2e431f0-7c26-4a07-92e5-b36379fc785b" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f2e431f0-7c26-4a07-92e5-b36379fc785b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f2e431f0-7c26-4a07-92e5-b36379fc785b/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f2e431f0-7c26-4a07-92e5-b36379fc785b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df836a80-e94b-4ee5-b471-eed4a76814f8" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"df836a80-e94b-4ee5-b471-eed4a76814f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/df836a80-e94b-4ee5-b471-eed4a76814f8/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"df836a80-e94b-4ee5-b471-eed4a76814f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bd7196a2-efb6-4162-97c4-14f7890f4bdb" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"bd7196a2-efb6-4162-97c4-14f7890f4bdb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bd7196a2-efb6-4162-97c4-14f7890f4bdb/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd7196a2-efb6-4162-97c4-14f7890f4bdb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6944972855368069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6944972855368069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1579251177130352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1579251177130352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e0603652-25e1-4a62-afd2-0d50bc5a8eb7" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e0603652-25e1-4a62-afd2-0d50bc5a8eb7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5579097859889195@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5579097859889195@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9745817856593133@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9745817856593133@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9af9f12a-7051-40d6-af92-61e714ebede8" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9af9f12a-7051-40d6-af92-61e714ebede8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3953703895747246@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3953703895747246@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.737488156910872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.737488156910872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/446ca725-a90c-4e92-bbfd-27490dbaa015" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"446ca725-a90c-4e92-bbfd-27490dbaa015"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/446ca725-a90c-4e92-bbfd-27490dbaa015/publish" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"446ca725-a90c-4e92-bbfd-27490dbaa015"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1867158804249125@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1867158804249125@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac760a9f-dfa0-4ae8-bfd6-b6354f53a2a5" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ac760a9f-dfa0-4ae8-bfd6-b6354f53a2a5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:34:17 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 299)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9071002478673913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9071002478673913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0721896018674476@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0721896018674476@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/users/me/announcements/b82948f5-3c8b-46d8-a90e-29f5b9f2ebeb" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b82948f5-3c8b-46d8-a90e-29f5b9f2ebeb"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6547864447539932@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6547864447539932@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11302626586851106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11302626586851106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e6c63054-7be7-4cd9-bda6-52cca5d78dbd" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e6c63054-7be7-4cd9-bda6-52cca5d78dbd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14628333875724764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14628333875724764@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.26194594097019275@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.26194594097019275@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0a9db975-7c49-4fcd-bb55-2c6ed3a267fe" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0a9db975-7c49-4fcd-bb55-2c6ed3a267fe"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5826562197041975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5826562197041975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.32837854543691536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.32837854543691536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8074991-614c-4454-bacf-c1c0b42169fa" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a8074991-614c-4454-bacf-c1c0b42169fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/a8074991-614c-4454-bacf-c1c0b42169fa/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8074991-614c-4454-bacf-c1c0b42169fa"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6141541959190508@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6141541959190508@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/42b9d06f-3b20-43cf-a557-b70d570b42f8" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"42b9d06f-3b20-43cf-a557-b70d570b42f8"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18948357767128488@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18948357767128488@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4822760213679652@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4822760213679652@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c99169a8-030d-4918-9f79-e91359db05e7" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"c99169a8-030d-4918-9f79-e91359db05e7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c99169a8-030d-4918-9f79-e91359db05e7/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c99169a8-030d-4918-9f79-e91359db05e7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8d74d78-6307-4ee8-ac02-e09d9222b7ee" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a8d74d78-6307-4ee8-ac02-e09d9222b7ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a8d74d78-6307-4ee8-ac02-e09d9222b7ee/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8d74d78-6307-4ee8-ac02-e09d9222b7ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ccb8e3bc-20c2-4c1c-808a-d995e5ea8105" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"ccb8e3bc-20c2-4c1c-808a-d995e5ea8105"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ccb8e3bc-20c2-4c1c-808a-d995e5ea8105/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ccb8e3bc-20c2-4c1c-808a-d995e5ea8105"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21107661238213848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21107661238213848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/47a9326b-9bff-4aae-b0f8-1b14443ec783" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"47a9326b-9bff-4aae-b0f8-1b14443ec783"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/47a9326b-9bff-4aae-b0f8-1b14443ec783/publish" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"47a9326b-9bff-4aae-b0f8-1b14443ec783"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20882706888955427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20882706888955427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b3238ccb-5a2f-409b-b973-3346d5822f0f" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b3238ccb-5a2f-409b-b973-3346d5822f0f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 300)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:36 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.650952350068043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.650952350068043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.27895768570444024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.27895768570444024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/ff2f3e03-86f4-4392-a992-6a79e8560fcd" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ff2f3e03-86f4-4392-a992-6a79e8560fcd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/ff2f3e03-86f4-4392-a992-6a79e8560fcd/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ff2f3e03-86f4-4392-a992-6a79e8560fcd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9374296609277034@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9374296609277034@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1505882603840767@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1505882603840767@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/53aaf3bc-903e-4375-8ee9-976fcbbf03bf" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"53aaf3bc-903e-4375-8ee9-976fcbbf03bf"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.055675915565433054@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.055675915565433054@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/643dce39-ea02-42ea-b056-0b7688a411aa" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"643dce39-ea02-42ea-b056-0b7688a411aa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8392245940403456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8392245940403456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4467010174664574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4467010174664574@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/058710e3-b6c1-4e20-a503-5644d28b0631" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"058710e3-b6c1-4e20-a503-5644d28b0631"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8054601907443114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8054601907443114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18624022998709555@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18624022998709555@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/93f8df6e-75a8-4e88-8908-99935c69e873" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"93f8df6e-75a8-4e88-8908-99935c69e873"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05964124868253995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05964124868253995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/75e045ca-e5e6-447b-8d15-fde307f9ed42" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"75e045ca-e5e6-447b-8d15-fde307f9ed42"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/75e045ca-e5e6-447b-8d15-fde307f9ed42/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"75e045ca-e5e6-447b-8d15-fde307f9ed42"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09710044268347084@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09710044268347084@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.28467034035589023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.28467034035589023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f2a095f2-d472-4cc2-8f9c-a537d370f9a7" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f2a095f2-d472-4cc2-8f9c-a537d370f9a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f2a095f2-d472-4cc2-8f9c-a537d370f9a7/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f2a095f2-d472-4cc2-8f9c-a537d370f9a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7e33e15d-438f-4127-83a3-4c5815d0ae38" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"7e33e15d-438f-4127-83a3-4c5815d0ae38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7e33e15d-438f-4127-83a3-4c5815d0ae38/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7e33e15d-438f-4127-83a3-4c5815d0ae38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fc0316e3-afe8-4b00-9d6f-af129d0b9cd2" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"fc0316e3-afe8-4b00-9d6f-af129d0b9cd2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fc0316e3-afe8-4b00-9d6f-af129d0b9cd2/publish" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc0316e3-afe8-4b00-9d6f-af129d0b9cd2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22231280792111718@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22231280792111718@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/79583a7a-167c-4712-b803-69d179582a5d" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"79583a7a-167c-4712-b803-69d179582a5d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:35:48 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 154)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.04127031877947962@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.04127031877947962@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/30d77a69-fcec-4cc5-9ab9-ffe8dd28f759" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"30d77a69-fcec-4cc5-9ab9-ffe8dd28f759"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/30d77a69-fcec-4cc5-9ab9-ffe8dd28f759/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"30d77a69-fcec-4cc5-9ab9-ffe8dd28f759"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08963509790409496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08963509790409496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9085605640017687@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9085605640017687@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3ccaf33d-37c6-4aba-a15b-49e78b7b8fe1" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3ccaf33d-37c6-4aba-a15b-49e78b7b8fe1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5613093366748302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5613093366748302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7eeced07-00c5-4ee0-9740-71a767b5cdb1" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"7eeced07-00c5-4ee0-9740-71a767b5cdb1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/7eeced07-00c5-4ee0-9740-71a767b5cdb1/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7eeced07-00c5-4ee0-9740-71a767b5cdb1"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.884507921835409@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.884507921835409@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07548061919920812@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07548061919920812@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5dc8c4cd-6265-44b9-bfcc-a6cb6d410b5d" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"5dc8c4cd-6265-44b9-bfcc-a6cb6d410b5d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5dc8c4cd-6265-44b9-bfcc-a6cb6d410b5d/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5dc8c4cd-6265-44b9-bfcc-a6cb6d410b5d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47875932047729397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47875932047729397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18783343244912198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18783343244912198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4ac9912f-c5a1-4246-8939-a8026564d27a" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4ac9912f-c5a1-4246-8939-a8026564d27a"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6264098650358237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6264098650358237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 117)
Started PATCH "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/33c11b57-9961-4f65-9268-ffd4e5a1a6ae" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"33c11b57-9961-4f65-9268-ffd4e5a1a6ae"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5586472638278256@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5586472638278256@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34052773625617827@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34052773625617827@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/71b39c6c-e030-4d92-b89b-6245a7ec6f47" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"71b39c6c-e030-4d92-b89b-6245a7ec6f47"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9901898051900314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9901898051900314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08679105627087458@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08679105627087458@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/82db5da1-2004-4b93-97b0-9686a5fdad5e" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"82db5da1-2004-4b93-97b0-9686a5fdad5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/82db5da1-2004-4b93-97b0-9686a5fdad5e/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"82db5da1-2004-4b93-97b0-9686a5fdad5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0781ed5b-fab3-4068-a9f0-70382248d221" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"0781ed5b-fab3-4068-a9f0-70382248d221"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0781ed5b-fab3-4068-a9f0-70382248d221/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0781ed5b-fab3-4068-a9f0-70382248d221"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3c0af15e-405d-457e-8d4b-6754ecd506cd" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"3c0af15e-405d-457e-8d4b-6754ecd506cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3c0af15e-405d-457e-8d4b-6754ecd506cd/publish" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3c0af15e-405d-457e-8d4b-6754ecd506cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:11 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4565758802780755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4565758802780755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/cfdf7384-e873-4c8d-b270-2fb7309317b2" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cfdf7384-e873-4c8d-b270-2fb7309317b2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 159)
Started POST "/users/me/announcements/cfdf7384-e873-4c8d-b270-2fb7309317b2/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cfdf7384-e873-4c8d-b270-2fb7309317b2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6263326250843171@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6263326250843171@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6539653953020437@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6539653953020437@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c32cab9f-bc27-4b0b-89d0-99e9170c53b1" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c32cab9f-bc27-4b0b-89d0-99e9170c53b1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12761941698781776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12761941698781776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6c65637c-ed16-4476-84b9-de3960883b25" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6c65637c-ed16-4476-84b9-de3960883b25"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/6c65637c-ed16-4476-84b9-de3960883b25/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6c65637c-ed16-4476-84b9-de3960883b25"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9925849580932696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9925849580932696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 117)
Started PATCH "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/66571aad-18f5-449a-a4a7-5b2dc8d1635e" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"66571aad-18f5-449a-a4a7-5b2dc8d1635e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16079453943530964@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16079453943530964@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.460884948629554@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.460884948629554@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/88dbab40-23f2-4f84-9551-843c65a9321a" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"88dbab40-23f2-4f84-9551-843c65a9321a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5640987649915878@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5640987649915878@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.28880327000458916@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.28880327000458916@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e56c3316-c7d2-4183-8827-c33bc1b89b1b" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e56c3316-c7d2-4183-8827-c33bc1b89b1b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e56c3316-c7d2-4183-8827-c33bc1b89b1b/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e56c3316-c7d2-4183-8827-c33bc1b89b1b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f80ede46-bfe5-4d29-9d0d-763413ad7f90" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f80ede46-bfe5-4d29-9d0d-763413ad7f90"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f80ede46-bfe5-4d29-9d0d-763413ad7f90/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f80ede46-bfe5-4d29-9d0d-763413ad7f90"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d14fbd96-e14b-487c-854d-ae35d4acfb31" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d14fbd96-e14b-487c-854d-ae35d4acfb31"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d14fbd96-e14b-487c-854d-ae35d4acfb31/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d14fbd96-e14b-487c-854d-ae35d4acfb31"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31827398756041114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31827398756041114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3724886895443895@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3724886895443895@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b9a506fe-b7e0-471a-92f0-ba75c5d304ae" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b9a506fe-b7e0-471a-92f0-ba75c5d304ae"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5670761237675825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5670761237675825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23997391384550493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23997391384550493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/65854a35-249b-4c2e-9a13-0d188093696b" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"65854a35-249b-4c2e-9a13-0d188093696b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/65854a35-249b-4c2e-9a13-0d188093696b/publish" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"65854a35-249b-4c2e-9a13-0d188093696b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:36:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 356)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5095489810824361@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5095489810824361@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/9cfa18ee-6491-44ee-a47a-9dbfd21679c7" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9cfa18ee-6491-44ee-a47a-9dbfd21679c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 147)
Started POST "/users/me/announcements/9cfa18ee-6491-44ee-a47a-9dbfd21679c7/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9cfa18ee-6491-44ee-a47a-9dbfd21679c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.043625954457673366@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.043625954457673366@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2840641683124163@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2840641683124163@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2db7bcf8-1903-4e70-8cfd-cbe591042350" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2db7bcf8-1903-4e70-8cfd-cbe591042350"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8444840625586836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8444840625586836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.015275076828537792@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.015275076828537792@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3b3045a0-2e62-4af0-8690-ac67f39ec079" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3b3045a0-2e62-4af0-8690-ac67f39ec079"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14946870610963692@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14946870610963692@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7703192185433679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7703192185433679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e4af7512-7676-4d73-ba1e-8d9a22d1d173" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e4af7512-7676-4d73-ba1e-8d9a22d1d173"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/e4af7512-7676-4d73-ba1e-8d9a22d1d173/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4af7512-7676-4d73-ba1e-8d9a22d1d173"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a54b36f1-12ca-4af8-a393-ee812107d22e" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a54b36f1-12ca-4af8-a393-ee812107d22e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a54b36f1-12ca-4af8-a393-ee812107d22e/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a54b36f1-12ca-4af8-a393-ee812107d22e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1b663da0-b8f5-456e-ab4c-f3c66a7b829b" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"1b663da0-b8f5-456e-ab4c-f3c66a7b829b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1b663da0-b8f5-456e-ab4c-f3c66a7b829b/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1b663da0-b8f5-456e-ab4c-f3c66a7b829b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.513093544792098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.513093544792098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9483452060286032@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9483452060286032@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/63fa9448-95fc-4815-8194-49a809f0c9fc" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"63fa9448-95fc-4815-8194-49a809f0c9fc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6471947145893704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6471947145893704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/45d18532-a88d-44f5-b4ce-e3a88922613a" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45d18532-a88d-44f5-b4ce-e3a88922613a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5361148591569214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5361148591569214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/897d1729-7e83-4eb4-8aa2-459f9e54312e" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"897d1729-7e83-4eb4-8aa2-459f9e54312e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/897d1729-7e83-4eb4-8aa2-459f9e54312e/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"897d1729-7e83-4eb4-8aa2-459f9e54312e"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36684446691845074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36684446691845074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 8ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8718265058725199@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8718265058725199@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23ce9f93-bf52-4e50-a0c2-52221d60b27c" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"23ce9f93-bf52-4e50-a0c2-52221d60b27c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/23ce9f93-bf52-4e50-a0c2-52221d60b27c/publish" for 127.0.0.1 at 2024-05-05 15:36:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23ce9f93-bf52-4e50-a0c2-52221d60b27c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06270604906409716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06270604906409716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/3b340a9e-be5e-4c93-ad13-3e178990c497" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3b340a9e-be5e-4c93-ad13-3e178990c497"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements/3b340a9e-be5e-4c93-ad13-3e178990c497/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3b340a9e-be5e-4c93-ad13-3e178990c497"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8586327001692176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8586327001692176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9012826697465844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9012826697465844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e0f7af60-da25-463e-98ae-b497e7db5f80" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e0f7af60-da25-463e-98ae-b497e7db5f80"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/e0f7af60-da25-463e-98ae-b497e7db5f80/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e0f7af60-da25-463e-98ae-b497e7db5f80"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43447563205387496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43447563205387496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/4246033b-c959-48b6-be02-fc2ba552c1e3" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4246033b-c959-48b6-be02-fc2ba552c1e3"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03153417206013931@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03153417206013931@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8457026229419484@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8457026229419484@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a3fc19ea-551e-45b2-b623-4d618192ed35" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"a3fc19ea-551e-45b2-b623-4d618192ed35"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a3fc19ea-551e-45b2-b623-4d618192ed35/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a3fc19ea-551e-45b2-b623-4d618192ed35"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09f5f05a-eec0-4003-ab36-563d19ca8c1f" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"09f5f05a-eec0-4003-ab36-563d19ca8c1f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/09f5f05a-eec0-4003-ab36-563d19ca8c1f/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"09f5f05a-eec0-4003-ab36-563d19ca8c1f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d2ae6729-5ebb-4b42-a567-055277cb3efb" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d2ae6729-5ebb-4b42-a567-055277cb3efb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d2ae6729-5ebb-4b42-a567-055277cb3efb/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d2ae6729-5ebb-4b42-a567-055277cb3efb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9536238625528339@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9536238625528339@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7835627479220779@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7835627479220779@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9b199f6e-f98f-4fe1-b298-6738b2b0fbd4" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9b199f6e-f98f-4fe1-b298-6738b2b0fbd4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4985454953286992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4985454953286992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.045254620548839664@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.045254620548839664@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8a59636a-b529-4a2e-ac9a-eee97cafe330" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8a59636a-b529-4a2e-ac9a-eee97cafe330"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2812147274119652@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2812147274119652@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f61753f3-10f4-49ea-8f3a-1b33b5cd2921" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f61753f3-10f4-49ea-8f3a-1b33b5cd2921"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f61753f3-10f4-49ea-8f3a-1b33b5cd2921/publish" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f61753f3-10f4-49ea-8f3a-1b33b5cd2921"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6706857774546084@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6706857774546084@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24345528837918662@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24345528837918662@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/8b0a6133-dee6-4f80-9b00-0447bad96aea" for 127.0.0.1 at 2024-05-05 15:37:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8b0a6133-dee6-4f80-9b00-0447bad96aea"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5962242456089466@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5962242456089466@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24881536665831383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24881536665831383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/850eebba-ae81-4b81-ae6a-20404a2710a2" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"850eebba-ae81-4b81-ae6a-20404a2710a2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.870761935162509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.870761935162509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6a968a35-464d-4aa8-9ebb-0b1cb97d1242" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6a968a35-464d-4aa8-9ebb-0b1cb97d1242"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6a968a35-464d-4aa8-9ebb-0b1cb97d1242/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6a968a35-464d-4aa8-9ebb-0b1cb97d1242"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33275104706858494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33275104706858494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6915673906150391@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6915673906150391@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b9439066-ad18-4aaf-b0a1-5587b84828de" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"b9439066-ad18-4aaf-b0a1-5587b84828de"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b9439066-ad18-4aaf-b0a1-5587b84828de/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b9439066-ad18-4aaf-b0a1-5587b84828de"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.030853336013532018@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.030853336013532018@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8558204092905276@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8558204092905276@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2882888a-4f7d-41c6-951b-ea2f859b0350" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2882888a-4f7d-41c6-951b-ea2f859b0350"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6415141822092231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6415141822092231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37156132446691914@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37156132446691914@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a7c21970-2791-4ec6-aeb7-13e4c070b4ed" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"a7c21970-2791-4ec6-aeb7-13e4c070b4ed"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a7c21970-2791-4ec6-aeb7-13e4c070b4ed/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7c21970-2791-4ec6-aeb7-13e4c070b4ed"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7ce752ae-4b96-4c9c-84dc-3078d3ed9e9d" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"7ce752ae-4b96-4c9c-84dc-3078d3ed9e9d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7ce752ae-4b96-4c9c-84dc-3078d3ed9e9d/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7ce752ae-4b96-4c9c-84dc-3078d3ed9e9d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/35637354-12a9-4418-8d9a-09deb3c8926c" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"35637354-12a9-4418-8d9a-09deb3c8926c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/35637354-12a9-4418-8d9a-09deb3c8926c/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"35637354-12a9-4418-8d9a-09deb3c8926c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3813751790191521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3813751790191521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2202175368483481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2202175368483481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/44d313b8-cc02-4ba9-80a5-6bd2840656e4" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"44d313b8-cc02-4ba9-80a5-6bd2840656e4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6907479492863502@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6907479492863502@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/69db4fd7-591b-4c0e-ae31-054be009922a" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"69db4fd7-591b-4c0e-ae31-054be009922a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2114729829942701@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2114729829942701@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dc40ec46-5fbc-4be7-86a4-5b5faa8701f7" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-63", "content"=>"content-98", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"dc40ec46-5fbc-4be7-86a4-5b5faa8701f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements/dc40ec46-5fbc-4be7-86a4-5b5faa8701f7/publish" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dc40ec46-5fbc-4be7-86a4-5b5faa8701f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:37:46 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9871046692344612@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9871046692344612@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.77868581443291@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.77868581443291@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/ea87bb46-74d1-405f-9576-407a902b3af1" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ea87bb46-74d1-405f-9576-407a902b3af1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/ea87bb46-74d1-405f-9576-407a902b3af1/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ea87bb46-74d1-405f-9576-407a902b3af1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9238675667665781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9238675667665781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/0b30eaa5-c276-4865-bff2-a8f458e99c0b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b30eaa5-c276-4865-bff2-a8f458e99c0b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24157348884499785@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24157348884499785@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23575985516506226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23575985516506226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a2999869-a61e-4012-9d43-6fccfd5727c6" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"a2999869-a61e-4012-9d43-6fccfd5727c6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a2999869-a61e-4012-9d43-6fccfd5727c6/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a2999869-a61e-4012-9d43-6fccfd5727c6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4dd34d08-1903-4890-816b-53ac15f6e64f" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"4dd34d08-1903-4890-816b-53ac15f6e64f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4dd34d08-1903-4890-816b-53ac15f6e64f/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4dd34d08-1903-4890-816b-53ac15f6e64f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0c4fa670-0112-4427-964b-8092b9410a98" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"0c4fa670-0112-4427-964b-8092b9410a98"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0c4fa670-0112-4427-964b-8092b9410a98/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0c4fa670-0112-4427-964b-8092b9410a98"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0013831123348246877@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0013831123348246877@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9c0563c3-9315-4763-a7c0-1dd19be0e296" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9c0563c3-9315-4763-a7c0-1dd19be0e296"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/9c0563c3-9315-4763-a7c0-1dd19be0e296/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9c0563c3-9315-4763-a7c0-1dd19be0e296"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3959250070661632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3959250070661632@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17884308879746735@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17884308879746735@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/09add72c-fa8e-4f49-b1f3-4381a4482b1b" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"09add72c-fa8e-4f49-b1f3-4381a4482b1b"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7542997283215975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7542997283215975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44416556758277514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44416556758277514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/da235300-86c9-422e-8290-819a6eb57b26" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"da235300-86c9-422e-8290-819a6eb57b26"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6812552431856072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6812552431856072@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8980928912672294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8980928912672294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c4097dcf-07ad-4e0a-b55e-a59dd46ab8dd" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c4097dcf-07ad-4e0a-b55e-a59dd46ab8dd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.526538452498975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.526538452498975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7eebeb7c-6e63-4083-8053-8f0bd8e8f7e3" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-649", "content"=>"content-684", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"7eebeb7c-6e63-4083-8053-8f0bd8e8f7e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 143)
Started POST "/users/me/announcements/7eebeb7c-6e63-4083-8053-8f0bd8e8f7e3/publish" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7eebeb7c-6e63-4083-8053-8f0bd8e8f7e3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:38:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
PublishAnnouncementTest: test_announcement_search
-------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.30321125978832997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.30321125978832997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/f5a04162-fe91-40ce-b39d-4a474631a0df" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-60", "content"=>"content-318", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"f5a04162-fe91-40ce-b39d-4a474631a0df"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements/f5a04162-fe91-40ce-b39d-4a474631a0df/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f5a04162-fe91-40ce-b39d-4a474631a0df"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 123)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9791447337869518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9791447337869518@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11072070672565704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11072070672565704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/57cf2e23-d9f6-4ac6-8919-74e30b781795" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"57cf2e23-d9f6-4ac6-8919-74e30b781795"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6802627505875221@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6802627505875221@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6201044858271467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6201044858271467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0da1d76b-a543-4acd-8151-e431f067eb32" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"0da1d76b-a543-4acd-8151-e431f067eb32"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.897498144118087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.897498144118087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.839793612283605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.839793612283605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/909ef9b1-0bbd-4799-8d2b-9e9dcc04f217" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"909ef9b1-0bbd-4799-8d2b-9e9dcc04f217"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4422130865301708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4422130865301708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3864606019568875@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3864606019568875@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b1bd81ce-4a29-4c49-9557-8a4ca4f106fd" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"b1bd81ce-4a29-4c49-9557-8a4ca4f106fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b1bd81ce-4a29-4c49-9557-8a4ca4f106fd/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b1bd81ce-4a29-4c49-9557-8a4ca4f106fd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31196107638822335@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31196107638822335@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a312cf63-d8f4-4f1e-8001-55163ed4dcab" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a312cf63-d8f4-4f1e-8001-55163ed4dcab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/a312cf63-d8f4-4f1e-8001-55163ed4dcab/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a312cf63-d8f4-4f1e-8001-55163ed4dcab"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7984416873594505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7984416873594505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 117)
Started PATCH "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/ec9aab01-0e51-4e72-8026-5b6f0e7ccffa" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec9aab01-0e51-4e72-8026-5b6f0e7ccffa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.42525084519144074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.42525084519144074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8609379387417677@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8609379387417677@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dd5d9d10-4e2d-436d-ae1c-03195def05b3" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"dd5d9d10-4e2d-436d-ae1c-03195def05b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/dd5d9d10-4e2d-436d-ae1c-03195def05b3/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dd5d9d10-4e2d-436d-ae1c-03195def05b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/66720423-c423-49dd-ab79-e4bbefe20128" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"66720423-c423-49dd-ab79-e4bbefe20128"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/66720423-c423-49dd-ab79-e4bbefe20128/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"66720423-c423-49dd-ab79-e4bbefe20128"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d71b2ead-2aa3-4701-94d5-ad10401eb293" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d71b2ead-2aa3-4701-94d5-ad10401eb293"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/d71b2ead-2aa3-4701-94d5-ad10401eb293/publish" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d71b2ead-2aa3-4701-94d5-ad10401eb293"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-05 15:38:09 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement
--------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3994073126693306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3994073126693306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/5e05f349-c706-4a3d-b921-6cedffa71f70" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-232", "content"=>"content-200", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5e05f349-c706-4a3d-b921-6cedffa71f70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 154)
Started POST "/users/me/announcements/5e05f349-c706-4a3d-b921-6cedffa71f70/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5e05f349-c706-4a3d-b921-6cedffa71f70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 133)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6598708657694934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6598708657694934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3b53aab3-a069-48b6-8ccc-a3ef3804c12e" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"3b53aab3-a069-48b6-8ccc-a3ef3804c12e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c6b4fb48-ad62-4bed-a6c5-46176d35fa14" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"c6b4fb48-ad62-4bed-a6c5-46176d35fa14"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09b5d49b-a3a5-4688-8072-2c421544b2f7" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"09b5d49b-a3a5-4688-8072-2c421544b2f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9632471443137497@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9632471443137497@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/56906207-3bf0-460f-83d6-b70bdc1aff6a" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"56906207-3bf0-460f-83d6-b70bdc1aff6a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.30722655100259766@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.30722655100259766@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8348408629140442@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8348408629140442@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3585a07f-7039-4f5d-bc94-9bc9faccd130" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3585a07f-7039-4f5d-bc94-9bc9faccd130"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6979981702853821@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6979981702853821@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6391566209136889@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6391566209136889@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1b485e38-95b1-44f9-9234-d4a2f5ebfef6" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"1b485e38-95b1-44f9-9234-d4a2f5ebfef6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1b485e38-95b1-44f9-9234-d4a2f5ebfef6/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1b485e38-95b1-44f9-9234-d4a2f5ebfef6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6918047472413873@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6918047472413873@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7479322960822464@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7479322960822464@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/28159b2c-6b43-4bf2-9228-e14157c7a673" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"28159b2c-6b43-4bf2-9228-e14157c7a673"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8847822461556618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8847822461556618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8942198432276333@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8942198432276333@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b18714ae-3c76-4210-8260-638d291ff891" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"b18714ae-3c76-4210-8260-638d291ff891"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b18714ae-3c76-4210-8260-638d291ff891/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b18714ae-3c76-4210-8260-638d291ff891"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac7deb1c-6d11-4d82-be93-f7bc944ef562" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ac7deb1c-6d11-4d82-be93-f7bc944ef562"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ac7deb1c-6d11-4d82-be93-f7bc944ef562/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ac7deb1c-6d11-4d82-be93-f7bc944ef562"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aa54287a-2afb-4531-9fe7-6c62fe609e07" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"aa54287a-2afb-4531-9fe7-6c62fe609e07"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aa54287a-2afb-4531-9fe7-6c62fe609e07/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aa54287a-2afb-4531-9fe7-6c62fe609e07"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33502797250697514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33502797250697514@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e50959d8-e31b-4f11-8dfc-032ebd277792" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e50959d8-e31b-4f11-8dfc-032ebd277792"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/e50959d8-e31b-4f11-8dfc-032ebd277792/publish" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e50959d8-e31b-4f11-8dfc-032ebd277792"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4123795677813481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4123795677813481@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.027179884700215373@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.027179884700215373@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/44eb0dd2-d2d3-4ec1-ab11-f2a40daf3274" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"44eb0dd2-d2d3-4ec1-ab11-f2a40daf3274"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:35:32 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9441654058612158@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9441654058612158@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4982091910518328@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4982091910518328@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/530436a9-f4fc-44b3-8aa9-85a7fda7fe35" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"530436a9-f4fc-44b3-8aa9-85a7fda7fe35"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8022424041080292@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8022424041080292@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5090571302647672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5090571302647672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/62e5cb3e-eab4-4786-9e33-df9686cf3ce0" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"62e5cb3e-eab4-4786-9e33-df9686cf3ce0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/62e5cb3e-eab4-4786-9e33-df9686cf3ce0/publish" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"62e5cb3e-eab4-4786-9e33-df9686cf3ce0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 160)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:19 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f76149be-d114-4432-b3c4-0f6ad0d3aedb" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f76149be-d114-4432-b3c4-0f6ad0d3aedb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f76149be-d114-4432-b3c4-0f6ad0d3aedb/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f76149be-d114-4432-b3c4-0f6ad0d3aedb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/31153317-f727-4041-83fc-7ef195ff5add" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"31153317-f727-4041-83fc-7ef195ff5add"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/31153317-f727-4041-83fc-7ef195ff5add/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"31153317-f727-4041-83fc-7ef195ff5add"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34911210012182015@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34911210012182015@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11431433554043069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11431433554043069@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/be802b5c-f4a4-4879-9d76-2f6fffc6a625" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"be802b5c-f4a4-4879-9d76-2f6fffc6a625"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3797509497501792@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3797509497501792@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07087568074184969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07087568074184969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/af54604f-103e-4426-90d7-665920457709" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"af54604f-103e-4426-90d7-665920457709"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9708914885494278@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9708914885494278@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c8b90769-a4a5-4894-9567-ee131326cb76" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c8b90769-a4a5-4894-9567-ee131326cb76"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c8b90769-a4a5-4894-9567-ee131326cb76/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c8b90769-a4a5-4894-9567-ee131326cb76"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7040677244723104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7040677244723104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1505207742587693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1505207742587693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a7f69210-9274-4284-8ba3-9bec57f26d6b" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a7f69210-9274-4284-8ba3-9bec57f26d6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a7f69210-9274-4284-8ba3-9bec57f26d6b/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f69210-9274-4284-8ba3-9bec57f26d6b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3903986909044117@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3903986909044117@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/c3a6925a-9e15-4265-8897-124d98d825f0" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3a6925a-9e15-4265-8897-124d98d825f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5311268483001016@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5311268483001016@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 8ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/2d623514-7da5-4fc5-b304-fd28fe981d18" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"2d623514-7da5-4fc5-b304-fd28fe981d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/2d623514-7da5-4fc5-b304-fd28fe981d18/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d623514-7da5-4fc5-b304-fd28fe981d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0c42cac6-2c59-4db6-b606-124dabe0b5a6" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"0c42cac6-2c59-4db6-b606-124dabe0b5a6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/0c42cac6-2c59-4db6-b606-124dabe0b5a6/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0c42cac6-2c59-4db6-b606-124dabe0b5a6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ee0f8437-8243-4f65-b0ac-b60dcbb8c2e2" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"ee0f8437-8243-4f65-b0ac-b60dcbb8c2e2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ee0f8437-8243-4f65-b0ac-b60dcbb8c2e2/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee0f8437-8243-4f65-b0ac-b60dcbb8c2e2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3339897812085457@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3339897812085457@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fd75e11a-baa3-45f6-bc38-3b7d182a9bfc" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-223", "content"=>"content-691", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"fd75e11a-baa3-45f6-bc38-3b7d182a9bfc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/fd75e11a-baa3-45f6-bc38-3b7d182a9bfc/publish" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd75e11a-baa3-45f6-bc38-3b7d182a9bfc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:36:20 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37930662387879177@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37930662387879177@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/dab32c3c-9be9-4298-8a40-800982a604a0" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"dab32c3c-9be9-4298-8a40-800982a604a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/dab32c3c-9be9-4298-8a40-800982a604a0/publish" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dab32c3c-9be9-4298-8a40-800982a604a0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8862335321523827@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8862335321523827@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:55 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 151)
Started GET "/users/me/announcements/6180874f-cb0c-4d65-9cae-761a3166bbaa" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6180874f-cb0c-4d65-9cae-761a3166bbaa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5193956548705081@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5193956548705081@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7080756947164872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7080756947164872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5d6fdee8-526a-409e-8de1-b2f9afe4c029" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"5d6fdee8-526a-409e-8de1-b2f9afe4c029"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5d6fdee8-526a-409e-8de1-b2f9afe4c029/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5d6fdee8-526a-409e-8de1-b2f9afe4c029"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/183bb758-cd62-4914-a9d7-9fa563873512" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"183bb758-cd62-4914-a9d7-9fa563873512"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/183bb758-cd62-4914-a9d7-9fa563873512/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"183bb758-cd62-4914-a9d7-9fa563873512"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cd88472f-b2d7-47a2-8d20-ab8c0502376f" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"cd88472f-b2d7-47a2-8d20-ab8c0502376f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cd88472f-b2d7-47a2-8d20-ab8c0502376f/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cd88472f-b2d7-47a2-8d20-ab8c0502376f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.370710109109325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.370710109109325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6947016685967043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6947016685967043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/e893bf3f-ff69-48f6-a2ea-1a9327aa603c" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e893bf3f-ff69-48f6-a2ea-1a9327aa603c"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29894742053329637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29894742053329637@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49582751232149225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49582751232149225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/41161a71-aa5d-4481-b7ce-b80c16eec125" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"41161a71-aa5d-4481-b7ce-b80c16eec125"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2749649361237324@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2749649361237324@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7368862836721334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7368862836721334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/264b45a1-01d7-40e6-8607-aad3bad6b78c" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"264b45a1-01d7-40e6-8607-aad3bad6b78c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/264b45a1-01d7-40e6-8607-aad3bad6b78c/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"264b45a1-01d7-40e6-8607-aad3bad6b78c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07747176028094105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07747176028094105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.38630607562517816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.38630607562517816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9a379630-c462-446f-a4b5-89dc9c6a07fc" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9a379630-c462-446f-a4b5-89dc9c6a07fc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.836914168917813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.836914168917813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/87248069-73aa-4182-99d5-421a60d6ac52" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-235", "content"=>"content-244", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"87248069-73aa-4182-99d5-421a60d6ac52"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements/87248069-73aa-4182-99d5-421a60d6ac52/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"87248069-73aa-4182-99d5-421a60d6ac52"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5451942157885789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5451942157885789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8dd9d47c-49a0-4ef5-a10c-24098e58179a" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"8dd9d47c-49a0-4ef5-a10c-24098e58179a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/8dd9d47c-49a0-4ef5-a10c-24098e58179a/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8dd9d47c-49a0-4ef5-a10c-24098e58179a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/302d6add-1695-401e-85f2-1c0c206254c7" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"302d6add-1695-401e-85f2-1c0c206254c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/302d6add-1695-401e-85f2-1c0c206254c7/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"302d6add-1695-401e-85f2-1c0c206254c7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/b4800d0f-ae7f-43fc-91d4-c23ba9f9ddd9" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"b4800d0f-ae7f-43fc-91d4-c23ba9f9ddd9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b4800d0f-ae7f-43fc-91d4-c23ba9f9ddd9/publish" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4800d0f-ae7f-43fc-91d4-c23ba9f9ddd9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 159)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 159)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:36:56 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9105347252323543@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9105347252323543@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7350539786475817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7350539786475817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 184)
Started PATCH "/users/me/announcements/e38e337c-1eb0-45d1-ad3d-c4ec6ed307e6" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e38e337c-1eb0-45d1-ad3d-c4ec6ed307e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/e38e337c-1eb0-45d1-ad3d-c4ec6ed307e6/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e38e337c-1eb0-45d1-ad3d-c4ec6ed307e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 159)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/75f112a1-5e5f-4644-b818-41d0ffff5071" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"75f112a1-5e5f-4644-b818-41d0ffff5071"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/75f112a1-5e5f-4644-b818-41d0ffff5071/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"75f112a1-5e5f-4644-b818-41d0ffff5071"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 99)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/b7865039-f794-4e4d-b0c8-0686a5cf073c" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"b7865039-f794-4e4d-b0c8-0686a5cf073c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/b7865039-f794-4e4d-b0c8-0686a5cf073c/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b7865039-f794-4e4d-b0c8-0686a5cf073c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 99)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 130)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5854102646202197@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5854102646202197@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9679814036961509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9679814036961509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 8ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/437e0363-13ad-4b71-b645-33d46f8fe9cd" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"437e0363-13ad-4b71-b645-33d46f8fe9cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/437e0363-13ad-4b71-b645-33d46f8fe9cd/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"437e0363-13ad-4b71-b645-33d46f8fe9cd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.810895189795588@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.810895189795588@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started PATCH "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/29aed622-f75b-477b-a65b-8ae42a3770b5" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29aed622-f75b-477b-a65b-8ae42a3770b5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05198113129871351@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05198113129871351@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f2e66d0e-826e-476b-83b0-1923c6777c89" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f2e66d0e-826e-476b-83b0-1923c6777c89"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f2e66d0e-826e-476b-83b0-1923c6777c89/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f2e66d0e-826e-476b-83b0-1923c6777c89"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9029086961906679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9029086961906679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40677342193217847@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40677342193217847@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8225aa7-c787-42fe-818f-eefc7eb9ed2e" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a8225aa7-c787-42fe-818f-eefc7eb9ed2e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5649860352895391@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5649860352895391@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06796176809218968@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06796176809218968@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/31cb3ae1-07ee-46b1-8445-107a7e8a3dd2" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"31cb3ae1-07ee-46b1-8445-107a7e8a3dd2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7765625366003549@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7765625366003549@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24139907341744204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24139907341744204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/edcea4a6-dc45-46fb-b953-fec80848ba8c" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"edcea4a6-dc45-46fb-b953-fec80848ba8c"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47147631744869367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47147631744869367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/815b9b44-d4ce-492c-aa2b-62604d39ba2d" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-231", "content"=>"content-661", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"815b9b44-d4ce-492c-aa2b-62604d39ba2d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements/815b9b44-d4ce-492c-aa2b-62604d39ba2d/publish" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"815b9b44-d4ce-492c-aa2b-62604d39ba2d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11028186059817047@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11028186059817047@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0201df77-6db7-4dcb-8b88-97f0cbe119a7" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"0201df77-6db7-4dcb-8b88-97f0cbe119a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/0201df77-6db7-4dcb-8b88-97f0cbe119a7/publish" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0201df77-6db7-4dcb-8b88-97f0cbe119a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/70a4e7f2-f9f2-4fe5-9804-564d6926eef4" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"70a4e7f2-f9f2-4fe5-9804-564d6926eef4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/70a4e7f2-f9f2-4fe5-9804-564d6926eef4/publish" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"70a4e7f2-f9f2-4fe5-9804-564d6926eef4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e898a414-42b8-4f29-8f72-53e2f3aeaac9" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"e898a414-42b8-4f29-8f72-53e2f3aeaac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/e898a414-42b8-4f29-8f72-53e2f3aeaac9/publish" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e898a414-42b8-4f29-8f72-53e2f3aeaac9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 163)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:46:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 994)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 228)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7937541445097885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7937541445097885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9028391857639076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9028391857639076@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/f3ed2936-b477-4a37-9150-c65451e7641a" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f3ed2936-b477-4a37-9150-c65451e7641a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 88)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2948261915129815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2948261915129815@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b73b8968-cf14-4bc0-9d95-209e56ebae63" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b73b8968-cf14-4bc0-9d95-209e56ebae63"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 66)
Started POST "/users/me/announcements/b73b8968-cf14-4bc0-9d95-209e56ebae63/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b73b8968-cf14-4bc0-9d95-209e56ebae63"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06977661043086314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06977661043086314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7694481390759106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7694481390759106@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/eb8d5129-15f5-4521-8151-046943feb238" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"eb8d5129-15f5-4521-8151-046943feb238"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/eb8d5129-15f5-4521-8151-046943feb238/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eb8d5129-15f5-4521-8151-046943feb238"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 156)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/43b015d4-576c-4da8-8522-2fa4903538b4" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"43b015d4-576c-4da8-8522-2fa4903538b4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/43b015d4-576c-4da8-8522-2fa4903538b4/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"43b015d4-576c-4da8-8522-2fa4903538b4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/69c89543-0003-4da1-88f1-9b733d8c09a2" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"69c89543-0003-4da1-88f1-9b733d8c09a2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/69c89543-0003-4da1-88f1-9b733d8c09a2/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"69c89543-0003-4da1-88f1-9b733d8c09a2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39852424505940154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39852424505940154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18898195942052753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18898195942052753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/1f8c03a1-1ef8-42be-bd74-c66b1aba67ed" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f8c03a1-1ef8-42be-bd74-c66b1aba67ed"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.046080668200701336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.046080668200701336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21155409802182368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21155409802182368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cbd8d73c-fcbb-4933-b8b6-0239e5d5f6b2" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"cbd8d73c-fcbb-4933-b8b6-0239e5d5f6b2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cbd8d73c-fcbb-4933-b8b6-0239e5d5f6b2/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cbd8d73c-fcbb-4933-b8b6-0239e5d5f6b2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6091158138234176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6091158138234176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6783193437045144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6783193437045144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5d212053-dde6-40da-a607-d4e14f59a5d2" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5d212053-dde6-40da-a607-d4e14f59a5d2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9430794126288415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9430794126288415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/d336a73a-b643-457c-9673-d6090036ed9f" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d336a73a-b643-457c-9673-d6090036ed9f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6481700157688872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6481700157688872@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b116a865-5e52-42b8-85be-7a84a0850341" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"b116a865-5e52-42b8-85be-7a84a0850341"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b116a865-5e52-42b8-85be-7a84a0850341/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b116a865-5e52-42b8-85be-7a84a0850341"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/40b83740-fb79-4929-90fc-860756a65ac4" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"40b83740-fb79-4929-90fc-860756a65ac4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/40b83740-fb79-4929-90fc-860756a65ac4/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"40b83740-fb79-4929-90fc-860756a65ac4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ed560bb3-d899-41fe-a475-b7c9c8b5dad1" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"ed560bb3-d899-41fe-a475-b7c9c8b5dad1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ed560bb3-d899-41fe-a475-b7c9c8b5dad1/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ed560bb3-d899-41fe-a475-b7c9c8b5dad1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 246)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 171)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5750840508807922@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5750840508807922@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/22256767-7f47-44b6-8c3d-e8d5efc407aa" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-972", "content"=>"content-49", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"22256767-7f47-44b6-8c3d-e8d5efc407aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 106)
Started POST "/users/me/announcements/22256767-7f47-44b6-8c3d-e8d5efc407aa/publish" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"22256767-7f47-44b6-8c3d-e8d5efc407aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:31 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8826310601840431@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8826310601840431@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/ad2e785d-3595-4e5f-8468-364f75d9301f" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"ad2e785d-3595-4e5f-8468-364f75d9301f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/ad2e785d-3595-4e5f-8468-364f75d9301f/publish" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ad2e785d-3595-4e5f-8468-364f75d9301f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 157)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d886a215-74c1-44c4-b88b-551ec1b77596" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"d886a215-74c1-44c4-b88b-551ec1b77596"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d886a215-74c1-44c4-b88b-551ec1b77596/publish" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d886a215-74c1-44c4-b88b-551ec1b77596"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23bf1802-264b-4f75-a42a-b4e2f1ef5673" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"23bf1802-264b-4f75-a42a-b4e2f1ef5673"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/23bf1802-264b-4f75-a42a-b4e2f1ef5673/publish" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23bf1802-264b-4f75-a42a-b4e2f1ef5673"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 295)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 208)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4060303495776837@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4060303495776837@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e13e2e4b-0f8c-4951-afda-bf7e16bcc222" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-659", "content"=>"content-123", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e13e2e4b-0f8c-4951-afda-bf7e16bcc222"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/e13e2e4b-0f8c-4951-afda-bf7e16bcc222/publish" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e13e2e4b-0f8c-4951-afda-bf7e16bcc222"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9717459627472619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9717459627472619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9918735075664404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9918735075664404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4f38995b-522e-458d-baa3-53ea4322b959" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4f38995b-522e-458d-baa3-53ea4322b959"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8539378387575811@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8539378387575811@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9503418576854467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9503418576854467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5a8b033a-8873-4d35-8796-ffda28adae97" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5a8b033a-8873-4d35-8796-ffda28adae97"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.261677856932105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.261677856932105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b/publish" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/4f805613-771f-45fe-9a56-492f5e76a53b" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"4f805613-771f-45fe-9a56-492f5e76a53b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13347422042286028@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13347422042286028@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b05108bf-bfd9-47bd-995d-da3c35bf5c67" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b05108bf-bfd9-47bd-995d-da3c35bf5c67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/b05108bf-bfd9-47bd-995d-da3c35bf5c67/publish" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b05108bf-bfd9-47bd-995d-da3c35bf5c67"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.32421334415574266@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.32421334415574266@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7589841804310089@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7589841804310089@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c267fe72-2eff-4e3f-a621-3522b79e122a" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"c267fe72-2eff-4e3f-a621-3522b79e122a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c267fe72-2eff-4e3f-a621-3522b79e122a/publish" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c267fe72-2eff-4e3f-a621-3522b79e122a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0b851979-98d6-4201-a889-284cc6a9126b" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"0b851979-98d6-4201-a889-284cc6a9126b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0b851979-98d6-4201-a889-284cc6a9126b/publish" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b851979-98d6-4201-a889-284cc6a9126b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/34c0a674-fa3e-43a1-8222-8b6f275b1d85" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"34c0a674-fa3e-43a1-8222-8b6f275b1d85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/34c0a674-fa3e-43a1-8222-8b6f275b1d85/publish" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"34c0a674-fa3e-43a1-8222-8b6f275b1d85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2838841077658836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2838841077658836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8946588100877836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8946588100877836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a3309c11-b088-4afd-aa5d-7f9f9678f221" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a3309c11-b088-4afd-aa5d-7f9f9678f221"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a3309c11-b088-4afd-aa5d-7f9f9678f221/publish" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a3309c11-b088-4afd-aa5d-7f9f9678f221"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18184132573401468@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18184132573401468@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.165554204353225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.165554204353225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/95412e71-04f2-460c-aec8-a4d91d4f44cc" for 127.0.0.1 at 2024-05-06 08:46:59 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"95412e71-04f2-460c-aec8-a4d91d4f44cc"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 356)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39214340691365746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39214340691365746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/8251bf8d-8dd3-47f9-b4a1-b9816fc96f7f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"8251bf8d-8dd3-47f9-b4a1-b9816fc96f7f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started POST "/users/me/announcements/8251bf8d-8dd3-47f9-b4a1-b9816fc96f7f/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8251bf8d-8dd3-47f9-b4a1-b9816fc96f7f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 159)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/edec1d91-0c30-452f-ab16-752b3d01fc15" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"edec1d91-0c30-452f-ab16-752b3d01fc15"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/edec1d91-0c30-452f-ab16-752b3d01fc15/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"edec1d91-0c30-452f-ab16-752b3d01fc15"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9ba40b9c-3a90-4e18-a229-65ccbc7dee34" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"9ba40b9c-3a90-4e18-a229-65ccbc7dee34"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/9ba40b9c-3a90-4e18-a229-65ccbc7dee34/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9ba40b9c-3a90-4e18-a229-65ccbc7dee34"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 294)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 208)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8442772062426279@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8442772062426279@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/33217b3b-2e3d-40ee-8c65-a397ca997e3c" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-301", "content"=>"content-764", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"33217b3b-2e3d-40ee-8c65-a397ca997e3c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/33217b3b-2e3d-40ee-8c65-a397ca997e3c/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"33217b3b-2e3d-40ee-8c65-a397ca997e3c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49735114661686475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49735114661686475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43140938639620685@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43140938639620685@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cd694705-9506-4f35-bc31-01b010d41919" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"cd694705-9506-4f35-bc31-01b010d41919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cd694705-9506-4f35-bc31-01b010d41919/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cd694705-9506-4f35-bc31-01b010d41919"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.037850457873346954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.037850457873346954@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0031721742177183154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0031721742177183154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4f4c781a-ad2e-4d0b-a6ff-e83b62638558" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4f4c781a-ad2e-4d0b-a6ff-e83b62638558"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7414039234645918@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7414039234645918@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6846585375720448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6846585375720448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/29d57f8d-218a-4bbe-849e-f87f07dd7d70" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"29d57f8d-218a-4bbe-849e-f87f07dd7d70"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.014544506799093138@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.014544506799093138@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7181945118275617@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7181945118275617@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bcc19b3b-bc31-4779-8f9e-2f38696415a7" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"bcc19b3b-bc31-4779-8f9e-2f38696415a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bcc19b3b-bc31-4779-8f9e-2f38696415a7/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bcc19b3b-bc31-4779-8f9e-2f38696415a7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/13f4f780-bf3f-4dd3-b3e4-832845104149" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"13f4f780-bf3f-4dd3-b3e4-832845104149"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/13f4f780-bf3f-4dd3-b3e4-832845104149/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"13f4f780-bf3f-4dd3-b3e4-832845104149"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/eb00cbf4-8824-4e05-9a34-5d66d82090c1" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"eb00cbf4-8824-4e05-9a34-5d66d82090c1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/eb00cbf4-8824-4e05-9a34-5d66d82090c1/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eb00cbf4-8824-4e05-9a34-5d66d82090c1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7125940879749368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7125940879749368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/17375e72-5a82-445b-b4a2-94ee19bd521f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"17375e72-5a82-445b-b4a2-94ee19bd521f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/17375e72-5a82-445b-b4a2-94ee19bd521f/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"17375e72-5a82-445b-b4a2-94ee19bd521f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5980813403081804@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5980813403081804@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4314721044111922@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4314721044111922@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/8378d9d6-b973-4c88-a771-27fb15cc1306" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8378d9d6-b973-4c88-a771-27fb15cc1306"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7366916174239472@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7366916174239472@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f/publish" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
Started GET "/users/me/announcements/64d4983f-bd43-444e-97ff-90ed49f9a78f" for 127.0.0.1 at 2024-05-06 08:48:45 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"64d4983f-bd43-444e-97ff-90ed49f9a78f"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.027322849960976114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.027322849960976114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5579873469009274@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5579873469009274@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/2b30025a-2266-4d21-b3d9-5d10985d851c" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2b30025a-2266-4d21-b3d9-5d10985d851c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3247197803955151@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3247197803955151@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03600637225966108@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03600637225966108@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fbfb06a5-9365-4786-94a6-cad11d699076" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fbfb06a5-9365-4786-94a6-cad11d699076"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8625809408710299@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8625809408710299@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31854036086165505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31854036086165505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3926bd98-4f3d-452d-91f3-d08577d2cd51" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"3926bd98-4f3d-452d-91f3-d08577d2cd51"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/3926bd98-4f3d-452d-91f3-d08577d2cd51/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3926bd98-4f3d-452d-91f3-d08577d2cd51"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10299923038733616@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10299923038733616@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 154)
Started GET "/users/me/announcements/ee30f6b4-8e1e-4be1-9866-b60ad79fa625" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee30f6b4-8e1e-4be1-9866-b60ad79fa625"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9496414665267704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9496414665267704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/695c5682-6d81-4a55-b6b8-3ee83d6d025b" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"695c5682-6d81-4a55-b6b8-3ee83d6d025b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/695c5682-6d81-4a55-b6b8-3ee83d6d025b/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"695c5682-6d81-4a55-b6b8-3ee83d6d025b"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6135573024423691@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6135573024423691@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9900758014397745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9900758014397745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2a14b1f6-ec06-4127-963b-8043d8f64e35" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2a14b1f6-ec06-4127-963b-8043d8f64e35"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48228127667233545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48228127667233545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6814766362980134@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6814766362980134@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6df843bf-bde7-4e9f-9702-496e08a69573" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6df843bf-bde7-4e9f-9702-496e08a69573"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6df843bf-bde7-4e9f-9702-496e08a69573/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6df843bf-bde7-4e9f-9702-496e08a69573"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3ede8a16-522e-496f-843e-8e20c028a37a" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"3ede8a16-522e-496f-843e-8e20c028a37a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3ede8a16-522e-496f-843e-8e20c028a37a/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3ede8a16-522e-496f-843e-8e20c028a37a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/42ad0e54-00c9-4977-8a7c-678ee73ecd7d" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"42ad0e54-00c9-4977-8a7c-678ee73ecd7d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/42ad0e54-00c9-4977-8a7c-678ee73ecd7d/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"42ad0e54-00c9-4977-8a7c-678ee73ecd7d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5851482311061104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5851482311061104@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a6ff694c-9896-428b-b722-1aa5b677c3c1" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-349", "content"=>"content-151", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a6ff694c-9896-428b-b722-1aa5b677c3c1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 157)
Started POST "/users/me/announcements/a6ff694c-9896-428b-b722-1aa5b677c3c1/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a6ff694c-9896-428b-b722-1aa5b677c3c1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21767308773489136@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21767308773489136@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fbc7d558-b0ba-442a-bac3-9075c3f8d6aa" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"fbc7d558-b0ba-442a-bac3-9075c3f8d6aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/fbc7d558-b0ba-442a-bac3-9075c3f8d6aa/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fbc7d558-b0ba-442a-bac3-9075c3f8d6aa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e4f6d76-f2eb-4265-95b8-93aeebd7755f" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"6e4f6d76-f2eb-4265-95b8-93aeebd7755f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6e4f6d76-f2eb-4265-95b8-93aeebd7755f/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e4f6d76-f2eb-4265-95b8-93aeebd7755f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f681f05c-0c4a-4a89-9c71-114efb3c03ea" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"f681f05c-0c4a-4a89-9c71-114efb3c03ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/f681f05c-0c4a-4a89-9c71-114efb3c03ea/publish" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f681f05c-0c4a-4a89-9c71-114efb3c03ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 163)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:53:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3605213553126081@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3605213553126081@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/afe8f12a-7ef5-459b-9208-eef25de4bb90" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"afe8f12a-7ef5-459b-9208-eef25de4bb90"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started POST "/users/me/announcements/afe8f12a-7ef5-459b-9208-eef25de4bb90/publish" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"afe8f12a-7ef5-459b-9208-eef25de4bb90"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/c0746619-9337-43a8-9a32-b160318af5ec" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"c0746619-9337-43a8-9a32-b160318af5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started POST "/users/me/announcements/c0746619-9337-43a8-9a32-b160318af5ec/publish" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c0746619-9337-43a8-9a32-b160318af5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/f22f8f64-d930-4401-ba41-f5757340948e" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"f22f8f64-d930-4401-ba41-f5757340948e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started POST "/users/me/announcements/f22f8f64-d930-4401-ba41-f5757340948e/publish" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f22f8f64-d930-4401-ba41-f5757340948e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 241)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 162)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9631905587773485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9631905587773485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/9a939ba4-7f08-4b1a-96ef-8c0588f2d2ec" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-513", "content"=>"content-699", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9a939ba4-7f08-4b1a-96ef-8c0588f2d2ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started POST "/users/me/announcements/9a939ba4-7f08-4b1a-96ef-8c0588f2d2ec/publish" for 127.0.0.1 at 2024-05-06 08:57:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a939ba4-7f08-4b1a-96ef-8c0588f2d2ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6868493308396817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6868493308396817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c2603155-38ec-4183-b29f-b30ebe895287" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c2603155-38ec-4183-b29f-b30ebe895287"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c2603155-38ec-4183-b29f-b30ebe895287/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c2603155-38ec-4183-b29f-b30ebe895287"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7455055358813483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7455055358813483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5248919736803095@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5248919736803095@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0a353566-bc22-4582-8e96-0fccfac5d0ec" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"0a353566-bc22-4582-8e96-0fccfac5d0ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0a353566-bc22-4582-8e96-0fccfac5d0ec/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0a353566-bc22-4582-8e96-0fccfac5d0ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fc6db58e-d310-4ad8-8af5-1254292c87ef" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"fc6db58e-d310-4ad8-8af5-1254292c87ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fc6db58e-d310-4ad8-8af5-1254292c87ef/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fc6db58e-d310-4ad8-8af5-1254292c87ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/579961a9-81e7-4f7d-b394-c27918704400" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"579961a9-81e7-4f7d-b394-c27918704400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/579961a9-81e7-4f7d-b394-c27918704400/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"579961a9-81e7-4f7d-b394-c27918704400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6831461263678817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6831461263678817@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7249253609158294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7249253609158294@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f4b7fd56-0d40-4836-966e-43aaa459df01" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f4b7fd56-0d40-4836-966e-43aaa459df01"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9051851813174039@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9051851813174039@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2549746797144352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2549746797144352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b63f1d75-6e23-48fb-8314-6e0c9362c658" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b63f1d75-6e23-48fb-8314-6e0c9362c658"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1280123190481982@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1280123190481982@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/b338f752-93a1-4ca2-8282-1ec53f424e88" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b338f752-93a1-4ca2-8282-1ec53f424e88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8291738924586334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8291738924586334@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.608230843920129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.608230843920129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aba1cdfe-f80f-439f-b875-9c4f373d1fcb" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"aba1cdfe-f80f-439f-b875-9c4f373d1fcb"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46163230613035466@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46163230613035466@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5888241803199022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5888241803199022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/914519d2-1642-4cef-9b65-ec3ece8becfd" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"914519d2-1642-4cef-9b65-ec3ece8becfd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/914519d2-1642-4cef-9b65-ec3ece8becfd/publish" for 127.0.0.1 at 2024-05-06 08:57:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"914519d2-1642-4cef-9b65-ec3ece8becfd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 175)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 144)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 160)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8837386736405359@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8837386736405359@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2140f1e6-86d3-4496-be8e-d36bfd847ea9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"2140f1e6-86d3-4496-be8e-d36bfd847ea9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/2140f1e6-86d3-4496-be8e-d36bfd847ea9/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2140f1e6-86d3-4496-be8e-d36bfd847ea9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b56896fe-29ab-4488-ba3f-ccfd01b4b295" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"b56896fe-29ab-4488-ba3f-ccfd01b4b295"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b56896fe-29ab-4488-ba3f-ccfd01b4b295/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b56896fe-29ab-4488-ba3f-ccfd01b4b295"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f6868372-a9b9-47fe-91ef-dce691a9edf2" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"f6868372-a9b9-47fe-91ef-dce691a9edf2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/f6868372-a9b9-47fe-91ef-dce691a9edf2/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f6868372-a9b9-47fe-91ef-dce691a9edf2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 179)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 164)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5620386829066596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5620386829066596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c478062a-0cd2-4487-8865-a8a51641a9fb" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-828", "content"=>"content-959", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"c478062a-0cd2-4487-8865-a8a51641a9fb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started POST "/users/me/announcements/c478062a-0cd2-4487-8865-a8a51641a9fb/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c478062a-0cd2-4487-8865-a8a51641a9fb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.26088878956572226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.26088878956572226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9663859647339667@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9663859647339667@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/704cc04f-f809-4855-9c4a-966eb643e94b" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"704cc04f-f809-4855-9c4a-966eb643e94b"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7992823808089891@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7992823808089891@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3801956209569788@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3801956209569788@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/820d8be5-7ac1-46e8-a549-874738453784" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"820d8be5-7ac1-46e8-a549-874738453784"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/820d8be5-7ac1-46e8-a549-874738453784/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"820d8be5-7ac1-46e8-a549-874738453784"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7335035224443651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7335035224443651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/f04d94df-143b-4955-8d8c-7d330de2eed9" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f04d94df-143b-4955-8d8c-7d330de2eed9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4325303798705833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4325303798705833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6844094879191316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6844094879191316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/045b2afc-1860-4f2d-9b99-adfb8a0aec09" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"045b2afc-1860-4f2d-9b99-adfb8a0aec09"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/045b2afc-1860-4f2d-9b99-adfb8a0aec09/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"045b2afc-1860-4f2d-9b99-adfb8a0aec09"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/efadcb73-eaf0-4a28-adbf-2e30d5a14d9a" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"efadcb73-eaf0-4a28-adbf-2e30d5a14d9a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/efadcb73-eaf0-4a28-adbf-2e30d5a14d9a/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"efadcb73-eaf0-4a28-adbf-2e30d5a14d9a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/254b2e21-101d-43f9-9f97-6a3e02226630" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"254b2e21-101d-43f9-9f97-6a3e02226630"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/254b2e21-101d-43f9-9f97-6a3e02226630/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"254b2e21-101d-43f9-9f97-6a3e02226630"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31782970301228697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31782970301228697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/28d30d6a-5c13-45e9-9882-e1337f63c618" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"28d30d6a-5c13-45e9-9882-e1337f63c618"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/28d30d6a-5c13-45e9-9882-e1337f63c618/publish" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"28d30d6a-5c13-45e9-9882-e1337f63c618"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17296736101430232@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17296736101430232@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03185249003457846@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03185249003457846@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/12a3a258-60c1-4d8f-b225-fc2f4002c217" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"12a3a258-60c1-4d8f-b225-fc2f4002c217"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47472378667705073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47472378667705073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8580506552502194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8580506552502194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c8eb76d9-5c91-48f8-b659-857ef25e7d2a" for 127.0.0.1 at 2024-05-06 08:57:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c8eb76d9-5c91-48f8-b659-857ef25e7d2a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6068847650886187@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6068847650886187@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1547990657584114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1547990657584114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/3cdd8992-670c-4463-bb5c-39dcf1f1274e" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3cdd8992-670c-4463-bb5c-39dcf1f1274e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.865924664272808@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.865924664272808@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.574117512831079@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.574117512831079@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/7d1a0dbb-9f05-43d6-adf2-711319620c67" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"7d1a0dbb-9f05-43d6-adf2-711319620c67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
Started POST "/users/me/announcements/7d1a0dbb-9f05-43d6-adf2-711319620c67/publish" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d1a0dbb-9f05-43d6-adf2-711319620c67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 167)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/23b32094-eb58-4383-a049-0d09b0657753" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"23b32094-eb58-4383-a049-0d09b0657753"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/23b32094-eb58-4383-a049-0d09b0657753/publish" for 127.0.0.1 at 2024-05-06 08:58:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23b32094-eb58-4383-a049-0d09b0657753"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/7df53bcf-a89e-44a1-96dd-9ea674e6d2ee" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7df53bcf-a89e-44a1-96dd-9ea674e6d2ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/7df53bcf-a89e-44a1-96dd-9ea674e6d2ee/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7df53bcf-a89e-44a1-96dd-9ea674e6d2ee"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 130)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.057991781773656936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.057991781773656936@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11018071606576296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11018071606576296@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c0cc7b45-7c1b-44cc-af47-3ddc79a13a9b" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c0cc7b45-7c1b-44cc-af47-3ddc79a13a9b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c0cc7b45-7c1b-44cc-af47-3ddc79a13a9b/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c0cc7b45-7c1b-44cc-af47-3ddc79a13a9b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5601830729207791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5601830729207791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07815496298722746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07815496298722746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/cad251a4-64ba-4f41-824d-4d4cee5068ee" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cad251a4-64ba-4f41-824d-4d4cee5068ee"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5522638223675781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5522638223675781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/2d94244d-05b6-4bce-b09c-567abde8293a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d94244d-05b6-4bce-b09c-567abde8293a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5993780945453456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5993780945453456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4b331d3b-f748-4487-82e7-1af5af9de715" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4b331d3b-f748-4487-82e7-1af5af9de715"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/4b331d3b-f748-4487-82e7-1af5af9de715/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4b331d3b-f748-4487-82e7-1af5af9de715"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8471466744705619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8471466744705619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.38801828747602496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.38801828747602496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0569c0f0-89af-4ff8-b2d1-23fbba39e9c6" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0569c0f0-89af-4ff8-b2d1-23fbba39e9c6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8043071665875716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8043071665875716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b88475a9-5267-4376-8b76-171e1728ec6d" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-394", "content"=>"content-922", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b88475a9-5267-4376-8b76-171e1728ec6d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 157)
Started POST "/users/me/announcements/b88475a9-5267-4376-8b76-171e1728ec6d/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b88475a9-5267-4376-8b76-171e1728ec6d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5267559290409548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5267559290409548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e05763e-3baa-486b-bcf9-a213ddc5dc2a" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"6e05763e-3baa-486b-bcf9-a213ddc5dc2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6e05763e-3baa-486b-bcf9-a213ddc5dc2a/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e05763e-3baa-486b-bcf9-a213ddc5dc2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d7339035-b0da-4b46-b9dd-805b0ad0e8e6" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"d7339035-b0da-4b46-b9dd-805b0ad0e8e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d7339035-b0da-4b46-b9dd-805b0ad0e8e6/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d7339035-b0da-4b46-b9dd-805b0ad0e8e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3bb14c59-d4e7-4e5b-9f45-21390c7818a3" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"3bb14c59-d4e7-4e5b-9f45-21390c7818a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/3bb14c59-d4e7-4e5b-9f45-21390c7818a3/publish" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3bb14c59-d4e7-4e5b-9f45-21390c7818a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 08:58:21 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1113)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9692036080478278@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 250)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9692036080478278@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 182)
Started PATCH "/users/me/announcements/09badf86-6fb6-4f65-9a73-656849a7d47b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"09badf86-6fb6-4f65-9a73-656849a7d47b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started POST "/users/me/announcements/09badf86-6fb6-4f65-9a73-656849a7d47b/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"09badf86-6fb6-4f65-9a73-656849a7d47b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/8942ae33-17aa-432c-b0c5-339e71b58e76" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"8942ae33-17aa-432c-b0c5-339e71b58e76"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started POST "/users/me/announcements/8942ae33-17aa-432c-b0c5-339e71b58e76/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8942ae33-17aa-432c-b0c5-339e71b58e76"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a4f147e4-a15c-4488-9a28-66f7c8d340a8" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"a4f147e4-a15c-4488-9a28-66f7c8d340a8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
Started POST "/users/me/announcements/a4f147e4-a15c-4488-9a28-66f7c8d340a8/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a4f147e4-a15c-4488-9a28-66f7c8d340a8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 180)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 164)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.003477292669975429@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.003477292669975429@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/eda363c9-5017-44f6-bd67-db64363d158a" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-300", "content"=>"content-232", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"eda363c9-5017-44f6-bd67-db64363d158a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started POST "/users/me/announcements/eda363c9-5017-44f6-bd67-db64363d158a/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eda363c9-5017-44f6-bd67-db64363d158a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9703173293057995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9703173293057995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/5b36888d-0d06-49a1-9173-e30804d3810b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b36888d-0d06-49a1-9173-e30804d3810b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9201582500587883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9201582500587883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.45081392027445844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.45081392027445844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7e52d5ec-bec0-4f92-9824-a371cc22259b" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"7e52d5ec-bec0-4f92-9824-a371cc22259b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7e52d5ec-bec0-4f92-9824-a371cc22259b/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7e52d5ec-bec0-4f92-9824-a371cc22259b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8345375366198755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8345375366198755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6107916797897349@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6107916797897349@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5fd5c513-bb18-4f6c-a3a8-2f6875cb8385" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"5fd5c513-bb18-4f6c-a3a8-2f6875cb8385"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06382547044221243@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06382547044221243@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7259149458253796@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7259149458253796@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d8777ec5-2d34-460d-a7a5-6c0204518d40" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"d8777ec5-2d34-460d-a7a5-6c0204518d40"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d8777ec5-2d34-460d-a7a5-6c0204518d40/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8777ec5-2d34-460d-a7a5-6c0204518d40"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/530f64d8-1768-483e-8961-86820388d866" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"530f64d8-1768-483e-8961-86820388d866"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/530f64d8-1768-483e-8961-86820388d866/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"530f64d8-1768-483e-8961-86820388d866"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/af154e49-1eab-45ba-8447-61b4cbdcdf32" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"af154e49-1eab-45ba-8447-61b4cbdcdf32"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/af154e49-1eab-45ba-8447-61b4cbdcdf32/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"af154e49-1eab-45ba-8447-61b4cbdcdf32"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2504349324510998@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2504349324510998@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/427436a7-c5c7-4578-a3ea-7e56b098625f" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"427436a7-c5c7-4578-a3ea-7e56b098625f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/427436a7-c5c7-4578-a3ea-7e56b098625f/publish" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"427436a7-c5c7-4578-a3ea-7e56b098625f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15036721908944128@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15036721908944128@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.04985624198388161@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.04985624198388161@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6509c15c-6559-4d88-9fff-405e82476837" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6509c15c-6559-4d88-9fff-405e82476837"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9127018048032941@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9127018048032941@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24107203521207232@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24107203521207232@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/100dd124-4b52-40d2-bae0-6ea62952ca5c" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"100dd124-4b52-40d2-bae0-6ea62952ca5c"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 177)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:03 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1021)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.407538522302059@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 279)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.407538522302059@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/82de8942-3311-4f18-b0ec-e2788c1b43af" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-841", "content"=>"content-556", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"82de8942-3311-4f18-b0ec-e2788c1b43af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 140)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3538508702350738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3538508702350738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/31ca77bf-bff6-4eae-a5c5-bf5be1d52d67" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"31ca77bf-bff6-4eae-a5c5-bf5be1d52d67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/31ca77bf-bff6-4eae-a5c5-bf5be1d52d67/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"31ca77bf-bff6-4eae-a5c5-bf5be1d52d67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f346f1d9-7207-4d80-bbec-bb1a8b32940c" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"f346f1d9-7207-4d80-bbec-bb1a8b32940c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/f346f1d9-7207-4d80-bbec-bb1a8b32940c/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f346f1d9-7207-4d80-bbec-bb1a8b32940c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/744406a1-da48-486f-87b3-98e7909dab91" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"744406a1-da48-486f-87b3-98e7909dab91"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/744406a1-da48-486f-87b3-98e7909dab91/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"744406a1-da48-486f-87b3-98e7909dab91"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 141)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7786447959226933@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7786447959226933@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22727445767714693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22727445767714693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/00353b72-f188-4e21-aee0-dd72f2bd25c5" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"00353b72-f188-4e21-aee0-dd72f2bd25c5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6123794137230102@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6123794137230102@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49989904065433655@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49989904065433655@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e1929652-3892-4e5a-b6f5-7f0a0a8cf8ff" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e1929652-3892-4e5a-b6f5-7f0a0a8cf8ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e1929652-3892-4e5a-b6f5-7f0a0a8cf8ff/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e1929652-3892-4e5a-b6f5-7f0a0a8cf8ff"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.996355143611742@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.996355143611742@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6430539531211863@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6430539531211863@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f3af022d-8107-4345-9a51-a32ef932341d" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"f3af022d-8107-4345-9a51-a32ef932341d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f3af022d-8107-4345-9a51-a32ef932341d/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f3af022d-8107-4345-9a51-a32ef932341d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8124b4d4-6382-41d3-a04d-756d73933bd0" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"8124b4d4-6382-41d3-a04d-756d73933bd0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8124b4d4-6382-41d3-a04d-756d73933bd0/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8124b4d4-6382-41d3-a04d-756d73933bd0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d6a2ddfb-2e16-43d1-af56-882dd869801f" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d6a2ddfb-2e16-43d1-af56-882dd869801f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d6a2ddfb-2e16-43d1-af56-882dd869801f/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d6a2ddfb-2e16-43d1-af56-882dd869801f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1886009478919517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1886009478919517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7358159054379063@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7358159054379063@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d13d05cc-3b3f-4e8e-9704-ab13d01d5f53" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d13d05cc-3b3f-4e8e-9704-ab13d01d5f53"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8308607387839752@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8308607387839752@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df324a3d-d5c2-4329-a055-d07761053407" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"df324a3d-d5c2-4329-a055-d07761053407"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/df324a3d-d5c2-4329-a055-d07761053407/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"df324a3d-d5c2-4329-a055-d07761053407"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40809936996386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40809936996386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
Started POST "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b/publish" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/aff8e894-949a-4144-bc56-7381c727b39b" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"aff8e894-949a-4144-bc56-7381c727b39b"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9491798087768869@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9491798087768869@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.26351876662496465@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.26351876662496465@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/add80e2c-db5d-4bc2-b524-57ea28de534f" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"add80e2c-db5d-4bc2-b524-57ea28de534f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:02:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8429631665405672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1091)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8429631665405672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/41ea0401-a511-417c-845e-75e54be540f0" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"41ea0401-a511-417c-845e-75e54be540f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/41ea0401-a511-417c-845e-75e54be540f0/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"41ea0401-a511-417c-845e-75e54be540f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/34e9fa6a-a097-4303-94f4-3e991aeca648" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"34e9fa6a-a097-4303-94f4-3e991aeca648"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/34e9fa6a-a097-4303-94f4-3e991aeca648/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"34e9fa6a-a097-4303-94f4-3e991aeca648"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/abe2acde-c281-4343-a36e-e7dc31319188" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"abe2acde-c281-4343-a36e-e7dc31319188"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/abe2acde-c281-4343-a36e-e7dc31319188/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"abe2acde-c281-4343-a36e-e7dc31319188"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6483036253337441@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6483036253337441@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23bb87ce-160b-4970-89ef-23cc4defce84" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-934", "content"=>"content-454", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"23bb87ce-160b-4970-89ef-23cc4defce84"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.223594802555516@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.223594802555516@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20378753971865837@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20378753971865837@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9e6cc49b-e32b-4fa2-bec1-876fa2191f7c" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"9e6cc49b-e32b-4fa2-bec1-876fa2191f7c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/9e6cc49b-e32b-4fa2-bec1-876fa2191f7c/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e6cc49b-e32b-4fa2-bec1-876fa2191f7c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9832392373479565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9832392373479565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6953545948996548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6953545948996548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/74af5a81-8f1c-4484-aacb-02ffea7eed70" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"74af5a81-8f1c-4484-aacb-02ffea7eed70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/74af5a81-8f1c-4484-aacb-02ffea7eed70/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"74af5a81-8f1c-4484-aacb-02ffea7eed70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/920c35ec-f293-410e-a1d1-38c30026873e" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"920c35ec-f293-410e-a1d1-38c30026873e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/920c35ec-f293-410e-a1d1-38c30026873e/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"920c35ec-f293-410e-a1d1-38c30026873e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/615e351d-b298-41bd-b8ed-52cc24844593" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"615e351d-b298-41bd-b8ed-52cc24844593"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/615e351d-b298-41bd-b8ed-52cc24844593/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"615e351d-b298-41bd-b8ed-52cc24844593"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9538414490639036@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9538414490639036@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/d8f93ab1-4279-4fe2-97ef-e9fa96da81ab" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8f93ab1-4279-4fe2-97ef-e9fa96da81ab"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4704691751259379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4704691751259379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44278122914255247@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44278122914255247@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/10ee211a-47e7-4663-901c-1d264725a37a" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"10ee211a-47e7-4663-901c-1d264725a37a"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37156373947561483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37156373947561483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef3734e0-c23e-48b2-b62b-aa194e62b205" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ef3734e0-c23e-48b2-b62b-aa194e62b205"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/ef3734e0-c23e-48b2-b62b-aa194e62b205/publish" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef3734e0-c23e-48b2-b62b-aa194e62b205"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6792332684958335@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6792332684958335@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9679685353830754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9679685353830754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/27a89452-1fb0-4868-a7da-deb2762e1a07" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"27a89452-1fb0-4868-a7da-deb2762e1a07"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9502451761209814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9502451761209814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7761165362097588@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7761165362097588@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f25f3358-3092-4ebf-a56b-5995b3354208" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f25f3358-3092-4ebf-a56b-5995b3354208"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:28 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0576438779934193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0576438779934193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/6bcbb046-416b-435d-8e88-2587076406e1" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"6bcbb046-416b-435d-8e88-2587076406e1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/6bcbb046-416b-435d-8e88-2587076406e1/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6bcbb046-416b-435d-8e88-2587076406e1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cf0b0e3b-42de-4044-b128-a2775564db71" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"cf0b0e3b-42de-4044-b128-a2775564db71"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/cf0b0e3b-42de-4044-b128-a2775564db71/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cf0b0e3b-42de-4044-b128-a2775564db71"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/20ffa3c9-807d-4a5d-af29-abc7872770f8" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"20ffa3c9-807d-4a5d-af29-abc7872770f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/20ffa3c9-807d-4a5d-af29-abc7872770f8/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"20ffa3c9-807d-4a5d-af29-abc7872770f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2500491599498379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2500491599498379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ed7b06eb-9f96-4507-81a9-db684fab1559" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-29", "content"=>"content-866", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ed7b06eb-9f96-4507-81a9-db684fab1559"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7708093576671396@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7708093576671396@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 126)
Started PATCH "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/48988cd2-0864-4f3b-a293-269e6f568adc" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"48988cd2-0864-4f3b-a293-269e6f568adc"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8838518389254512@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8838518389254512@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.93083499547011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.93083499547011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/24745087-921e-435c-b68a-289331493eca" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"24745087-921e-435c-b68a-289331493eca"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/24745087-921e-435c-b68a-289331493eca/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"24745087-921e-435c-b68a-289331493eca"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a425581e-9b1f-4fcb-a66a-db8fd873a104" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"a425581e-9b1f-4fcb-a66a-db8fd873a104"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a425581e-9b1f-4fcb-a66a-db8fd873a104/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a425581e-9b1f-4fcb-a66a-db8fd873a104"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aa916ef3-fb45-411e-af8c-7da450660a38" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"aa916ef3-fb45-411e-af8c-7da450660a38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aa916ef3-fb45-411e-af8c-7da450660a38/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aa916ef3-fb45-411e-af8c-7da450660a38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.030995317486136598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.030995317486136598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9819150852526226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9819150852526226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5fbe0895-5d9e-4c9c-8d65-00628f52bc06" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"5fbe0895-5d9e-4c9c-8d65-00628f52bc06"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5fbe0895-5d9e-4c9c-8d65-00628f52bc06/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5fbe0895-5d9e-4c9c-8d65-00628f52bc06"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39692660944065383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39692660944065383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6074286986267983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6074286986267983@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8ed8ca18-21ea-40bb-a2b6-d44917a71590" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8ed8ca18-21ea-40bb-a2b6-d44917a71590"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9466045018444667@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9466045018444667@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44329903981526486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44329903981526486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ef4cc15e-d334-4ee3-8652-3411057802c6" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef4cc15e-d334-4ee3-8652-3411057802c6"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7392462378709156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7392462378709156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/44490eaf-9040-464d-9495-49e214e64db0" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"44490eaf-9040-464d-9495-49e214e64db0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/44490eaf-9040-464d-9495-49e214e64db0/publish" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"44490eaf-9040-464d-9495-49e214e64db0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7945630102876099@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7945630102876099@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7540561382075286@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7540561382075286@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4bd34113-8be0-4527-8200-f2c547a07449" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4bd34113-8be0-4527-8200-f2c547a07449"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13831744863037176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13831744863037176@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4186627339859693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4186627339859693@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/baeddb26-2ff1-449b-861d-8110a47409ea" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"baeddb26-2ff1-449b-861d-8110a47409ea"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06786395594801498@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06786395594801498@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9901034275738236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9901034275738236@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/002fbcf6-0b59-4019-b757-e096fae80f5a" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"002fbcf6-0b59-4019-b757-e096fae80f5a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8093158044629445@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8093158044629445@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9056ec0a-bb13-4034-a790-b87e4d18c7c6" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9056ec0a-bb13-4034-a790-b87e4d18c7c6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/9056ec0a-bb13-4034-a790-b87e4d18c7c6/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9056ec0a-bb13-4034-a790-b87e4d18c7c6"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19773244246988997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19773244246988997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21734409535659382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21734409535659382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/662802a0-c33d-406e-bffa-b78e9cd8e4ab" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"662802a0-c33d-406e-bffa-b78e9cd8e4ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/662802a0-c33d-406e-bffa-b78e9cd8e4ab/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"662802a0-c33d-406e-bffa-b78e9cd8e4ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/36671649-e7a4-495a-882c-7d344809750f" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"36671649-e7a4-495a-882c-7d344809750f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/36671649-e7a4-495a-882c-7d344809750f/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"36671649-e7a4-495a-882c-7d344809750f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aa6067c7-c03b-41d1-8259-28cd4c449eef" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"aa6067c7-c03b-41d1-8259-28cd4c449eef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/aa6067c7-c03b-41d1-8259-28cd4c449eef/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aa6067c7-c03b-41d1-8259-28cd4c449eef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2611642198089157@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2611642198089157@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17375597936095322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17375597936095322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9984125c-20f1-4eaf-b0b7-9eef7a4bdcc1" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9984125c-20f1-4eaf-b0b7-9eef7a4bdcc1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7346331584073967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7346331584073967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.35013764009276915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.35013764009276915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/efdcd8ac-b017-4e87-97d5-d40bf52900dc" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"efdcd8ac-b017-4e87-97d5-d40bf52900dc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/efdcd8ac-b017-4e87-97d5-d40bf52900dc/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"efdcd8ac-b017-4e87-97d5-d40bf52900dc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17748540674505864@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17748540674505864@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/cb39140f-a779-4788-a5fa-2c664bba1ee7" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb39140f-a779-4788-a5fa-2c664bba1ee7"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8758843046428065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8758843046428065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b5673b60-0acf-4c51-97e4-651d691497ec" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"b5673b60-0acf-4c51-97e4-651d691497ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/b5673b60-0acf-4c51-97e4-651d691497ec/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b5673b60-0acf-4c51-97e4-651d691497ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7d5a6c1b-c0b5-4115-81c5-a4a89c62be93" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"7d5a6c1b-c0b5-4115-81c5-a4a89c62be93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/7d5a6c1b-c0b5-4115-81c5-a4a89c62be93/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d5a6c1b-c0b5-4115-81c5-a4a89c62be93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7707c15a-76bc-40bd-8306-e2b456af99be" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"7707c15a-76bc-40bd-8306-e2b456af99be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/7707c15a-76bc-40bd-8306-e2b456af99be/publish" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7707c15a-76bc-40bd-8306-e2b456af99be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 156)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2525682914234544@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2525682914234544@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4e30a4a6-b88c-41fd-a155-71f931bab87e" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-483", "content"=>"content-876", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"4e30a4a6-b88c-41fd-a155-71f931bab87e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:03:52 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 175)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 144)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 156)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.347624705944644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.347624705944644@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9515c69f-76bd-44fa-aa87-14661be7881c" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"9515c69f-76bd-44fa-aa87-14661be7881c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 114)
Started POST "/users/me/announcements/9515c69f-76bd-44fa-aa87-14661be7881c/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9515c69f-76bd-44fa-aa87-14661be7881c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 166)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b4e8ca09-5e1d-4911-8aef-ccdc8c660d41" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"b4e8ca09-5e1d-4911-8aef-ccdc8c660d41"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b4e8ca09-5e1d-4911-8aef-ccdc8c660d41/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4e8ca09-5e1d-4911-8aef-ccdc8c660d41"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cd152210-4332-4906-9d7c-18ac04c65c44" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"cd152210-4332-4906-9d7c-18ac04c65c44"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/cd152210-4332-4906-9d7c-18ac04c65c44/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cd152210-4332-4906-9d7c-18ac04c65c44"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9872822278054231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9872822278054231@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1ec66748-463d-44f7-bfec-0d4fb67ddeae" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-856", "content"=>"content-86", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"1ec66748-463d-44f7-bfec-0d4fb67ddeae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8464354517304499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8464354517304499@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.508759613975596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.508759613975596@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6e272de1-4872-49ee-b966-fe229ddd7532" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"6e272de1-4872-49ee-b966-fe229ddd7532"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6e272de1-4872-49ee-b966-fe229ddd7532/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6e272de1-4872-49ee-b966-fe229ddd7532"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05303119289678748@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05303119289678748@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.718692466567331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.718692466567331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3584d1e3-96db-4f3b-ac6d-7b11ecbff5ec" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"3584d1e3-96db-4f3b-ac6d-7b11ecbff5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3584d1e3-96db-4f3b-ac6d-7b11ecbff5ec/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3584d1e3-96db-4f3b-ac6d-7b11ecbff5ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bfee5279-9570-4632-bab6-6712d959c6f9" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"bfee5279-9570-4632-bab6-6712d959c6f9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bfee5279-9570-4632-bab6-6712d959c6f9/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bfee5279-9570-4632-bab6-6712d959c6f9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/97416541-9a79-495b-a35e-892c644fe18f" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"97416541-9a79-495b-a35e-892c644fe18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/97416541-9a79-495b-a35e-892c644fe18f/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"97416541-9a79-495b-a35e-892c644fe18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 130)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43861880752067517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43861880752067517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/b4158362-6655-474c-841d-d3ee90ac70af" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b4158362-6655-474c-841d-d3ee90ac70af"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.767634426051807@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.767634426051807@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7963287062371129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7963287062371129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f07d8bb8-046a-44da-b8e8-a819b5a60a9a" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f07d8bb8-046a-44da-b8e8-a819b5a60a9a"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21317703339261462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21317703339261462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8e64e4f0-9289-4152-8828-1e400189e583" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8e64e4f0-9289-4152-8828-1e400189e583"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/8e64e4f0-9289-4152-8828-1e400189e583/publish" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e64e4f0-9289-4152-8828-1e400189e583"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3221611703727415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3221611703727415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3235716831041503@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3235716831041503@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c962633c-9004-476f-8c4c-c50676b7e35e" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c962633c-9004-476f-8c4c-c50676b7e35e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15238529778057008@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15238529778057008@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19704479451185108@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19704479451185108@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/02145109-c3b8-44d6-8f01-aeb4e6bed351" for 127.0.0.1 at 2024-05-06 09:04:10 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"02145109-c3b8-44d6-8f01-aeb4e6bed351"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18412809396827323@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18412809396827323@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/6631c4fe-905c-40a9-842f-5ad8356275f9" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"6631c4fe-905c-40a9-842f-5ad8356275f9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/6631c4fe-905c-40a9-842f-5ad8356275f9/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6631c4fe-905c-40a9-842f-5ad8356275f9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9915d051-4fc4-46c0-a4b2-da7f8f5eff95" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"9915d051-4fc4-46c0-a4b2-da7f8f5eff95"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/9915d051-4fc4-46c0-a4b2-da7f8f5eff95/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9915d051-4fc4-46c0-a4b2-da7f8f5eff95"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/393f8532-b573-41e9-9b44-26b45849be97" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"393f8532-b573-41e9-9b44-26b45849be97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/393f8532-b573-41e9-9b44-26b45849be97/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"393f8532-b573-41e9-9b44-26b45849be97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 188)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9699448357029778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9699448357029778@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/10f3ae40-a569-4e97-8818-aa89b0eeb6ef" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-594", "content"=>"content-62", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"10f3ae40-a569-4e97-8818-aa89b0eeb6ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.822141768889563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.822141768889563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22165703923043434@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22165703923043434@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c4906687-d746-4c49-be29-b1a6f499e016" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c4906687-d746-4c49-be29-b1a6f499e016"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5641543379276986@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5641543379276986@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/bb2cdf4f-743d-42e3-9aa1-d2c635983c7e" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb2cdf4f-743d-42e3-9aa1-d2c635983c7e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6263424562532088@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6263424562532088@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8791422d-74a2-4989-bd51-5404f051a491" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8791422d-74a2-4989-bd51-5404f051a491"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/8791422d-74a2-4989-bd51-5404f051a491/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8791422d-74a2-4989-bd51-5404f051a491"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10209950038406146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10209950038406146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25616147930067656@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25616147930067656@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/693d4063-59f1-425d-95cb-55609f1e7d08" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"693d4063-59f1-425d-95cb-55609f1e7d08"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/693d4063-59f1-425d-95cb-55609f1e7d08/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"693d4063-59f1-425d-95cb-55609f1e7d08"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9291059872047851@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9291059872047851@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.018468021628675557@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.018468021628675557@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e52dfa90-0f2d-43d0-9efe-b736d187845f" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e52dfa90-0f2d-43d0-9efe-b736d187845f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e52dfa90-0f2d-43d0-9efe-b736d187845f/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e52dfa90-0f2d-43d0-9efe-b736d187845f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3ac22ae8-3fc3-4313-aa4c-095eed5bd555" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"3ac22ae8-3fc3-4313-aa4c-095eed5bd555"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3ac22ae8-3fc3-4313-aa4c-095eed5bd555/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3ac22ae8-3fc3-4313-aa4c-095eed5bd555"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a79c863d-a102-4dc5-b249-78af5c44611a" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"a79c863d-a102-4dc5-b249-78af5c44611a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a79c863d-a102-4dc5-b249-78af5c44611a/publish" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a79c863d-a102-4dc5-b249-78af5c44611a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7284962689024723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7284962689024723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5256770754757204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5256770754757204@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/95b03b39-a6c5-4911-8a67-32bd9aed15d7" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"95b03b39-a6c5-4911-8a67-32bd9aed15d7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4158565190828333@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4158565190828333@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7557732907052696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7557732907052696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fe856278-9e98-40c9-840a-7306c9b1f3e2" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fe856278-9e98-40c9-840a-7306c9b1f3e2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:04:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1994805161599683@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1994805161599683@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8057855700956682@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8057855700956682@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/7e6bf57f-fd65-4d33-a4dc-e0d82db16485" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7e6bf57f-fd65-4d33-a4dc-e0d82db16485"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9008334442154259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9008334442154259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05431425904911946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05431425904911946@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/de9bf2fa-5e96-4a89-8457-b2efbfb45383" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"de9bf2fa-5e96-4a89-8457-b2efbfb45383"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1556416939059112@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1556416939059112@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 158)
Started GET "/users/me/announcements/29028c61-89ed-473a-b3b1-37aba1cc2966" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"29028c61-89ed-473a-b3b1-37aba1cc2966"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1412247339834064@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1412247339834064@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9910480588674848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9910480588674848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bea51c1f-c1d7-4eb3-a6c8-64f52bdc9201" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"bea51c1f-c1d7-4eb3-a6c8-64f52bdc9201"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bea51c1f-c1d7-4eb3-a6c8-64f52bdc9201/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bea51c1f-c1d7-4eb3-a6c8-64f52bdc9201"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f398e5ad-e4f2-4921-8fe5-1d96c75903af" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f398e5ad-e4f2-4921-8fe5-1d96c75903af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f398e5ad-e4f2-4921-8fe5-1d96c75903af/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f398e5ad-e4f2-4921-8fe5-1d96c75903af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4aa73527-c357-4490-9aa9-c5942961f17e" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"4aa73527-c357-4490-9aa9-c5942961f17e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4aa73527-c357-4490-9aa9-c5942961f17e/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4aa73527-c357-4490-9aa9-c5942961f17e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2453783696595374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2453783696595374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5a252d4a-6b99-42e5-b0a4-ee7d2e31e692" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5a252d4a-6b99-42e5-b0a4-ee7d2e31e692"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/5a252d4a-6b99-42e5-b0a4-ee7d2e31e692/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5a252d4a-6b99-42e5-b0a4-ee7d2e31e692"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7059525590516147@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7059525590516147@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3567848101030282@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3567848101030282@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/628c6c8f-c97d-4ff5-8e36-343ac16f78fb" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"628c6c8f-c97d-4ff5-8e36-343ac16f78fb"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9647684583899703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9647684583899703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.806686482176459@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.806686482176459@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/66aaa32d-49d7-40d0-b60f-89310f3483ac" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"66aaa32d-49d7-40d0-b60f-89310f3483ac"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/66aaa32d-49d7-40d0-b60f-89310f3483ac/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"66aaa32d-49d7-40d0-b60f-89310f3483ac"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5770167878059836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5770167878059836@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1814d88c-5ac3-43fc-a362-30809061de36" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-477", "content"=>"content-549", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"1814d88c-5ac3-43fc-a362-30809061de36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 160)
Started POST "/users/me/announcements/1814d88c-5ac3-43fc-a362-30809061de36/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1814d88c-5ac3-43fc-a362-30809061de36"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 135)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_search_with_no_location
-------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7984536365866657@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7984536365866657@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0145db29-3721-440e-a577-a6d0d39e9725" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"0145db29-3721-440e-a577-a6d0d39e9725"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/0145db29-3721-440e-a577-a6d0d39e9725/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0145db29-3721-440e-a577-a6d0d39e9725"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aad50b84-ea14-4ddf-91ee-35f02b3c8919" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"aad50b84-ea14-4ddf-91ee-35f02b3c8919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/aad50b84-ea14-4ddf-91ee-35f02b3c8919/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aad50b84-ea14-4ddf-91ee-35f02b3c8919"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/89e2547b-3530-4349-a0b2-2baf7565c061" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"89e2547b-3530-4349-a0b2-2baf7565c061"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/89e2547b-3530-4349-a0b2-2baf7565c061/publish" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"89e2547b-3530-4349-a0b2-2baf7565c061"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:05:14 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10835616137555326@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10835616137555326@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5264977111111633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5264977111111633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/17d058fa-b2f0-4ef5-9e78-d73b742cf662" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"17d058fa-b2f0-4ef5-9e78-d73b742cf662"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31686716353003763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31686716353003763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5214314988291111@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5214314988291111@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a5dc8832-9094-4159-b89e-d99642d77643" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a5dc8832-9094-4159-b89e-d99642d77643"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/a5dc8832-9094-4159-b89e-d99642d77643/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a5dc8832-9094-4159-b89e-d99642d77643"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8018606295392993@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8018606295392993@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1774ea7c-f324-4aac-a40d-14ef9c291d9d" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1774ea7c-f324-4aac-a40d-14ef9c291d9d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/1774ea7c-f324-4aac-a40d-14ef9c291d9d/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1774ea7c-f324-4aac-a40d-14ef9c291d9d"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11786816629754049@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11786816629754049@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8361088011009504@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8361088011009504@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ecb30ad1-4aed-47ac-9960-95f2d0e04e26" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ecb30ad1-4aed-47ac-9960-95f2d0e04e26"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8390059151387791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8390059151387791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8693884688012772@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8693884688012772@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/242800ae-08c0-46b0-a24e-3d4072013066" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"242800ae-08c0-46b0-a24e-3d4072013066"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/242800ae-08c0-46b0-a24e-3d4072013066/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"242800ae-08c0-46b0-a24e-3d4072013066"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c78999bf-7e4b-4c34-a6b2-3ffc9a896259" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"c78999bf-7e4b-4c34-a6b2-3ffc9a896259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c78999bf-7e4b-4c34-a6b2-3ffc9a896259/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c78999bf-7e4b-4c34-a6b2-3ffc9a896259"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b57c3c01-176b-4b17-9f45-c23ee8fbd307" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"b57c3c01-176b-4b17-9f45-c23ee8fbd307"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b57c3c01-176b-4b17-9f45-c23ee8fbd307/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b57c3c01-176b-4b17-9f45-c23ee8fbd307"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8846322040846368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8846322040846368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/6348007d-394e-49a0-bd27-c5601586cfbb" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6348007d-394e-49a0-bd27-c5601586cfbb"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6581553779940615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6581553779940615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7661438172212359@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7661438172212359@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/19b12e55-57ff-4066-8950-6e4b6069cd5c" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"19b12e55-57ff-4066-8950-6e4b6069cd5c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 157)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7231650780519707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7231650780519707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/004ee8ea-fe2b-45ce-988f-b936ea86df2c" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"004ee8ea-fe2b-45ce-988f-b936ea86df2c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/004ee8ea-fe2b-45ce-988f-b936ea86df2c/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"004ee8ea-fe2b-45ce-988f-b936ea86df2c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ad19328a-a7d2-4725-92ed-f5c1dcc1f487" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"ad19328a-a7d2-4725-92ed-f5c1dcc1f487"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ad19328a-a7d2-4725-92ed-f5c1dcc1f487/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ad19328a-a7d2-4725-92ed-f5c1dcc1f487"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/995a20ad-aa45-4bbb-8b36-6cd00acc98b3" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"995a20ad-aa45-4bbb-8b36-6cd00acc98b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/995a20ad-aa45-4bbb-8b36-6cd00acc98b3/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"995a20ad-aa45-4bbb-8b36-6cd00acc98b3"}
Completed 200 OK in 10ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 179)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03458867053246428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03458867053246428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/96ffcd1f-3da7-4a6a-a056-002b08d94b44" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-449", "content"=>"content-918", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"96ffcd1f-3da7-4a6a-a056-002b08d94b44"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
Started POST "/users/me/announcements/96ffcd1f-3da7-4a6a-a056-002b08d94b44/publish" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"96ffcd1f-3da7-4a6a-a056-002b08d94b44"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 122)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:13 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22915384148508144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22915384148508144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9632676828829156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9632676828829156@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/abbc1597-7e07-43a0-8ace-9bbd7e9d5f6d" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"abbc1597-7e07-43a0-8ace-9bbd7e9d5f6d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3554555214993088@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3554555214993088@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5712416777793137@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5712416777793137@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1917f6d9-d628-4218-80f4-2af1de8c6d05" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1917f6d9-d628-4218-80f4-2af1de8c6d05"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.828746074760823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.828746074760823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bcee330d-5a17-4d0f-a0e4-df4c7ee3e5eb" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bcee330d-5a17-4d0f-a0e4-df4c7ee3e5eb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started POST "/users/me/announcements/bcee330d-5a17-4d0f-a0e4-df4c7ee3e5eb/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bcee330d-5a17-4d0f-a0e4-df4c7ee3e5eb"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2773188802465727@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2773188802465727@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 154)
Started GET "/users/me/announcements/7af88e08-adff-4759-813e-29fe86c9be03" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7af88e08-adff-4759-813e-29fe86c9be03"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3425465265017874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3425465265017874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3485103443547438@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3485103443547438@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4b93e465-90ee-4395-b8ec-d97fb09e583b" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"4b93e465-90ee-4395-b8ec-d97fb09e583b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4b93e465-90ee-4395-b8ec-d97fb09e583b/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4b93e465-90ee-4395-b8ec-d97fb09e583b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/00b64752-a1da-4879-80d2-047e9630ab42" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"00b64752-a1da-4879-80d2-047e9630ab42"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/00b64752-a1da-4879-80d2-047e9630ab42/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"00b64752-a1da-4879-80d2-047e9630ab42"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a9b47e54-d54e-4dcc-b72c-1de26038f866" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"a9b47e54-d54e-4dcc-b72c-1de26038f866"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a9b47e54-d54e-4dcc-b72c-1de26038f866/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9b47e54-d54e-4dcc-b72c-1de26038f866"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3567419564023492@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3567419564023492@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7296410202124479@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7296410202124479@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d479cd08-c592-4f15-a75f-36896c60aeb4" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d479cd08-c592-4f15-a75f-36896c60aeb4"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6689196079401483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6689196079401483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14853641025851927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14853641025851927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9c14610f-5ce3-4640-a134-6f809f4fdc20" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"9c14610f-5ce3-4640-a134-6f809f4fdc20"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9c14610f-5ce3-4640-a134-6f809f4fdc20/publish" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9c14610f-5ce3-4640-a134-6f809f4fdc20"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 157)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31527228464911095@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31527228464911095@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/01ada3cf-1d44-4797-8675-4ecac0fc2cbe" for 127.0.0.1 at 2024-05-06 09:06:48 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"01ada3cf-1d44-4797-8675-4ecac0fc2cbe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/01ada3cf-1d44-4797-8675-4ecac0fc2cbe/publish" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"01ada3cf-1d44-4797-8675-4ecac0fc2cbe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ee240518-e622-483f-b2db-410a1c9eb7fa" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"ee240518-e622-483f-b2db-410a1c9eb7fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ee240518-e622-483f-b2db-410a1c9eb7fa/publish" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee240518-e622-483f-b2db-410a1c9eb7fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/79325e45-b8c5-41a8-baf3-5d233c94a6f4" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"79325e45-b8c5-41a8-baf3-5d233c94a6f4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/79325e45-b8c5-41a8-baf3-5d233c94a6f4/publish" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"79325e45-b8c5-41a8-baf3-5d233c94a6f4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 169)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.693570759050073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.693570759050073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0ba6bd89-1735-4cb2-a558-8a7a61839fb9" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-335", "content"=>"content-663", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"0ba6bd89-1735-4cb2-a558-8a7a61839fb9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements/0ba6bd89-1735-4cb2-a558-8a7a61839fb9/publish" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0ba6bd89-1735-4cb2-a558-8a7a61839fb9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 125)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:06:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2862616839294233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1098)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2862616839294233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.41437819497409567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 123)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.41437819497409567@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/b05bf01c-97d5-4924-ba00-704141fbb55c" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"b05bf01c-97d5-4924-ba00-704141fbb55c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/b05bf01c-97d5-4924-ba00-704141fbb55c/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b05bf01c-97d5-4924-ba00-704141fbb55c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 167)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/64a0a986-6bf2-42f6-915d-ac1766021cbf" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"64a0a986-6bf2-42f6-915d-ac1766021cbf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/64a0a986-6bf2-42f6-915d-ac1766021cbf/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"64a0a986-6bf2-42f6-915d-ac1766021cbf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/88707229-475e-48d3-9550-cd6009731da6" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"88707229-475e-48d3-9550-cd6009731da6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started POST "/users/me/announcements/88707229-475e-48d3-9550-cd6009731da6/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"88707229-475e-48d3-9550-cd6009731da6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 101)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 130)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.564081798933759@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.564081798933759@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9234797866320761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 120)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9234797866320761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/766c4102-f7f5-4876-9d5a-d3735750687f" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"766c4102-f7f5-4876-9d5a-d3735750687f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/766c4102-f7f5-4876-9d5a-d3735750687f/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"766c4102-f7f5-4876-9d5a-d3735750687f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2789746803048564@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2789746803048564@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19431873627768703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19431873627768703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/aadacfd0-b874-403d-996f-7e6419a26f76" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"aadacfd0-b874-403d-996f-7e6419a26f76"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7201336947723171@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7201336947723171@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7378103175125651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7378103175125651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/8fb2a577-a78e-4311-a803-fb852d009eba" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8fb2a577-a78e-4311-a803-fb852d009eba"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9189575489129568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9189575489129568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/85eacd5b-05b8-42a7-98e2-3525cd65151c" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"85eacd5b-05b8-42a7-98e2-3525cd65151c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/85eacd5b-05b8-42a7-98e2-3525cd65151c/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"85eacd5b-05b8-42a7-98e2-3525cd65151c"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3981484868266585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3981484868266585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/fdb4828d-2da3-4712-a8fd-b0a6f38f1257" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdb4828d-2da3-4712-a8fd-b0a6f38f1257"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7499564735761935@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7499564735761935@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4025655191648312@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4025655191648312@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a183d204-8aa0-451d-ab91-24ae64f78799" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a183d204-8aa0-451d-ab91-24ae64f78799"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4928738114138619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4928738114138619@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dc065593-76cd-41d2-9864-0cb95b5c3b4d" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"dc065593-76cd-41d2-9864-0cb95b5c3b4d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/dc065593-76cd-41d2-9864-0cb95b5c3b4d/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dc065593-76cd-41d2-9864-0cb95b5c3b4d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/56d02570-92da-4487-8035-74a572e78260" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"56d02570-92da-4487-8035-74a572e78260"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/56d02570-92da-4487-8035-74a572e78260/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"56d02570-92da-4487-8035-74a572e78260"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/555d59fd-a94f-4586-8634-39a03cc2397f" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"555d59fd-a94f-4586-8634-39a03cc2397f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/555d59fd-a94f-4586-8634-39a03cc2397f/publish" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"555d59fd-a94f-4586-8634-39a03cc2397f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6604168714138248@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6604168714138248@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cbba5bba-15ae-4b5c-82b6-a386dc8d1f39" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-896", "content"=>"content-326", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cbba5bba-15ae-4b5c-82b6-a386dc8d1f39"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 143)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:00 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:08:15 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1028)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03554450658982233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 279)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03554450658982233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/1cf1b6df-6fee-4b61-b400-a42432d6ae20" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-649", "content"=>"content-94", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"1cf1b6df-6fee-4b61-b400-a42432d6ae20"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/1cf1b6df-6fee-4b61-b400-a42432d6ae20/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1cf1b6df-6fee-4b61-b400-a42432d6ae20"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4884830313042805@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4884830313042805@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fdae575e-bce0-4ce8-97e3-8bfde9396be6" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"fdae575e-bce0-4ce8-97e3-8bfde9396be6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/fdae575e-bce0-4ce8-97e3-8bfde9396be6/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdae575e-bce0-4ce8-97e3-8bfde9396be6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a60235fc-9354-4474-afe0-39d1cda414f8" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"a60235fc-9354-4474-afe0-39d1cda414f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/a60235fc-9354-4474-afe0-39d1cda414f8/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a60235fc-9354-4474-afe0-39d1cda414f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/20628318-de15-416d-96e8-6741733af081" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"20628318-de15-416d-96e8-6741733af081"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/20628318-de15-416d-96e8-6741733af081/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"20628318-de15-416d-96e8-6741733af081"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8858707700202587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8858707700202587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
Started PATCH "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/d23477cb-206d-4158-a4fe-22bf825a5176" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d23477cb-206d-4158-a4fe-22bf825a5176"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8465397381969996@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8465397381969996@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6165846201823557@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6165846201823557@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2ba25793-a228-4da6-afdc-fd8d9c24cd7b" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"2ba25793-a228-4da6-afdc-fd8d9c24cd7b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2ba25793-a228-4da6-afdc-fd8d9c24cd7b/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2ba25793-a228-4da6-afdc-fd8d9c24cd7b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/06cf4b8c-d7fc-4e4f-95f7-06ba5ba8a9d7" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"06cf4b8c-d7fc-4e4f-95f7-06ba5ba8a9d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/06cf4b8c-d7fc-4e4f-95f7-06ba5ba8a9d7/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"06cf4b8c-d7fc-4e4f-95f7-06ba5ba8a9d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d2fac1a6-b0da-48fa-8b78-cf884f6e0ceb" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"d2fac1a6-b0da-48fa-8b78-cf884f6e0ceb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/d2fac1a6-b0da-48fa-8b78-cf884f6e0ceb/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d2fac1a6-b0da-48fa-8b78-cf884f6e0ceb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8113783838501885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8113783838501885@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6519710438418325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6519710438418325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3849aff1-ed49-40e5-afc4-32d8e7e585db" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3849aff1-ed49-40e5-afc4-32d8e7e585db"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5252019725916331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5252019725916331@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1947269966926165@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1947269966926165@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/60b328e1-aa44-48c3-89bc-db33978b76ef" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"60b328e1-aa44-48c3-89bc-db33978b76ef"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6590518343528824@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6590518343528824@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3296727386995374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3296727386995374@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/86acec13-81fa-4072-b767-0c4e69caddb3" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"86acec13-81fa-4072-b767-0c4e69caddb3"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8418924745633882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8418924745633882@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2398039995232789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2398039995232789@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/873507ce-8f4a-40d4-aabb-851f29af9fb6" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"873507ce-8f4a-40d4-aabb-851f29af9fb6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/873507ce-8f4a-40d4-aabb-851f29af9fb6/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"873507ce-8f4a-40d4-aabb-851f29af9fb6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49761867902187495@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49761867902187495@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e14c66b6-f69f-465a-ad3e-29360be1ff7f" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e14c66b6-f69f-465a-ad3e-29360be1ff7f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/e14c66b6-f69f-465a-ad3e-29360be1ff7f/publish" for 127.0.0.1 at 2024-05-06 09:08:16 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e14c66b6-f69f-465a-ad3e-29360be1ff7f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.252245691851399@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.252245691851399@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/8715051c-2c94-4c36-ac75-aab0fb232f3a" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"8715051c-2c94-4c36-ac75-aab0fb232f3a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started POST "/users/me/announcements/8715051c-2c94-4c36-ac75-aab0fb232f3a/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8715051c-2c94-4c36-ac75-aab0fb232f3a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/40874f2f-6c19-4482-91c5-0c3fa1882bfd" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"40874f2f-6c19-4482-91c5-0c3fa1882bfd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/40874f2f-6c19-4482-91c5-0c3fa1882bfd/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"40874f2f-6c19-4482-91c5-0c3fa1882bfd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/eb80faab-cc34-44a5-ad35-01df00976593" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"eb80faab-cc34-44a5-ad35-01df00976593"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/eb80faab-cc34-44a5-ad35-01df00976593/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eb80faab-cc34-44a5-ad35-01df00976593"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 193)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24075617608493893@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24075617608493893@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e41f27bc-989c-4073-b35b-dd050db4d0ea" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-134", "content"=>"content-421", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e41f27bc-989c-4073-b35b-dd050db4d0ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/e41f27bc-989c-4073-b35b-dd050db4d0ea/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e41f27bc-989c-4073-b35b-dd050db4d0ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6797604164351483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6797604164351483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1624101503109917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1624101503109917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8960e720-267a-41e2-899f-97e7615e6db7" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"8960e720-267a-41e2-899f-97e7615e6db7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8960e720-267a-41e2-899f-97e7615e6db7/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8960e720-267a-41e2-899f-97e7615e6db7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/83dd07d6-222f-450d-b48f-7dc0ebe30c92" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"83dd07d6-222f-450d-b48f-7dc0ebe30c92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/83dd07d6-222f-450d-b48f-7dc0ebe30c92/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"83dd07d6-222f-450d-b48f-7dc0ebe30c92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/52f964aa-23b1-4cab-a298-75ec1471e9d6" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"52f964aa-23b1-4cab-a298-75ec1471e9d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/52f964aa-23b1-4cab-a298-75ec1471e9d6/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"52f964aa-23b1-4cab-a298-75ec1471e9d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4099496127913237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4099496127913237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/460e06a6-656e-47f4-bd21-b5b855850ac4" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"460e06a6-656e-47f4-bd21-b5b855850ac4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/460e06a6-656e-47f4-bd21-b5b855850ac4/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"460e06a6-656e-47f4-bd21-b5b855850ac4"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4947506490151925@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4947506490151925@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.969541097306399@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.969541097306399@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2ccc5bbf-01b2-47f1-8b2f-0521402de440" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"2ccc5bbf-01b2-47f1-8b2f-0521402de440"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2ccc5bbf-01b2-47f1-8b2f-0521402de440/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2ccc5bbf-01b2-47f1-8b2f-0521402de440"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25320995452046735@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25320995452046735@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8396658758698674@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8396658758698674@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/17a6f77f-e565-4164-92c4-7187053c2942" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"17a6f77f-e565-4164-92c4-7187053c2942"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6916076648571207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6916076648571207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
Started PATCH "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66/publish" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/3abff105-ac29-4aed-9ea0-88a7852aba66" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3abff105-ac29-4aed-9ea0-88a7852aba66"}
Completed 200 OK in 0ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7330506476711529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7330506476711529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3525508728895266@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3525508728895266@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/495675d2-8590-4332-8adb-d5a359de582f" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"495675d2-8590-4332-8adb-d5a359de582f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07233804437245517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07233804437245517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.912431957989071@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.912431957989071@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b6205a7e-dbe2-46a4-8349-91888df79184" for 127.0.0.1 at 2024-05-06 09:09:24 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b6205a7e-dbe2-46a4-8349-91888df79184"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1125)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2661213675753006@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2661213675753006@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 387)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 183)
Started PATCH "/users/me/announcements/dd561d77-96e3-44c5-8010-c9e1e789685f" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"dd561d77-96e3-44c5-8010-c9e1e789685f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/dd561d77-96e3-44c5-8010-c9e1e789685f/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dd561d77-96e3-44c5-8010-c9e1e789685f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/323a4f32-4763-430e-8d90-08583418d1e6" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"323a4f32-4763-430e-8d90-08583418d1e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/323a4f32-4763-430e-8d90-08583418d1e6/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"323a4f32-4763-430e-8d90-08583418d1e6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a1598708-b270-433c-ab95-3538f5c61269" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"a1598708-b270-433c-ab95-3538f5c61269"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/a1598708-b270-433c-ab95-3538f5c61269/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a1598708-b270-433c-ab95-3538f5c61269"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19115713832327175@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19115713832327175@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3b0ada93-cab1-432d-9e54-48b342c77e70" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-534", "content"=>"content-133", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3b0ada93-cab1-432d-9e54-48b342c77e70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/3b0ada93-cab1-432d-9e54-48b342c77e70/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3b0ada93-cab1-432d-9e54-48b342c77e70"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33241156052006715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33241156052006715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f766a2e4-40eb-46af-8a2d-60e55a9d18fc" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f766a2e4-40eb-46af-8a2d-60e55a9d18fc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/f766a2e4-40eb-46af-8a2d-60e55a9d18fc/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f766a2e4-40eb-46af-8a2d-60e55a9d18fc"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7642523489745063@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7642523489745063@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.27817585158118274@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.27817585158118274@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a87dbefb-e74c-4231-b09b-a4cc720f65c9" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a87dbefb-e74c-4231-b09b-a4cc720f65c9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a87dbefb-e74c-4231-b09b-a4cc720f65c9/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a87dbefb-e74c-4231-b09b-a4cc720f65c9"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16022187012397848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16022187012397848@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09678523586029697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09678523586029697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/99d0e532-c587-426f-b1dd-e622bf8b3591" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"99d0e532-c587-426f-b1dd-e622bf8b3591"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/99d0e532-c587-426f-b1dd-e622bf8b3591/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"99d0e532-c587-426f-b1dd-e622bf8b3591"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b79fc85d-e8ab-4b69-9cdf-ac5ee555b39b" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"b79fc85d-e8ab-4b69-9cdf-ac5ee555b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/b79fc85d-e8ab-4b69-9cdf-ac5ee555b39b/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b79fc85d-e8ab-4b69-9cdf-ac5ee555b39b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e3ec150a-aa3a-4d28-b2a7-72c481162a9e" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"e3ec150a-aa3a-4d28-b2a7-72c481162a9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e3ec150a-aa3a-4d28-b2a7-72c481162a9e/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e3ec150a-aa3a-4d28-b2a7-72c481162a9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8898182624622812@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8898182624622812@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8050272833918565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8050272833918565@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/baaf3134-4b10-41f8-897f-dd8f238a322e" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"baaf3134-4b10-41f8-897f-dd8f238a322e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2463209047194045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2463209047194045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
Started PATCH "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1/publish" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/3febfb96-0e9d-4068-a451-5665650abdc1" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3febfb96-0e9d-4068-a451-5665650abdc1"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2624894113103904@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2624894113103904@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33079973940068397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33079973940068397@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9d7596de-4ea8-46c7-af08-ece8003a58d9" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9d7596de-4ea8-46c7-af08-ece8003a58d9"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9696506748931907@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9696506748931907@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8306185079015658@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8306185079015658@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/29599853-60bb-4f40-9f7e-98a3b8ab569f" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"29599853-60bb-4f40-9f7e-98a3b8ab569f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:09:33 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19684123796701225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19684123796701225@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03857662432251385@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03857662432251385@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/e71646b9-a61b-41db-bd7a-9f7e450b5143" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e71646b9-a61b-41db-bd7a-9f7e450b5143"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/e71646b9-a61b-41db-bd7a-9f7e450b5143/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e71646b9-a61b-41db-bd7a-9f7e450b5143"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 168)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6072ecef-c18c-4f43-9d40-f5d32c86e399" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"6072ecef-c18c-4f43-9d40-f5d32c86e399"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6072ecef-c18c-4f43-9d40-f5d32c86e399/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6072ecef-c18c-4f43-9d40-f5d32c86e399"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e4b7d672-c469-4356-abe5-2aa9032fd3c4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"e4b7d672-c469-4356-abe5-2aa9032fd3c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e4b7d672-c469-4356-abe5-2aa9032fd3c4/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4b7d672-c469-4356-abe5-2aa9032fd3c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1873047409233568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1873047409233568@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14178067757948098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14178067757948098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/833a290c-eccb-4d49-8851-ad5a997d1e4d" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"833a290c-eccb-4d49-8851-ad5a997d1e4d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.38593457708667034@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.38593457708667034@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/83df6c0a-6423-4785-adab-005d35d598e4" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"83df6c0a-6423-4785-adab-005d35d598e4"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17833655120080794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17833655120080794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0448168225158283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0448168225158283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f7be443a-b1da-44bf-8327-3435530ab391" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f7be443a-b1da-44bf-8327-3435530ab391"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9024551749976685@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9024551749976685@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1c2df8ca-8e68-4dfb-8cd7-e93cd5deb95b" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1c2df8ca-8e68-4dfb-8cd7-e93cd5deb95b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/1c2df8ca-8e68-4dfb-8cd7-e93cd5deb95b/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1c2df8ca-8e68-4dfb-8cd7-e93cd5deb95b"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6976556848938509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6976556848938509@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4142233168666578@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4142233168666578@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/90dd3999-9583-4a5b-972d-b468edcca928" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"90dd3999-9583-4a5b-972d-b468edcca928"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/90dd3999-9583-4a5b-972d-b468edcca928/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"90dd3999-9583-4a5b-972d-b468edcca928"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3129439028155174@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3129439028155174@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.062493349547751875@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.062493349547751875@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f7c803fd-79b8-4017-8a06-4e4f75dcef71" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f7c803fd-79b8-4017-8a06-4e4f75dcef71"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7394583552655994@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7394583552655994@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1400def5-8395-4fcc-afa2-27b8d5ff6d3e" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-312", "content"=>"content-19", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"1400def5-8395-4fcc-afa2-27b8d5ff6d3e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started POST "/users/me/announcements/1400def5-8395-4fcc-afa2-27b8d5ff6d3e/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1400def5-8395-4fcc-afa2-27b8d5ff6d3e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 139)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06508075590934237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06508075590934237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2a1d5a3f-8b7f-4f96-a9d3-919f1f4b6f2b" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"2a1d5a3f-8b7f-4f96-a9d3-919f1f4b6f2b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/2a1d5a3f-8b7f-4f96-a9d3-919f1f4b6f2b/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2a1d5a3f-8b7f-4f96-a9d3-919f1f4b6f2b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2d1f6aeb-515c-451c-8eac-e4c775f4a8c8" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"2d1f6aeb-515c-451c-8eac-e4c775f4a8c8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/2d1f6aeb-515c-451c-8eac-e4c775f4a8c8/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2d1f6aeb-515c-451c-8eac-e4c775f4a8c8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6b5da839-b38b-4ab0-93a1-cadb008e6048" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"6b5da839-b38b-4ab0-93a1-cadb008e6048"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6b5da839-b38b-4ab0-93a1-cadb008e6048/publish" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6b5da839-b38b-4ab0-93a1-cadb008e6048"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8343878170141888@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8343878170141888@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/1f1e05bd-cb08-4988-aeca-b2115156a780" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"1f1e05bd-cb08-4988-aeca-b2115156a780"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/1f1e05bd-cb08-4988-aeca-b2115156a780/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f1e05bd-cb08-4988-aeca-b2115156a780"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2eb4c26e-be40-42fb-bc7a-20222eb3497d" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"2eb4c26e-be40-42fb-bc7a-20222eb3497d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/2eb4c26e-be40-42fb-bc7a-20222eb3497d/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2eb4c26e-be40-42fb-bc7a-20222eb3497d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cac7fb33-4ad8-4828-9078-1e8bb86bed7d" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"cac7fb33-4ad8-4828-9078-1e8bb86bed7d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/cac7fb33-4ad8-4828-9078-1e8bb86bed7d/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cac7fb33-4ad8-4828-9078-1e8bb86bed7d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 192)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.30215920910619365@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.30215920910619365@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2644de65-20c6-440f-aa96-1c40d4671fe4" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-635", "content"=>"content-446", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2644de65-20c6-440f-aa96-1c40d4671fe4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/2644de65-20c6-440f-aa96-1c40d4671fe4/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2644de65-20c6-440f-aa96-1c40d4671fe4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20201594207558982@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20201594207558982@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7134771775591406@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7134771775591406@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9a612d5a-28e9-4141-a4d5-1bcf41c3c763" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"9a612d5a-28e9-4141-a4d5-1bcf41c3c763"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9a612d5a-28e9-4141-a4d5-1bcf41c3c763/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9a612d5a-28e9-4141-a4d5-1bcf41c3c763"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cee51fd6-162b-4e00-abc8-d4e3dde65b27" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"cee51fd6-162b-4e00-abc8-d4e3dde65b27"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cee51fd6-162b-4e00-abc8-d4e3dde65b27/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cee51fd6-162b-4e00-abc8-d4e3dde65b27"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/654d0492-1fda-417f-828e-e78aba553216" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"654d0492-1fda-417f-828e-e78aba553216"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/654d0492-1fda-417f-828e-e78aba553216/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"654d0492-1fda-417f-828e-e78aba553216"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36456741526296377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36456741526296377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16325758743158658@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16325758743158658@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ec787f0a-be6f-447b-bd99-c533cba403ab" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ec787f0a-be6f-447b-bd99-c533cba403ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ec787f0a-be6f-447b-bd99-c533cba403ab/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ec787f0a-be6f-447b-bd99-c533cba403ab"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5288514299172004@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5288514299172004@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/964bf42d-57d4-4989-9b02-3e2ea0c80205" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"964bf42d-57d4-4989-9b02-3e2ea0c80205"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/964bf42d-57d4-4989-9b02-3e2ea0c80205/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"964bf42d-57d4-4989-9b02-3e2ea0c80205"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3127156501026386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3127156501026386@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7692677926272894@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7692677926272894@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fd833407-285d-49af-838b-746202eb7aca" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"fd833407-285d-49af-838b-746202eb7aca"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7858689317595416@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7858689317595416@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2505752873195508@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2505752873195508@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c665328d-aa39-4d28-b772-ec6fbeaa6e9c" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c665328d-aa39-4d28-b772-ec6fbeaa6e9c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8514165571075154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8514165571075154@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 109)
Started POST "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38/publish" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/b53f3891-c18a-4b9f-b97e-900d8ee21f38" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b53f3891-c18a-4b9f-b97e-900d8ee21f38"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46190888589073775@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46190888589073775@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4453364344645485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4453364344645485@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6c730a3f-b2d8-4276-b3b8-9f8382137540" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6c730a3f-b2d8-4276-b3b8-9f8382137540"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 09:10:25 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddPublicAnnouncements (20240506091826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506091826') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 09:43:53.897156', '2024-05-06 09:43:53.897158') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocationToAnnouncements (20240425142030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "announcements" ADD "latitude" decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "announcements" ADD "longitude" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240425142030') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPublicAnnouncements (20240506091826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506091826') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 09:57:11.070734', '2024-05-06 09:57:11.070737') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocationToAnnouncements (20240425142030)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "announcements" ADD "latitude" decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "announcements" ADD "longitude" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240425142030') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPublicAnnouncements (20240506091826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506091826') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddCubeAndEarthdistanceExtension (20240506095916)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE EXTENSION cube;[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE EXTENSION earthdistance;[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506095916') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 10:01:19.276233', '2024-05-06 10:01:19.276235') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocationToAnnouncements (20240425142030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "announcements" ADD "latitude" decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "announcements" ADD "longitude" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240425142030') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPublicAnnouncements (20240506091826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506091826') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCubeAndEarthdistanceExtension (20240506095916)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE EXTENSION cube;[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE EXTENSION earthdistance;[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506095916') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddGistIndexOnPublicAnnouncementsLocation (20240506100349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_public_announcements_on_location" ON "public_announcements" USING gist ("location")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506100349') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "cube"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "earthdistance"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "announcements" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "latitude" decimal, "longitude" decimal)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "credentials" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "public_announcements" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_public_announcements_on_location" ON "public_announcements" USING gist ("location")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240506100349)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240506095916),
(20240506091826),
(20240425142030),
(20240423121101),
(20240423085448);[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 10:13:02.152939', '2024-05-06 10:13:02.152941') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'c065dc0f2924ea39cb10e0194ae30a464eb5ebf9', '2024-05-06 10:13:02.154159', '2024-05-06 10:13:02.154160') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.30386091610407173@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.30386091610407173@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/d7fa27b3-4283-4696-b270-e055af769974" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"d7fa27b3-4283-4696-b270-e055af769974"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/d7fa27b3-4283-4696-b270-e055af769974/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d7fa27b3-4283-4696-b270-e055af769974"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bb7ee143-2ba4-492b-bf7a-7442f45638c4" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"bb7ee143-2ba4-492b-bf7a-7442f45638c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/bb7ee143-2ba4-492b-bf7a-7442f45638c4/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb7ee143-2ba4-492b-bf7a-7442f45638c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e0d453d4-9330-4e8a-90ac-0e5623a90538" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"e0d453d4-9330-4e8a-90ac-0e5623a90538"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/e0d453d4-9330-4e8a-90ac-0e5623a90538/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e0d453d4-9330-4e8a-90ac-0e5623a90538"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 255)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.691420366838579@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.691420366838579@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/acb81826-a56b-45d1-bfbe-c02cee7038bd" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-4", "content"=>"content-180", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"acb81826-a56b-45d1-bfbe-c02cee7038bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/acb81826-a56b-45d1-bfbe-c02cee7038bd/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"acb81826-a56b-45d1-bfbe-c02cee7038bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0725218511985587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0725218511985587@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48341975304643536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48341975304643536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/46f3b3c1-8f52-4e63-8644-169bd102ecba" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"46f3b3c1-8f52-4e63-8644-169bd102ecba"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/46f3b3c1-8f52-4e63-8644-169bd102ecba/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"46f3b3c1-8f52-4e63-8644-169bd102ecba"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2f31e8c4-07ef-4e7d-bf26-86e9c12a29ea" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"2f31e8c4-07ef-4e7d-bf26-86e9c12a29ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/2f31e8c4-07ef-4e7d-bf26-86e9c12a29ea/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2f31e8c4-07ef-4e7d-bf26-86e9c12a29ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23c901a7-758e-4450-873a-f34ca2e4ba4b" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"23c901a7-758e-4450-873a-f34ca2e4ba4b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/23c901a7-758e-4450-873a-f34ca2e4ba4b/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23c901a7-758e-4450-873a-f34ca2e4ba4b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3924678667975794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3924678667975794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/443f85ff-2aa0-4996-b10c-598fa9bc82db" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"443f85ff-2aa0-4996-b10c-598fa9bc82db"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29663707921275306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29663707921275306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06942405591011813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06942405591011813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/25c0550f-f08e-4a4e-b465-d26478eb4528" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"25c0550f-f08e-4a4e-b465-d26478eb4528"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4566312776606869@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4566312776606869@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c1c9caf4-68d3-4589-9138-0a8b8fd6d0e5" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c1c9caf4-68d3-4589-9138-0a8b8fd6d0e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c1c9caf4-68d3-4589-9138-0a8b8fd6d0e5/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c1c9caf4-68d3-4589-9138-0a8b8fd6d0e5"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5269047553018585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5269047553018585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39355540881098805@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39355540881098805@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/55e707e3-b471-4c9a-899f-583f5c59fd83" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"55e707e3-b471-4c9a-899f-583f5c59fd83"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9333238248789336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9333238248789336@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46572689720433913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46572689720433913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bd59855b-a864-4192-a2d0-9e142add8e4a" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bd59855b-a864-4192-a2d0-9e142add8e4a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7214836064286558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7214836064286558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9016592859674838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9016592859674838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/05dd923f-4b95-4b55-85ff-084c142c64ab" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"05dd923f-4b95-4b55-85ff-084c142c64ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/05dd923f-4b95-4b55-85ff-084c142c64ab/publish" for 127.0.0.1 at 2024-05-06 10:13:02 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"05dd923f-4b95-4b55-85ff-084c142c64ab"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9284307474254168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9284307474254168@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 140)
Started PATCH "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 158)
Started GET "/users/me/announcements/2cbe7f5f-f755-490a-9050-e2d172438991" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2cbe7f5f-f755-490a-9050-e2d172438991"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9538303510929717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9538303510929717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7013358487438995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7013358487438995@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/288d1a31-d0b6-4133-ad24-4613505b7df3" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"288d1a31-d0b6-4133-ad24-4613505b7df3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/288d1a31-d0b6-4133-ad24-4613505b7df3/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"288d1a31-d0b6-4133-ad24-4613505b7df3"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11603584878607753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11603584878607753@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22169146795755768@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22169146795755768@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/19054768-9f73-4127-be34-237b459c0338" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"19054768-9f73-4127-be34-237b459c0338"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16739491552468388@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16739491552468388@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aab3718b-7eee-4c27-b741-d06c3be5cc93" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"aab3718b-7eee-4c27-b741-d06c3be5cc93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/aab3718b-7eee-4c27-b741-d06c3be5cc93/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aab3718b-7eee-4c27-b741-d06c3be5cc93"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9294961182808988@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9294961182808988@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2975349808138342@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2975349808138342@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9e7fc151-3c19-4967-a081-f1b3046453ce" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"9e7fc151-3c19-4967-a081-f1b3046453ce"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9e7fc151-3c19-4967-a081-f1b3046453ce/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e7fc151-3c19-4967-a081-f1b3046453ce"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0c24c638-0743-4918-9370-327e24fbf6ef" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"0c24c638-0743-4918-9370-327e24fbf6ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0c24c638-0743-4918-9370-327e24fbf6ef/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0c24c638-0743-4918-9370-327e24fbf6ef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0bab2ad8-d060-4778-b2dc-de5059355286" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"0bab2ad8-d060-4778-b2dc-de5059355286"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0bab2ad8-d060-4778-b2dc-de5059355286/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0bab2ad8-d060-4778-b2dc-de5059355286"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43465348414345917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43465348414345917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8602775599710707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8602775599710707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8ed36e41-1040-4605-9bc1-50b0dadf7daa" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8ed36e41-1040-4605-9bc1-50b0dadf7daa"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.42727487460385194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.42727487460385194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5950963381632806@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5950963381632806@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8e6bc492-0871-4015-a536-1adb55c4050f" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"8e6bc492-0871-4015-a536-1adb55c4050f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 162)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.26181258632990223@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.26181258632990223@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/555b9b1f-d664-4e3b-953b-517066e5ff7e" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"555b9b1f-d664-4e3b-953b-517066e5ff7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/555b9b1f-d664-4e3b-953b-517066e5ff7e/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"555b9b1f-d664-4e3b-953b-517066e5ff7e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ddc4155d-495b-4323-a3a9-40eef3be8b38" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"ddc4155d-495b-4323-a3a9-40eef3be8b38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ddc4155d-495b-4323-a3a9-40eef3be8b38/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddc4155d-495b-4323-a3a9-40eef3be8b38"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9ca1f049-13f3-4c0f-a2c3-1250711107c3" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"9ca1f049-13f3-4c0f-a2c3-1250711107c3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/9ca1f049-13f3-4c0f-a2c3-1250711107c3/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9ca1f049-13f3-4c0f-a2c3-1250711107c3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8289516008992305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8289516008992305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a3c4c9b1-263e-4227-b4a8-52a05768cd87" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-592", "content"=>"content-298", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a3c4c9b1-263e-4227-b4a8-52a05768cd87"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 105)
Started POST "/users/me/announcements/a3c4c9b1-263e-4227-b4a8-52a05768cd87/publish" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a3c4c9b1-263e-4227-b4a8-52a05768cd87"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:14:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6225581886938047@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6225581886938047@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/5fc941d2-579d-4edd-b54d-02f4b9376144" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-559", "content"=>"content-145", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"5fc941d2-579d-4edd-b54d-02f4b9376144"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 110)
Started POST "/users/me/announcements/5fc941d2-579d-4edd-b54d-02f4b9376144/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5fc941d2-579d-4edd-b54d-02f4b9376144"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3915542971036624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3915542971036624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/808c1283-3c54-4245-84c5-8e818db1c20e" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"808c1283-3c54-4245-84c5-8e818db1c20e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/808c1283-3c54-4245-84c5-8e818db1c20e/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"808c1283-3c54-4245-84c5-8e818db1c20e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0aab9a53-cd48-4ea3-bf85-7bc6bad5f0ec" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"0aab9a53-cd48-4ea3-bf85-7bc6bad5f0ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/0aab9a53-cd48-4ea3-bf85-7bc6bad5f0ec/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0aab9a53-cd48-4ea3-bf85-7bc6bad5f0ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/01f54b2c-142e-493d-bab7-9742f56cd51d" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"01f54b2c-142e-493d-bab7-9742f56cd51d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/01f54b2c-142e-493d-bab7-9742f56cd51d/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"01f54b2c-142e-493d-bab7-9742f56cd51d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6459338124421398@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6459338124421398@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
Started PATCH "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/34879e40-87c0-44fc-915c-d95dc1d6d011" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"34879e40-87c0-44fc-915c-d95dc1d6d011"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5646947408182614@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5646947408182614@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/de6d6ad3-7455-4a9f-ab96-3b6515239eaa" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"de6d6ad3-7455-4a9f-ab96-3b6515239eaa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/de6d6ad3-7455-4a9f-ab96-3b6515239eaa/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"de6d6ad3-7455-4a9f-ab96-3b6515239eaa"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06726427594102857@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06726427594102857@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0034322813847441624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0034322813847441624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/45774378-f1a1-4c58-80ff-ede61b27c056" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"45774378-f1a1-4c58-80ff-ede61b27c056"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.45277773293026113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.45277773293026113@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5617330541261969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5617330541261969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef1d68ea-fd4e-42dd-91ca-3a6b1f958a71" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"ef1d68ea-fd4e-42dd-91ca-3a6b1f958a71"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ef1d68ea-fd4e-42dd-91ca-3a6b1f958a71/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef1d68ea-fd4e-42dd-91ca-3a6b1f958a71"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/07096bed-7015-43bf-be85-c7c46c6d8061" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"07096bed-7015-43bf-be85-c7c46c6d8061"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/07096bed-7015-43bf-be85-c7c46c6d8061/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"07096bed-7015-43bf-be85-c7c46c6d8061"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cbc6574f-b3c2-4f26-bcd7-4a27b963fada" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"cbc6574f-b3c2-4f26-bcd7-4a27b963fada"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cbc6574f-b3c2-4f26-bcd7-4a27b963fada/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cbc6574f-b3c2-4f26-bcd7-4a27b963fada"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9029980984443444@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9029980984443444@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9104199068241736@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9104199068241736@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/bf0b2604-3090-46e4-8871-6ec74798e74e" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bf0b2604-3090-46e4-8871-6ec74798e74e"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.35219114862722534@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.35219114862722534@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1081584180426427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1081584180426427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8c7ac699-3e35-4af9-a4bf-585b2914fa59" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"8c7ac699-3e35-4af9-a4bf-585b2914fa59"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8c7ac699-3e35-4af9-a4bf-585b2914fa59/publish" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8c7ac699-3e35-4af9-a4bf-585b2914fa59"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9951917385665268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9951917385665268@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05610697882866078@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05610697882866078@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8429a5e8-b9e5-4237-8993-18b04f5ca96c" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8429a5e8-b9e5-4237-8993-18b04f5ca96c"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 131)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20985592526354235@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20985592526354235@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/b56c7b07-2d3f-4be2-b520-d8fa44ca244c" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b56c7b07-2d3f-4be2-b520-d8fa44ca244c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
Started POST "/users/me/announcements/b56c7b07-2d3f-4be2-b520-d8fa44ca244c/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b56c7b07-2d3f-4be2-b520-d8fa44ca244c"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08640951318601098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08640951318601098@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.28224121875058883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.28224121875058883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8474231c-561f-4df3-9b91-3b0f541f0186" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8474231c-561f-4df3-9b91-3b0f541f0186"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6694367900127043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6694367900127043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4233784290568915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4233784290568915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3d1cb202-59d4-4912-be4e-327a8d0e9571" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3d1cb202-59d4-4912-be4e-327a8d0e9571"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7464804971272091@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7464804971272091@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17287537890049876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17287537890049876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/742b3bce-a09a-49e1-8e68-e0915d9f77fa" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"742b3bce-a09a-49e1-8e68-e0915d9f77fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/742b3bce-a09a-49e1-8e68-e0915d9f77fa/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"742b3bce-a09a-49e1-8e68-e0915d9f77fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/62f67923-a7ec-4e52-985e-ea5297a02775" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"62f67923-a7ec-4e52-985e-ea5297a02775"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/62f67923-a7ec-4e52-985e-ea5297a02775/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"62f67923-a7ec-4e52-985e-ea5297a02775"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/65558597-8225-41ca-8b75-8cae9013243f" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"65558597-8225-41ca-8b75-8cae9013243f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/65558597-8225-41ca-8b75-8cae9013243f/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"65558597-8225-41ca-8b75-8cae9013243f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.65139470703181@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.65139470703181@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7096555750655724@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7096555750655724@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/405fef59-3f19-45a5-8736-5499ab4d9de3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"405fef59-3f19-45a5-8736-5499ab4d9de3"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8225828388324259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8225828388324259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/ddf49e3f-f418-4439-937b-7e2198a0acc3" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ddf49e3f-f418-4439-937b-7e2198a0acc3"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8396121054801784@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8396121054801784@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3391855931538589@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3391855931538589@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e021c040-450c-4dd3-8517-7d8527a5a111" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e021c040-450c-4dd3-8517-7d8527a5a111"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e021c040-450c-4dd3-8517-7d8527a5a111/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e021c040-450c-4dd3-8517-7d8527a5a111"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47698744891501876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47698744891501876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cfabfa3a-f0c2-4c17-8316-2ea245bdfcbb" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-756", "content"=>"content-415", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cfabfa3a-f0c2-4c17-8316-2ea245bdfcbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements/cfabfa3a-f0c2-4c17-8316-2ea245bdfcbb/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cfabfa3a-f0c2-4c17-8316-2ea245bdfcbb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2669272839885978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2669272839885978@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df5d190c-ab5f-495f-ba3d-7df468e55d59" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"df5d190c-ab5f-495f-ba3d-7df468e55d59"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/df5d190c-ab5f-495f-ba3d-7df468e55d59/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"df5d190c-ab5f-495f-ba3d-7df468e55d59"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bc389133-6767-40f2-80b4-4abfa6b531af" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"bc389133-6767-40f2-80b4-4abfa6b531af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/bc389133-6767-40f2-80b4-4abfa6b531af/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bc389133-6767-40f2-80b4-4abfa6b531af"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b0dfd2f9-2e63-43e2-a320-1ec38d4435fa" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"b0dfd2f9-2e63-43e2-a320-1ec38d4435fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b0dfd2f9-2e63-43e2-a320-1ec38d4435fa/publish" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b0dfd2f9-2e63-43e2-a320-1ec38d4435fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 10:17:26 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0976426219872144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0976426219872144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.86008628900325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.86008628900325@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/46fbb220-d351-413c-8f4e-f6e5eabc5768" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"46fbb220-d351-413c-8f4e-f6e5eabc5768"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6586657399080404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6586657399080404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.306475935082553@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.306475935082553@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09e76449-dc70-4dd3-b636-3e364f0d2dec" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"09e76449-dc70-4dd3-b636-3e364f0d2dec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/09e76449-dc70-4dd3-b636-3e364f0d2dec/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"09e76449-dc70-4dd3-b636-3e364f0d2dec"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8344031483672799@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8344031483672799@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0685504809966303@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0685504809966303@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/1e0f77d1-a1e3-4eef-a5a2-e71b89946c33" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"1e0f77d1-a1e3-4eef-a5a2-e71b89946c33"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19016790230608838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19016790230608838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 154)
Started GET "/users/me/announcements/fd1651d6-872e-461c-8780-78a6be85e613" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd1651d6-872e-461c-8780-78a6be85e613"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2621910422287561@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2621910422287561@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.713577064847897@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.713577064847897@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/88ce4cc0-c745-40d2-8797-a78107e31f03" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"88ce4cc0-c745-40d2-8797-a78107e31f03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/88ce4cc0-c745-40d2-8797-a78107e31f03/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"88ce4cc0-c745-40d2-8797-a78107e31f03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/29a6e05b-c3dd-4e2f-89be-750a3249f78c" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"29a6e05b-c3dd-4e2f-89be-750a3249f78c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/29a6e05b-c3dd-4e2f-89be-750a3249f78c/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"29a6e05b-c3dd-4e2f-89be-750a3249f78c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a28679f0-0c5c-4397-b316-b41ff00749a3" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"a28679f0-0c5c-4397-b316-b41ff00749a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a28679f0-0c5c-4397-b316-b41ff00749a3/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a28679f0-0c5c-4397-b316-b41ff00749a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.054699555512923714@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.054699555512923714@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5682679358116415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5682679358116415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7dc0c288-306b-4cc0-a1ea-fd5c3b6eaac5" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"7dc0c288-306b-4cc0-a1ea-fd5c3b6eaac5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18037131497297032@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18037131497297032@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/04d7099f-31e8-4f90-a199-0bcbc1260d46" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"04d7099f-31e8-4f90-a199-0bcbc1260d46"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/04d7099f-31e8-4f90-a199-0bcbc1260d46/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"04d7099f-31e8-4f90-a199-0bcbc1260d46"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1228178204779602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1228178204779602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac1a4a52-8169-45a7-beef-359e34510b8e" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-832", "content"=>"content-869", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ac1a4a52-8169-45a7-beef-359e34510b8e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started POST "/users/me/announcements/ac1a4a52-8169-45a7-beef-359e34510b8e/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ac1a4a52-8169-45a7-beef-359e34510b8e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7612079065233927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7612079065233927@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 9ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/88ca27cf-1b1a-4332-b1f5-b86dff42b91b" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"88ca27cf-1b1a-4332-b1f5-b86dff42b91b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/88ca27cf-1b1a-4332-b1f5-b86dff42b91b/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"88ca27cf-1b1a-4332-b1f5-b86dff42b91b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ca18de3a-4923-4444-93b8-118b185f8736" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"ca18de3a-4923-4444-93b8-118b185f8736"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ca18de3a-4923-4444-93b8-118b185f8736/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca18de3a-4923-4444-93b8-118b185f8736"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/37461bf3-43d1-463b-b546-bf3efd46d808" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"37461bf3-43d1-463b-b546-bf3efd46d808"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/37461bf3-43d1-463b-b546-bf3efd46d808/publish" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"37461bf3-43d1-463b-b546-bf3efd46d808"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 10:51:31 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2784671436806513@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2784671436806513@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5655022906382672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5655022906382672@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/666f381e-c24e-4956-97d8-f3f8699ede06" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"666f381e-c24e-4956-97d8-f3f8699ede06"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9898847112434123@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9898847112434123@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1131784999034926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1131784999034926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac6b11b9-7212-4490-8320-ad57239270d5" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ac6b11b9-7212-4490-8320-ad57239270d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
Started POST "/users/me/announcements/ac6b11b9-7212-4490-8320-ad57239270d5/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ac6b11b9-7212-4490-8320-ad57239270d5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07992062241997133@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07992062241997133@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18724328202037577@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18724328202037577@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/32d9893e-dd90-409a-904a-7b185264ee6d" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"32d9893e-dd90-409a-904a-7b185264ee6d"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 86)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2738052250784224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2738052250784224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6520095206484638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6520095206484638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/669a423a-ad2e-4ca9-9bd7-6dd0cc6f6ff8" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"669a423a-ad2e-4ca9-9bd7-6dd0cc6f6ff8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/669a423a-ad2e-4ca9-9bd7-6dd0cc6f6ff8/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"669a423a-ad2e-4ca9-9bd7-6dd0cc6f6ff8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/737f8b1f-cbe9-4f17-b7ef-c0a97582542b" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"737f8b1f-cbe9-4f17-b7ef-c0a97582542b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/737f8b1f-cbe9-4f17-b7ef-c0a97582542b/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"737f8b1f-cbe9-4f17-b7ef-c0a97582542b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7201bc80-b85f-4f73-9b5b-120e9bc2269f" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7201bc80-b85f-4f73-9b5b-120e9bc2269f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7201bc80-b85f-4f73-9b5b-120e9bc2269f/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7201bc80-b85f-4f73-9b5b-120e9bc2269f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11170232682193726@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11170232682193726@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b6314a87-36b8-4a12-ab95-a7f9a0929e13" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b6314a87-36b8-4a12-ab95-a7f9a0929e13"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/b6314a87-36b8-4a12-ab95-a7f9a0929e13/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b6314a87-36b8-4a12-ab95-a7f9a0929e13"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23710310834524717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23710310834524717@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24011890018211912@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24011890018211912@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6c6d4e50-bdde-4019-b10d-c595fa57729f" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"6c6d4e50-bdde-4019-b10d-c595fa57729f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3957201908601289@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3957201908601289@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/087a2b46-3d43-4f77-a04d-526025ba669c" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"087a2b46-3d43-4f77-a04d-526025ba669c"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_published_announcement
------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7286026508456833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7286026508456833@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/57777358-b2cc-49ac-ad06-8daac37a2a39" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-819", "content"=>"content-788", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"57777358-b2cc-49ac-ad06-8daac37a2a39"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements/57777358-b2cc-49ac-ad06-8daac37a2a39/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"57777358-b2cc-49ac-ad06-8daac37a2a39"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/57777358-b2cc-49ac-ad06-8daac37a2a39/unpublish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44298144027872355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44298144027872355@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cff25d23-974d-4981-adea-0848d15a9601" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"cff25d23-974d-4981-adea-0848d15a9601"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/cff25d23-974d-4981-adea-0848d15a9601/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cff25d23-974d-4981-adea-0848d15a9601"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1f015224-dc10-4556-a475-3a19dbfbb627" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"1f015224-dc10-4556-a475-3a19dbfbb627"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/1f015224-dc10-4556-a475-3a19dbfbb627/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f015224-dc10-4556-a475-3a19dbfbb627"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f9ef36ac-6eeb-4467-adda-799ab877d1ad" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"f9ef36ac-6eeb-4467-adda-799ab877d1ad"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/f9ef36ac-6eeb-4467-adda-799ab877d1ad/publish" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f9ef36ac-6eeb-4467-adda-799ab877d1ad"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:20:20 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 356)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.23521935208981404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.23521935208981404@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/463c703e-83e9-4a18-bf52-53f82cc3bce0" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-202", "content"=>"content-524", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"463c703e-83e9-4a18-bf52-53f82cc3bce0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 173)
Started POST "/users/me/announcements/463c703e-83e9-4a18-bf52-53f82cc3bce0/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"463c703e-83e9-4a18-bf52-53f82cc3bce0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 142)
Started POST "/users/me/announcements/463c703e-83e9-4a18-bf52-53f82cc3bce0/unpublish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2636039721697241@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2636039721697241@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ded2c705-4f08-488e-8ecd-0f5f4748c017" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"ded2c705-4f08-488e-8ecd-0f5f4748c017"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ded2c705-4f08-488e-8ecd-0f5f4748c017/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ded2c705-4f08-488e-8ecd-0f5f4748c017"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bb096c44-979d-4081-895e-274a7697d18f" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"bb096c44-979d-4081-895e-274a7697d18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/bb096c44-979d-4081-895e-274a7697d18f/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bb096c44-979d-4081-895e-274a7697d18f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6932921c-42ad-4eae-883b-763cb02ce537" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"6932921c-42ad-4eae-883b-763cb02ce537"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6932921c-42ad-4eae-883b-763cb02ce537/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6932921c-42ad-4eae-883b-763cb02ce537"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08132552865439724@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08132552865439724@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15533293445690233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15533293445690233@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6eb75436-8094-4ac3-8f57-a1f986451285" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6eb75436-8094-4ac3-8f57-a1f986451285"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7784488392044925@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7784488392044925@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7831281269985075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7831281269985075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7fee2073-a5e5-4cee-be5b-1b2b2388e2ab" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"7fee2073-a5e5-4cee-be5b-1b2b2388e2ab"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7261843429610917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7261843429610917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.82003503948633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.82003503948633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6980f256-e804-4576-8730-e63e8de8435d" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"6980f256-e804-4576-8730-e63e8de8435d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6980f256-e804-4576-8730-e63e8de8435d/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6980f256-e804-4576-8730-e63e8de8435d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6664747842852604@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6664747842852604@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/591fa40b-2e89-40b7-9ffb-2cc38dbfd03c" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"591fa40b-2e89-40b7-9ffb-2cc38dbfd03c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/591fa40b-2e89-40b7-9ffb-2cc38dbfd03c/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"591fa40b-2e89-40b7-9ffb-2cc38dbfd03c"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0970984840609952@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0970984840609952@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19410474537861022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19410474537861022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cb2e8adb-ea7b-4696-89ee-6b5b6113ccd5" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"cb2e8adb-ea7b-4696-89ee-6b5b6113ccd5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/cb2e8adb-ea7b-4696-89ee-6b5b6113ccd5/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cb2e8adb-ea7b-4696-89ee-6b5b6113ccd5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fb3e38c5-2e44-44bb-9b7f-57658d6ad4e2" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"fb3e38c5-2e44-44bb-9b7f-57658d6ad4e2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fb3e38c5-2e44-44bb-9b7f-57658d6ad4e2/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fb3e38c5-2e44-44bb-9b7f-57658d6ad4e2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4fe144bc-f2da-4174-a018-4cbc4fc6f38f" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"4fe144bc-f2da-4174-a018-4cbc4fc6f38f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4fe144bc-f2da-4174-a018-4cbc4fc6f38f/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4fe144bc-f2da-4174-a018-4cbc4fc6f38f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48134039274069607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48134039274069607@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123/publish" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/9570f505-48a5-4364-80f6-18a35bbb6123" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9570f505-48a5-4364-80f6-18a35bbb6123"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5316408689267816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5316408689267816@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6978584161846536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6978584161846536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/24bbd970-0647-4c65-83ee-c4273f9ceacc" for 127.0.0.1 at 2024-05-06 11:21:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"24bbd970-0647-4c65-83ee-c4273f9ceacc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.042802972114961535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.042802972114961535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20469590234851298@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20469590234851298@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/103c4ae5-3140-47c4-bba4-b7cdaea8b414" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"103c4ae5-3140-47c4-bba4-b7cdaea8b414"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11550296835092633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11550296835092633@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03180006606494434@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03180006606494434@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/98324660-70b5-46bc-9996-f523026e31a3" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"98324660-70b5-46bc-9996-f523026e31a3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/98324660-70b5-46bc-9996-f523026e31a3/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"98324660-70b5-46bc-9996-f523026e31a3"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8292971210957641@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8292971210957641@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5407206395370423@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5407206395370423@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6651e810-996e-411a-bb8f-458ed41f9b78" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"6651e810-996e-411a-bb8f-458ed41f9b78"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.006659111699235498@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.006659111699235498@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2788727252414146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2788727252414146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/76b9c2f9-b0f4-48ff-8369-e2a0b3af11c5" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"76b9c2f9-b0f4-48ff-8369-e2a0b3af11c5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/76b9c2f9-b0f4-48ff-8369-e2a0b3af11c5/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"76b9c2f9-b0f4-48ff-8369-e2a0b3af11c5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 164)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f6d972a7-c64d-45db-acb0-b5c59aaeea77" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f6d972a7-c64d-45db-acb0-b5c59aaeea77"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f6d972a7-c64d-45db-acb0-b5c59aaeea77/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f6d972a7-c64d-45db-acb0-b5c59aaeea77"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/959e3ade-3bb0-4c68-95d3-3595c363b2d9" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"959e3ade-3bb0-4c68-95d3-3595c363b2d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/959e3ade-3bb0-4c68-95d3-3595c363b2d9/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"959e3ade-3bb0-4c68-95d3-3595c363b2d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.537747346710493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.537747346710493@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0cf74d67-3dfd-432a-b590-8bde6ef4e1db" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0cf74d67-3dfd-432a-b590-8bde6ef4e1db"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/0cf74d67-3dfd-432a-b590-8bde6ef4e1db/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0cf74d67-3dfd-432a-b590-8bde6ef4e1db"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6801906766842096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6801906766842096@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/users/me/announcements/164ac396-0a31-4109-89cc-337950798833" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"164ac396-0a31-4109-89cc-337950798833"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6333243143721011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6333243143721011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7775116204410026@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7775116204410026@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0ac2ff23-d21e-439b-8ba7-38c08dda0845" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0ac2ff23-d21e-439b-8ba7-38c08dda0845"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.44075462525924924@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.44075462525924924@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef9569f0-0cee-4f7a-8dd4-c89cf534b14a" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-154", "content"=>"content-481", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ef9569f0-0cee-4f7a-8dd4-c89cf534b14a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started POST "/users/me/announcements/ef9569f0-0cee-4f7a-8dd4-c89cf534b14a/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef9569f0-0cee-4f7a-8dd4-c89cf534b14a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/ef9569f0-0cee-4f7a-8dd4-c89cf534b14a/unpublish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef9569f0-0cee-4f7a-8dd4-c89cf534b14a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 95)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.011527168097819618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.011527168097819618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/ea54162c-fca0-4af7-abe0-287fc15c4bd4" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"ea54162c-fca0-4af7-abe0-287fc15c4bd4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ea54162c-fca0-4af7-abe0-287fc15c4bd4/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ea54162c-fca0-4af7-abe0-287fc15c4bd4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/836b7db5-1fcd-457b-97c1-a415ebf84ab9" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"836b7db5-1fcd-457b-97c1-a415ebf84ab9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/836b7db5-1fcd-457b-97c1-a415ebf84ab9/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"836b7db5-1fcd-457b-97c1-a415ebf84ab9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 102)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aed87266-2b05-4051-9d38-61a3ef3d28a6" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"aed87266-2b05-4051-9d38-61a3ef3d28a6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/aed87266-2b05-4051-9d38-61a3ef3d28a6/publish" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aed87266-2b05-4051-9d38-61a3ef3d28a6"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 102)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:21:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.023403183871628763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.023403183871628763@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5430020104803029@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5430020104803029@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/3eb8c13e-fd4f-4623-9288-6fdade2e9337" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"3eb8c13e-fd4f-4623-9288-6fdade2e9337"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 92)
Started POST "/users/me/announcements/3eb8c13e-fd4f-4623-9288-6fdade2e9337/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3eb8c13e-fd4f-4623-9288-6fdade2e9337"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 275)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6032730576084563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6032730576084563@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.722225326355578@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.722225326355578@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4001cd66-6a5f-4471-bb7e-5e067cafa9dc" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"4001cd66-6a5f-4471-bb7e-5e067cafa9dc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4001cd66-6a5f-4471-bb7e-5e067cafa9dc/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4001cd66-6a5f-4471-bb7e-5e067cafa9dc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.664146342355356@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.664146342355356@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8788100295244754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8788100295244754@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/267600f7-f7db-48bd-a902-c4c917316ef5" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"267600f7-f7db-48bd-a902-c4c917316ef5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7925087534898199@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7925087534898199@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33870871264079483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33870871264079483@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c6641ce3-1c23-426e-85fc-1508aec6c3aa" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c6641ce3-1c23-426e-85fc-1508aec6c3aa"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7040218182696809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7040218182696809@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0ef5b67d-5e9c-4315-b762-9a4441974ac5" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0ef5b67d-5e9c-4315-b762-9a4441974ac5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/0ef5b67d-5e9c-4315-b762-9a4441974ac5/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0ef5b67d-5e9c-4315-b762-9a4441974ac5"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15653617609579462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15653617609579462@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6123228649005367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6123228649005367@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ad14079c-f96e-45f1-8f7d-81bac574b0c2" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ad14079c-f96e-45f1-8f7d-81bac574b0c2"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7907871179543218@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7907871179543218@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 119)
Started PATCH "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/3979b87f-b3ba-4672-a4d3-92bd920d6c43/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3979b87f-b3ba-4672-a4d3-92bd920d6c43"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 161)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8837662998909974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8837662998909974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/adf23e49-f313-4a0f-918a-38bc07034634" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-421", "content"=>"content-42", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"adf23e49-f313-4a0f-918a-38bc07034634"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/adf23e49-f313-4a0f-918a-38bc07034634/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"adf23e49-f313-4a0f-918a-38bc07034634"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5491982914892272@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5491982914892272@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b439bcfc-7ac8-404e-9967-ee65bb208a0b" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"b439bcfc-7ac8-404e-9967-ee65bb208a0b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b439bcfc-7ac8-404e-9967-ee65bb208a0b/publish" for 127.0.0.1 at 2024-05-06 11:26:35 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b439bcfc-7ac8-404e-9967-ee65bb208a0b"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2513285817173878@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2513285817173878@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 140)
Started PATCH "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/c98c1e76-f19b-4f41-b2e7-b6683862f82a/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c98c1e76-f19b-4f41-b2e7-b6683862f82a"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 277)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5384851906328432@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5384851906328432@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39381097507725915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39381097507725915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4ddb5da7-7a88-46c4-8157-572844f51acf" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"4ddb5da7-7a88-46c4-8157-572844f51acf"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.030925076896715087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.030925076896715087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15093966482265198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15093966482265198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/be441535-74fb-4ca2-ad74-c156159f3b85" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"be441535-74fb-4ca2-ad74-c156159f3b85"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/be441535-74fb-4ca2-ad74-c156159f3b85/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"be441535-74fb-4ca2-ad74-c156159f3b85"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 189)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6945247701779194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6945247701779194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9828769584528598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9828769584528598@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/06ec3ffd-56b2-423a-acbc-b97719394a8c" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"06ec3ffd-56b2-423a-acbc-b97719394a8c"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3656008433445579@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3656008433445579@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/94b812f6-8dab-4896-ae00-d054f0168bfe" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"94b812f6-8dab-4896-ae00-d054f0168bfe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/94b812f6-8dab-4896-ae00-d054f0168bfe/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"94b812f6-8dab-4896-ae00-d054f0168bfe"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6265788647562436@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6265788647562436@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5291880940545381@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5291880940545381@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8b1d86d3-38c4-4af9-a033-32694986a451" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8b1d86d3-38c4-4af9-a033-32694986a451"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7511641182721245@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7511641182721245@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9505412476545482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9505412476545482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/57a546f5-06be-45d6-b57f-e0b0302fcbec" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"57a546f5-06be-45d6-b57f-e0b0302fcbec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/57a546f5-06be-45d6-b57f-e0b0302fcbec/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"57a546f5-06be-45d6-b57f-e0b0302fcbec"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43017636135837867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43017636135837867@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b85918c9-2cf1-475d-b8d0-661ee0a1a538" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-326", "content"=>"content-584", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b85918c9-2cf1-475d-b8d0-661ee0a1a538"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 173)
Started POST "/users/me/announcements/b85918c9-2cf1-475d-b8d0-661ee0a1a538/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b85918c9-2cf1-475d-b8d0-661ee0a1a538"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7666235751846515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7666235751846515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/41350c18-f34d-4538-8c1c-2e397b6b565f" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"41350c18-f34d-4538-8c1c-2e397b6b565f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/41350c18-f34d-4538-8c1c-2e397b6b565f/publish" for 127.0.0.1 at 2024-05-06 11:26:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"41350c18-f34d-4538-8c1c-2e397b6b565f"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:26:54 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1116)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.513336387931421@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.513336387931421@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/b09b6853-4e07-4e97-9c80-19728e125da1" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-734", "content"=>"content-888", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b09b6853-4e07-4e97-9c80-19728e125da1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 110)
Started POST "/users/me/announcements/b09b6853-4e07-4e97-9c80-19728e125da1/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b09b6853-4e07-4e97-9c80-19728e125da1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 167)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 142)
Started POST "/users/me/announcements/b09b6853-4e07-4e97-9c80-19728e125da1/unpublish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b09b6853-4e07-4e97-9c80-19728e125da1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 216)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.41650966013473467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.41650966013473467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c24631f9-242a-426a-b59c-8900c4a69e1b" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"c24631f9-242a-426a-b59c-8900c4a69e1b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c24631f9-242a-426a-b59c-8900c4a69e1b/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c24631f9-242a-426a-b59c-8900c4a69e1b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d65a0e0d-7553-426e-bd64-d1d0d6a9e806" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"d65a0e0d-7553-426e-bd64-d1d0d6a9e806"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d65a0e0d-7553-426e-bd64-d1d0d6a9e806/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d65a0e0d-7553-426e-bd64-d1d0d6a9e806"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c8423152-43ed-41d4-9912-983bb69e1e1a" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"c8423152-43ed-41d4-9912-983bb69e1e1a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c8423152-43ed-41d4-9912-983bb69e1e1a/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c8423152-43ed-41d4-9912-983bb69e1e1a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7354682296282044@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7354682296282044@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.330346365396911@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.330346365396911@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6579d714-ee85-4831-bb7c-a3cd3bb16217" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6579d714-ee85-4831-bb7c-a3cd3bb16217"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7626631618003964@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7626631618003964@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/abdc81e2-ccc9-4bfe-82bf-a660f542a589" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"abdc81e2-ccc9-4bfe-82bf-a660f542a589"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49563945427624545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49563945427624545@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5935546908252819@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5935546908252819@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2981d66d-6f76-4238-9251-3b49fa16c484" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2981d66d-6f76-4238-9251-3b49fa16c484"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06734518919316257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06734518919316257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36999414667545605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36999414667545605@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df0d26d4-7cf7-449a-bfbd-6b712d6a72fa" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"df0d26d4-7cf7-449a-bfbd-6b712d6a72fa"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.015073014826529119@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.015073014826529119@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6091443880481021@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6091443880481021@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e6bb0205-0ce3-47dd-b246-b5585619404d" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"e6bb0205-0ce3-47dd-b246-b5585619404d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e6bb0205-0ce3-47dd-b246-b5585619404d/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e6bb0205-0ce3-47dd-b246-b5585619404d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8925873160367883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8925873160367883@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1785933847344704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1785933847344704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 8ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6657e878-8e65-4a9e-9ba0-ff5eb77cdc18" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6657e878-8e65-4a9e-9ba0-ff5eb77cdc18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6657e878-8e65-4a9e-9ba0-ff5eb77cdc18/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6657e878-8e65-4a9e-9ba0-ff5eb77cdc18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/723b5aa6-2ada-4019-b1d8-6cb525feaf6e" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"723b5aa6-2ada-4019-b1d8-6cb525feaf6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/723b5aa6-2ada-4019-b1d8-6cb525feaf6e/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"723b5aa6-2ada-4019-b1d8-6cb525feaf6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/32963839-404b-42fc-84db-3c7979773a79" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"32963839-404b-42fc-84db-3c7979773a79"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/32963839-404b-42fc-84db-3c7979773a79/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"32963839-404b-42fc-84db-3c7979773a79"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07036121687518504@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07036121687518504@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dfb6fc8e-8a9e-456b-a92b-3a9d37fb3935" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"dfb6fc8e-8a9e-456b-a92b-3a9d37fb3935"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/dfb6fc8e-8a9e-456b-a92b-3a9d37fb3935/publish" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dfb6fc8e-8a9e-456b-a92b-3a9d37fb3935"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:06 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7329894535188453@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7329894535188453@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/ccf0a306-913c-4773-b65e-94fd2da395c4" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"ccf0a306-913c-4773-b65e-94fd2da395c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/ccf0a306-913c-4773-b65e-94fd2da395c4/publish" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ccf0a306-913c-4773-b65e-94fd2da395c4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/88b0d0d7-747a-4fb2-a49b-1f8eb0395ee2" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"88b0d0d7-747a-4fb2-a49b-1f8eb0395ee2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/88b0d0d7-747a-4fb2-a49b-1f8eb0395ee2/publish" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"88b0d0d7-747a-4fb2-a49b-1f8eb0395ee2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2daca687-8619-479d-a73e-06c56e332667" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"2daca687-8619-479d-a73e-06c56e332667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/2daca687-8619-479d-a73e-06c56e332667/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2daca687-8619-479d-a73e-06c56e332667"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 255)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12196455699530939@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12196455699530939@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/80688f93-7c4e-4fc7-afcb-8344f4034aec" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-734", "content"=>"content-553", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"80688f93-7c4e-4fc7-afcb-8344f4034aec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/80688f93-7c4e-4fc7-afcb-8344f4034aec/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"80688f93-7c4e-4fc7-afcb-8344f4034aec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/80688f93-7c4e-4fc7-afcb-8344f4034aec/unpublish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"80688f93-7c4e-4fc7-afcb-8344f4034aec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5087462114820973@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5087462114820973@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3898429f-ebbd-4604-a100-d46e22a7b72f" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"3898429f-ebbd-4604-a100-d46e22a7b72f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/3898429f-ebbd-4604-a100-d46e22a7b72f/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3898429f-ebbd-4604-a100-d46e22a7b72f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.053031553310150636@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.053031553310150636@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/91a8e6a9-c86c-4792-9deb-1c4925345f88" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"91a8e6a9-c86c-4792-9deb-1c4925345f88"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1753483916619224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1753483916619224@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6435264469524105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6435264469524105@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/625de20b-9696-443a-897e-28d87b8ead07" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"625de20b-9696-443a-897e-28d87b8ead07"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.051476963385329366@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.051476963385329366@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6025563883898515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6025563883898515@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ac021ae5-f3ad-42d0-802c-7ce5a05abb71" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ac021ae5-f3ad-42d0-802c-7ce5a05abb71"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14250476158136305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14250476158136305@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10502353994844393@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10502353994844393@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d6a060cf-3bce-4625-bcda-bc74a95cb1c1" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d6a060cf-3bce-4625-bcda-bc74a95cb1c1"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24564332104185926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24564332104185926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9419578290734584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9419578290734584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9d886426-392d-4b5b-8d02-171f99d1fb9a" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"9d886426-392d-4b5b-8d02-171f99d1fb9a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9d886426-392d-4b5b-8d02-171f99d1fb9a/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9d886426-392d-4b5b-8d02-171f99d1fb9a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/8e11c0b1-566d-4037-b7d4-f3c823578a69" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"8e11c0b1-566d-4037-b7d4-f3c823578a69"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8e11c0b1-566d-4037-b7d4-f3c823578a69/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e11c0b1-566d-4037-b7d4-f3c823578a69"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9e3b9d32-06db-4336-8a26-f83d13d88067" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"9e3b9d32-06db-4336-8a26-f83d13d88067"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9e3b9d32-06db-4336-8a26-f83d13d88067/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e3b9d32-06db-4336-8a26-f83d13d88067"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2466949487042288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2466949487042288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7046820923816257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7046820923816257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ab7af2a1-205b-4a03-86c3-c6bbe73050d8" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ab7af2a1-205b-4a03-86c3-c6bbe73050d8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ab7af2a1-205b-4a03-86c3-c6bbe73050d8/publish" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ab7af2a1-205b-4a03-86c3-c6bbe73050d8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:27:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07691322972295267@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07691322972295267@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/26beb7ce-e1a8-4240-ad33-203fb15600f2" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"26beb7ce-e1a8-4240-ad33-203fb15600f2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started POST "/users/me/announcements/26beb7ce-e1a8-4240-ad33-203fb15600f2/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"26beb7ce-e1a8-4240-ad33-203fb15600f2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/28b7786d-98d7-4c3d-9164-a333360ff101" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"28b7786d-98d7-4c3d-9164-a333360ff101"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/28b7786d-98d7-4c3d-9164-a333360ff101/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"28b7786d-98d7-4c3d-9164-a333360ff101"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0ec8b0ad-7808-4286-a13c-0995889e1275" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"0ec8b0ad-7808-4286-a13c-0995889e1275"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/0ec8b0ad-7808-4286-a13c-0995889e1275/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0ec8b0ad-7808-4286-a13c-0995889e1275"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 255)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10952873062940638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10952873062940638@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/77b90c8a-5846-4326-9fe6-b761dc430ad5" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-473", "content"=>"content-864", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"77b90c8a-5846-4326-9fe6-b761dc430ad5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/77b90c8a-5846-4326-9fe6-b761dc430ad5/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"77b90c8a-5846-4326-9fe6-b761dc430ad5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/77b90c8a-5846-4326-9fe6-b761dc430ad5/unpublish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"77b90c8a-5846-4326-9fe6-b761dc430ad5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7724478480673426@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7724478480673426@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34860900213134116@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34860900213134116@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/523f3cf4-34ee-422e-ab1b-35c60ce21972" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"523f3cf4-34ee-422e-ab1b-35c60ce21972"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6490453265354843@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6490453265354843@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6398383628643529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6398383628643529@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ab51af46-8c2c-4fdf-9dad-b4be86cd9b04" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ab51af46-8c2c-4fdf-9dad-b4be86cd9b04"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7016346055557257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7016346055557257@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17701496061982203@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17701496061982203@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef448667-5979-4130-be6d-5df01ff7ded8" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"ef448667-5979-4130-be6d-5df01ff7ded8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ef448667-5979-4130-be6d-5df01ff7ded8/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef448667-5979-4130-be6d-5df01ff7ded8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6029253736205448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6029253736205448@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2a73e5a1-507d-410a-a377-d6bf1858a45f" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"2a73e5a1-507d-410a-a377-d6bf1858a45f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/2a73e5a1-507d-410a-a377-d6bf1858a45f/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2a73e5a1-507d-410a-a377-d6bf1858a45f"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19959243386493064@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19959243386493064@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/062e3431-0902-4210-9c32-40b997690893" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"062e3431-0902-4210-9c32-40b997690893"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6190262220915275@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6190262220915275@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.947002493370519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.947002493370519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/06320666-99a8-4aca-af24-7ae3aefdeb19" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"06320666-99a8-4aca-af24-7ae3aefdeb19"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/06320666-99a8-4aca-af24-7ae3aefdeb19/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"06320666-99a8-4aca-af24-7ae3aefdeb19"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4e67f2f3-a5b6-44ff-a30d-d6931d81ec02" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"4e67f2f3-a5b6-44ff-a30d-d6931d81ec02"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4e67f2f3-a5b6-44ff-a30d-d6931d81ec02/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4e67f2f3-a5b6-44ff-a30d-d6931d81ec02"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/61ddb168-ed72-4135-87b6-5b08e0401a16" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"61ddb168-ed72-4135-87b6-5b08e0401a16"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/61ddb168-ed72-4135-87b6-5b08e0401a16/publish" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"61ddb168-ed72-4135-87b6-5b08e0401a16"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8108524388411708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8108524388411708@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39498616543410703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39498616543410703@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/537ea633-ba10-4f12-bc22-10bf5f06db34" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"537ea633-ba10-4f12-bc22-10bf5f06db34"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:28:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 356)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 167)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18095740830844198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18095740830844198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/0d6f9020-a2b9-4514-ae0d-253aaf9678d5" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-176", "content"=>"content-700", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"0d6f9020-a2b9-4514-ae0d-253aaf9678d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 115)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 110)
Started POST "/users/me/announcements/0d6f9020-a2b9-4514-ae0d-253aaf9678d5/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0d6f9020-a2b9-4514-ae0d-253aaf9678d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/0d6f9020-a2b9-4514-ae0d-253aaf9678d5/unpublish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0d6f9020-a2b9-4514-ae0d-253aaf9678d5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21127136871458152@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21127136871458152@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8ef4da85-97fb-488d-badb-bcc3c32efad8" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"8ef4da85-97fb-488d-badb-bcc3c32efad8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/8ef4da85-97fb-488d-badb-bcc3c32efad8/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8ef4da85-97fb-488d-badb-bcc3c32efad8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6a26d00f-61fb-45cd-9bb7-bb6a38a9d1b2" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"6a26d00f-61fb-45cd-9bb7-bb6a38a9d1b2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6a26d00f-61fb-45cd-9bb7-bb6a38a9d1b2/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6a26d00f-61fb-45cd-9bb7-bb6a38a9d1b2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4508de27-a31e-4a63-9363-1f34d25d247d" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"4508de27-a31e-4a63-9363-1f34d25d247d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/4508de27-a31e-4a63-9363-1f34d25d247d/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4508de27-a31e-4a63-9363-1f34d25d247d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3340605796664379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3340605796664379@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39683138393644535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39683138393644535@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/82797187-0340-4480-9f8f-7b8211adeda2" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"82797187-0340-4480-9f8f-7b8211adeda2"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8550474408128144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8550474408128144@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6151455335861074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6151455335861074@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/de40fc27-110e-4aae-bbf0-febdb67c869f" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"de40fc27-110e-4aae-bbf0-febdb67c869f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/de40fc27-110e-4aae-bbf0-febdb67c869f/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"de40fc27-110e-4aae-bbf0-febdb67c869f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5500913664754243@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5500913664754243@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.15347871662081114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.15347871662081114@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fb964db6-92e7-41a4-9bb1-74f69fe11049" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"fb964db6-92e7-41a4-9bb1-74f69fe11049"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12114333605485383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12114333605485383@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3908397761067556@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3908397761067556@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fbdf63e0-2adc-4691-8e60-ebee2158d10d" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"fbdf63e0-2adc-4691-8e60-ebee2158d10d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fbdf63e0-2adc-4691-8e60-ebee2158d10d/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fbdf63e0-2adc-4691-8e60-ebee2158d10d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1aa85d09-0f70-4633-b685-85466c047fef" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"1aa85d09-0f70-4633-b685-85466c047fef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/1aa85d09-0f70-4633-b685-85466c047fef/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1aa85d09-0f70-4633-b685-85466c047fef"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/967b8cfa-a94f-451c-852b-9e06e0c92c52" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"967b8cfa-a94f-451c-852b-9e06e0c92c52"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/967b8cfa-a94f-451c-852b-9e06e0c92c52/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"967b8cfa-a94f-451c-852b-9e06e0c92c52"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3268136002956813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3268136002956813@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/27bd84ad-9ecc-4544-8733-3bdf085c1115" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"27bd84ad-9ecc-4544-8733-3bdf085c1115"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/27bd84ad-9ecc-4544-8733-3bdf085c1115/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"27bd84ad-9ecc-4544-8733-3bdf085c1115"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5725717487078146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5725717487078146@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6251773950926017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6251773950926017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/7793be09-76ec-4c8f-83b4-e3822ba64a0c" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"7793be09-76ec-4c8f-83b4-e3822ba64a0c"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 84)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4174087630175237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4174087630175237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9/publish" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/f8714204-adae-43fa-b9a9-212bbd4cdcc9" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"f8714204-adae-43fa-b9a9-212bbd4cdcc9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 11:34:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 12:17:04.821619', '2024-05-06 12:17:04.821621') RETURNING "key"[0m
Migrating to AddAnnouncements (20240423085448)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423085448') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCredentials (20240423121101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240423121101') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLocationToAnnouncements (20240425142030)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "announcements" ADD "latitude" decimal[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "announcements" ADD "longitude" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240425142030') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPublicAnnouncements (20240506091826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506091826') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCubeAndEarthdistanceExtension (20240506095916)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE EXTENSION cube;[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE EXTENSION earthdistance;[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506095916') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGistIndexOnPublicAnnouncementsLocation (20240506100349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_public_announcements_on_location" ON "public_announcements" USING gist ("location")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240506100349') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3041418040687811925)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (29.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "pets_test"[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE DATABASE "pets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "cube"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "earthdistance"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "announcements" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "draft" boolean NOT NULL, "owner_id" character varying NOT NULL, "title" character varying, "content" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "latitude" decimal, "longitude" decimal)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_announcements_on_owner_id" ON "announcements" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "credentials" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "credentials" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "user_id" uuid NOT NULL, "email" character varying NOT NULL, "password" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_email" ON "credentials" ("email")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_credentials_on_user_id" ON "credentials" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "public_announcements" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "public_announcements" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "title" character varying NOT NULL, "content" character varying NOT NULL, "location" point NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_public_announcements_on_location" ON "public_announcements" USING gist ("location")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240506100349)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240506095916),
(20240506091826),
(20240425142030),
(20240423121101),
(20240423085448);[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-05-06 12:21:43.280320', '2024-05-06 12:21:43.280322') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'c065dc0f2924ea39cb10e0194ae30a464eb5ebf9', '2024-05-06 12:21:43.281453', '2024-05-06 12:21:43.281454') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0515934455126531@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0515934455126531@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16492423531042077@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16492423531042077@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/51a489ae-b129-4020-bcdf-22b8d6a9abdb" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"51a489ae-b129-4020-bcdf-22b8d6a9abdb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/51a489ae-b129-4020-bcdf-22b8d6a9abdb/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"51a489ae-b129-4020-bcdf-22b8d6a9abdb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 172)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e4a09dce-deda-4226-8f04-42c204348d89" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"e4a09dce-deda-4226-8f04-42c204348d89"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e4a09dce-deda-4226-8f04-42c204348d89/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a09dce-deda-4226-8f04-42c204348d89"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09ce2577-4b8f-4250-9dc4-7a6e4bf94198" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"09ce2577-4b8f-4250-9dc4-7a6e4bf94198"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/09ce2577-4b8f-4250-9dc4-7a6e4bf94198/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"09ce2577-4b8f-4250-9dc4-7a6e4bf94198"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5105754322428153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5105754322428153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8b5204d1-796c-4e28-ad15-7dc706dcefff" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8b5204d1-796c-4e28-ad15-7dc706dcefff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/8b5204d1-796c-4e28-ad15-7dc706dcefff/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8b5204d1-796c-4e28-ad15-7dc706dcefff"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6857603643422542@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6857603643422542@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started PATCH "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/034de540-7908-43de-a836-7370d61d16f0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"034de540-7908-43de-a836-7370d61d16f0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19493904172460674@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19493904172460674@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.12048965687579216@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.12048965687579216@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/083edcc3-2065-4ddd-9d7d-78b90ef30019" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"083edcc3-2065-4ddd-9d7d-78b90ef30019"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5021155385733377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5021155385733377@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5961471870174302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5961471870174302@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e90337a1-5204-445d-a076-745e983767ac" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e90337a1-5204-445d-a076-745e983767ac"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7905489524074841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7905489524074841@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3534410872834308@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3534410872834308@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/06eba84a-b301-42c9-9fd8-483411173e07" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"06eba84a-b301-42c9-9fd8-483411173e07"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 77)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7262124160489124@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7262124160489124@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/34ea5991-ef5b-4b82-8813-9a1a92ca4d6b" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"34ea5991-ef5b-4b82-8813-9a1a92ca4d6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/34ea5991-ef5b-4b82-8813-9a1a92ca4d6b/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"34ea5991-ef5b-4b82-8813-9a1a92ca4d6b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9483808654455521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9483808654455521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.25249114774198544@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.25249114774198544@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/dde0eaa1-3f2b-4125-a520-fa44ab84db2e" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"dde0eaa1-3f2b-4125-a520-fa44ab84db2e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/dde0eaa1-3f2b-4125-a520-fa44ab84db2e/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"dde0eaa1-3f2b-4125-a520-fa44ab84db2e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7114427284663193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7114427284663193@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e0a5c0cf-b030-4574-8cd6-229230aa62d9" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-267", "content"=>"content-362", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e0a5c0cf-b030-4574-8cd6-229230aa62d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements/e0a5c0cf-b030-4574-8cd6-229230aa62d9/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e0a5c0cf-b030-4574-8cd6-229230aa62d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/e0a5c0cf-b030-4574-8cd6-229230aa62d9/unpublish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e0a5c0cf-b030-4574-8cd6-229230aa62d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.46421957496944977@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.46421957496944977@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6b2e4ef3-0967-4bf5-87b6-392aa9a36128" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"6b2e4ef3-0967-4bf5-87b6-392aa9a36128"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6b2e4ef3-0967-4bf5-87b6-392aa9a36128/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6b2e4ef3-0967-4bf5-87b6-392aa9a36128"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8731165-c214-421c-8ecc-e4522744389f" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"a8731165-c214-421c-8ecc-e4522744389f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/a8731165-c214-421c-8ecc-e4522744389f/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a8731165-c214-421c-8ecc-e4522744389f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/881a2571-47e8-42a2-94ec-6249c6667cff" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"881a2571-47e8-42a2-94ec-6249c6667cff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/881a2571-47e8-42a2-94ec-6249c6667cff/publish" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"881a2571-47e8-42a2-94ec-6249c6667cff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:21:43 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 1024)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5310495700822929@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 238)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5310495700822929@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4663645437200207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4663645437200207@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/e11b2f56-141e-49f8-9327-5eb25b3e95d0" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"e11b2f56-141e-49f8-9327-5eb25b3e95d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 81)
Started POST "/users/me/announcements/e11b2f56-141e-49f8-9327-5eb25b3e95d0/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e11b2f56-141e-49f8-9327-5eb25b3e95d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 172)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/60c37f0d-cd08-4b7e-a0bb-01db82cdb3de" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"60c37f0d-cd08-4b7e-a0bb-01db82cdb3de"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/60c37f0d-cd08-4b7e-a0bb-01db82cdb3de/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"60c37f0d-cd08-4b7e-a0bb-01db82cdb3de"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/56ae79e1-fb1a-4dee-a479-7f646f45e9ce" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"56ae79e1-fb1a-4dee-a479-7f646f45e9ce"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/56ae79e1-fb1a-4dee-a479-7f646f45e9ce/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"56ae79e1-fb1a-4dee-a479-7f646f45e9ce"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17387302849470798@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17387302849470798@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1fce5ac4-6e0f-468c-8340-7bb38634b842" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"1fce5ac4-6e0f-468c-8340-7bb38634b842"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 90)
Started POST "/users/me/announcements/1fce5ac4-6e0f-468c-8340-7bb38634b842/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1fce5ac4-6e0f-468c-8340-7bb38634b842"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.020055370925184723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.020055370925184723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4171273498112009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4171273498112009@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f0b7375d-d9eb-42b9-a493-4883b6e2adb5" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"f0b7375d-d9eb-42b9-a493-4883b6e2adb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f0b7375d-d9eb-42b9-a493-4883b6e2adb5/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f0b7375d-d9eb-42b9-a493-4883b6e2adb5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2253364628126413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2253364628126413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e67b45d0-9ae8-4cf5-8cdc-342d2f72afb5" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e67b45d0-9ae8-4cf5-8cdc-342d2f72afb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/e67b45d0-9ae8-4cf5-8cdc-342d2f72afb5/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e67b45d0-9ae8-4cf5-8cdc-342d2f72afb5"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3854673155006262@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3854673155006262@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5408077338267402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5408077338267402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/10dcf4e2-1d6d-41d2-8d11-986edd4e15bd" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"10dcf4e2-1d6d-41d2-8d11-986edd4e15bd"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.721136648214662@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.721136648214662@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7603035970110631@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7603035970110631@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2ef18f87-5bff-4d1f-b31c-ed30d301fc41" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"2ef18f87-5bff-4d1f-b31c-ed30d301fc41"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2850754314123103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2850754314123103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5173628744048614@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5173628744048614@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/df4506d7-2725-48c5-9e91-1838d8c103f4" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"df4506d7-2725-48c5-9e91-1838d8c103f4"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21732899153521745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21732899153521745@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/ce0b4a92-6840-476d-9141-d0af803af9d2" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ce0b4a92-6840-476d-9141-d0af803af9d2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 161)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.53990850053615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.53990850053615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/22db88d4-1ed9-41ac-9472-b56a0aac2c5e" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-66", "content"=>"content-478", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"22db88d4-1ed9-41ac-9472-b56a0aac2c5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/22db88d4-1ed9-41ac-9472-b56a0aac2c5e/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"22db88d4-1ed9-41ac-9472-b56a0aac2c5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 139)
Started POST "/users/me/announcements/22db88d4-1ed9-41ac-9472-b56a0aac2c5e/unpublish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"22db88d4-1ed9-41ac-9472-b56a0aac2c5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3227953186475908@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3227953186475908@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b2c3f296-d86c-472c-8293-5b29f338e20b" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"b2c3f296-d86c-472c-8293-5b29f338e20b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b2c3f296-d86c-472c-8293-5b29f338e20b/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b2c3f296-d86c-472c-8293-5b29f338e20b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1b5f587c-3051-4343-8265-99b55fc228b1" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"1b5f587c-3051-4343-8265-99b55fc228b1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/1b5f587c-3051-4343-8265-99b55fc228b1/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1b5f587c-3051-4343-8265-99b55fc228b1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c447679b-abad-4025-8dda-2b85646fd96d" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"c447679b-abad-4025-8dda-2b85646fd96d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c447679b-abad-4025-8dda-2b85646fd96d/publish" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c447679b-abad-4025-8dda-2b85646fd96d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:22:04 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47696518823543876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47696518823543876@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6477311044055153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6477311044055153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/a6c7ce84-9127-4ba2-b813-66a57c459b73" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a6c7ce84-9127-4ba2-b813-66a57c459b73"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/a6c7ce84-9127-4ba2-b813-66a57c459b73/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a6c7ce84-9127-4ba2-b813-66a57c459b73"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.043944798445159416@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.043944798445159416@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 132)
Started PATCH "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 83)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 158)
Started GET "/users/me/announcements/a9fce3e2-e81b-4a74-9833-307cba4594a9" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9fce3e2-e81b-4a74-9833-307cba4594a9"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7420031147332251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7420031147332251@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2169112252059059@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2169112252059059@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e72c6c93-5e0b-46b6-82c7-e9f2ceaa7b59" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e72c6c93-5e0b-46b6-82c7-e9f2ceaa7b59"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9952301452560915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9952301452560915@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1774999723029087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1774999723029087@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ac54353b-660b-4b1c-9591-affdfba67808" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ac54353b-660b-4b1c-9591-affdfba67808"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.167427935333901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.167427935333901@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e35da281-fe1e-442c-bdd1-ced781ec10be" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e35da281-fe1e-442c-bdd1-ced781ec10be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/e35da281-fe1e-442c-bdd1-ced781ec10be/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e35da281-fe1e-442c-bdd1-ced781ec10be"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.765411961959634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.765411961959634@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8c081d76-d389-4343-9602-89af531d9841" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"8c081d76-d389-4343-9602-89af531d9841"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/8c081d76-d389-4343-9602-89af531d9841/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8c081d76-d389-4343-9602-89af531d9841"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20203079312649963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20203079312649963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.013852253432761752@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.013852253432761752@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/25017cb3-c226-45dd-8a58-19fd15a0bcf2" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"25017cb3-c226-45dd-8a58-19fd15a0bcf2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/25017cb3-c226-45dd-8a58-19fd15a0bcf2/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"25017cb3-c226-45dd-8a58-19fd15a0bcf2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/885d962c-2600-46d2-8e3b-34da2f720944" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"885d962c-2600-46d2-8e3b-34da2f720944"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/885d962c-2600-46d2-8e3b-34da2f720944/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"885d962c-2600-46d2-8e3b-34da2f720944"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7dfc72ca-82fd-4cbc-a8a7-d77d17fcb29c" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7dfc72ca-82fd-4cbc-a8a7-d77d17fcb29c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7dfc72ca-82fd-4cbc-a8a7-d77d17fcb29c/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7dfc72ca-82fd-4cbc-a8a7-d77d17fcb29c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.677590995406477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.677590995406477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5167983606094428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5167983606094428@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/2f8b8763-6c89-478c-944d-e19d06bedad5" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"2f8b8763-6c89-478c-944d-e19d06bedad5"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16437446407727307@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16437446407727307@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/308204f6-1e6d-4c37-8b78-a2d19e321b0e" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"308204f6-1e6d-4c37-8b78-a2d19e321b0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/308204f6-1e6d-4c37-8b78-a2d19e321b0e/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"308204f6-1e6d-4c37-8b78-a2d19e321b0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/700c70d1-9ac6-497a-a3c4-b53677c3bbcc" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"700c70d1-9ac6-497a-a3c4-b53677c3bbcc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/700c70d1-9ac6-497a-a3c4-b53677c3bbcc/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"700c70d1-9ac6-497a-a3c4-b53677c3bbcc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/da0887fe-8252-401e-86e8-a38b047ffb46" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"da0887fe-8252-401e-86e8-a38b047ffb46"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/da0887fe-8252-401e-86e8-a38b047ffb46/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"da0887fe-8252-401e-86e8-a38b047ffb46"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03479096629556022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03479096629556022@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9133b0e2-017d-4664-bc74-644ec00c7e03" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-561", "content"=>"content-567", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9133b0e2-017d-4664-bc74-644ec00c7e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/9133b0e2-017d-4664-bc74-644ec00c7e03/publish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9133b0e2-017d-4664-bc74-644ec00c7e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/9133b0e2-017d-4664-bc74-644ec00c7e03/unpublish" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9133b0e2-017d-4664-bc74-644ec00c7e03"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:22:53 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:48 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.14210094375101734@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.14210094375101734@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/3e070e35-d0b9-4393-8679-5eca87bb741b" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"3e070e35-d0b9-4393-8679-5eca87bb741b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/3e070e35-d0b9-4393-8679-5eca87bb741b/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3e070e35-d0b9-4393-8679-5eca87bb741b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started PATCH "/users/me/announcements/3e070e35-d0b9-4393-8679-5eca87bb741b" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"3e070e35-d0b9-4393-8679-5eca87bb741b"}
No template found for AnnouncementsController#update, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 714)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5917719326414707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5917719326414707@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2856068693930195@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2856068693930195@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c71aa4f3-9d89-4f19-9268-214c30d38ea6" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c71aa4f3-9d89-4f19-9268-214c30d38ea6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5618870187380295@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5618870187380295@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 119)
Started PATCH "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/e4a31d6e-3b79-410c-853f-17ba87003a92" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"e4a31d6e-3b79-410c-853f-17ba87003a92"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22789099229462184@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22789099229462184@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8593723547718166@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8593723547718166@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a47a7b36-9af1-4bae-b04a-9c843ba5036f" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"a47a7b36-9af1-4bae-b04a-9c843ba5036f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/a47a7b36-9af1-4bae-b04a-9c843ba5036f/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a47a7b36-9af1-4bae-b04a-9c843ba5036f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6832258876675991@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6832258876675991@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1f663983-1cc1-418c-aa46-caf7726cccfa" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1f663983-1cc1-418c-aa46-caf7726cccfa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/1f663983-1cc1-418c-aa46-caf7726cccfa/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f663983-1cc1-418c-aa46-caf7726cccfa"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6110975765683576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6110975765683576@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49793247334885804@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49793247334885804@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8b2689a4-fec7-4954-985c-33579ac7494d" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"8b2689a4-fec7-4954-985c-33579ac7494d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8b2689a4-fec7-4954-985c-33579ac7494d/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8b2689a4-fec7-4954-985c-33579ac7494d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/083fa733-7cd1-462d-9ebb-5b5bb8e50f88" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"083fa733-7cd1-462d-9ebb-5b5bb8e50f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/083fa733-7cd1-462d-9ebb-5b5bb8e50f88/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"083fa733-7cd1-462d-9ebb-5b5bb8e50f88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/54d41e99-8752-46f2-aa3f-06d2fd0caaa8" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"54d41e99-8752-46f2-aa3f-06d2fd0caaa8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/54d41e99-8752-46f2-aa3f-06d2fd0caaa8/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"54d41e99-8752-46f2-aa3f-06d2fd0caaa8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.653461920013259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.653461920013259@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5952862016853349@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5952862016853349@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ab3d07b2-4f94-4d80-893b-79b2a7cb04aa" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ab3d07b2-4f94-4d80-893b-79b2a7cb04aa"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4721216406541917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4721216406541917@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.45599443122667427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.45599443122667427@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/047aacdb-becf-4af7-95bd-79b819c3f368" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"047aacdb-becf-4af7-95bd-79b819c3f368"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8302074542766017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8302074542766017@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a04e6a09-5edd-4a1d-8333-09cb8d24edb5" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"a04e6a09-5edd-4a1d-8333-09cb8d24edb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/a04e6a09-5edd-4a1d-8333-09cb8d24edb5/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a04e6a09-5edd-4a1d-8333-09cb8d24edb5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/45cb9639-8f31-40d0-8469-f9db9d4ec2fa" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"45cb9639-8f31-40d0-8469-f9db9d4ec2fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/45cb9639-8f31-40d0-8469-f9db9d4ec2fa/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"45cb9639-8f31-40d0-8469-f9db9d4ec2fa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/42375bba-0d52-41b5-b4b5-a556a6cf14ab" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"42375bba-0d52-41b5-b4b5-a556a6cf14ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/42375bba-0d52-41b5-b4b5-a556a6cf14ab/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"42375bba-0d52-41b5-b4b5-a556a6cf14ab"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 248)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1987610874625746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1987610874625746@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/73ec140b-64f4-4eca-b0bc-2c77876b20d6" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-260", "content"=>"content-70", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"73ec140b-64f4-4eca-b0bc-2c77876b20d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/73ec140b-64f4-4eca-b0bc-2c77876b20d6/publish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"73ec140b-64f4-4eca-b0bc-2c77876b20d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/73ec140b-64f4-4eca-b0bc-2c77876b20d6/unpublish" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"73ec140b-64f4-4eca-b0bc-2c77876b20d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:23:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.36862622778051624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.36862622778051624@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/be6c700b-c633-4441-9503-82c562908e0d" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"be6c700b-c633-4441-9503-82c562908e0d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/be6c700b-c633-4441-9503-82c562908e0d/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"be6c700b-c633-4441-9503-82c562908e0d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/147b6280-7b29-461a-966f-befa2ca7299f" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"147b6280-7b29-461a-966f-befa2ca7299f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/147b6280-7b29-461a-966f-befa2ca7299f/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"147b6280-7b29-461a-966f-befa2ca7299f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5544db7b-0c9f-4266-a8a4-310678d2cd4d" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"5544db7b-0c9f-4266-a8a4-310678d2cd4d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/5544db7b-0c9f-4266-a8a4-310678d2cd4d/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5544db7b-0c9f-4266-a8a4-310678d2cd4d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 192)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9510665797692696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9510665797692696@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/22fb0c40-6ccc-45ea-98a3-700bad7b6ce8" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-265", "content"=>"content-521", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"22fb0c40-6ccc-45ea-98a3-700bad7b6ce8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/22fb0c40-6ccc-45ea-98a3-700bad7b6ce8/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"22fb0c40-6ccc-45ea-98a3-700bad7b6ce8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/22fb0c40-6ccc-45ea-98a3-700bad7b6ce8/unpublish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"22fb0c40-6ccc-45ea-98a3-700bad7b6ce8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.09112874142557581@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.09112874142557581@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33855525880220505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33855525880220505@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/63d215b9-2177-431d-95d7-0bfafee38c69" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"63d215b9-2177-431d-95d7-0bfafee38c69"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2212375945894729@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2212375945894729@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6541236004553429@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6541236004553429@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/76a59221-b756-48df-9d93-fa22feb04cc8" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"76a59221-b756-48df-9d93-fa22feb04cc8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/76a59221-b756-48df-9d93-fa22feb04cc8/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"76a59221-b756-48df-9d93-fa22feb04cc8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29257724542280283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29257724542280283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6078046171815297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6078046171815297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/294c92cf-b83b-4d68-b5ad-ffc4e8df9463" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"294c92cf-b83b-4d68-b5ad-ffc4e8df9463"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4590692113318733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4590692113318733@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/af10691e-2d0e-41bd-9437-5072845c58f7" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"af10691e-2d0e-41bd-9437-5072845c58f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/af10691e-2d0e-41bd-9437-5072845c58f7/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"af10691e-2d0e-41bd-9437-5072845c58f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/af10691e-2d0e-41bd-9437-5072845c58f7" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"af10691e-2d0e-41bd-9437-5072845c58f7"}
No template found for AnnouncementsController#update, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 712)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9353946726226913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9353946726226913@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
Started PATCH "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/39169e7a-7880-4c0e-b8bd-7d31a81d1d11" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"39169e7a-7880-4c0e-b8bd-7d31a81d1d11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49479814288432844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49479814288432844@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.346091954534272@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.346091954534272@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/913dd7ea-a4f0-4d87-96f7-a9dcc5d3ed99" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"913dd7ea-a4f0-4d87-96f7-a9dcc5d3ed99"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/913dd7ea-a4f0-4d87-96f7-a9dcc5d3ed99/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"913dd7ea-a4f0-4d87-96f7-a9dcc5d3ed99"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/238f0eff-b508-4450-8d52-341270daedf3" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"238f0eff-b508-4450-8d52-341270daedf3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/238f0eff-b508-4450-8d52-341270daedf3/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"238f0eff-b508-4450-8d52-341270daedf3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7fb1c8ab-ba83-494a-b843-c40e027919a0" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7fb1c8ab-ba83-494a-b843-c40e027919a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7fb1c8ab-ba83-494a-b843-c40e027919a0/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7fb1c8ab-ba83-494a-b843-c40e027919a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3297533621773062@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3297533621773062@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/7bef9c4d-037b-4752-8ac3-371300ed86b1" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"7bef9c4d-037b-4752-8ac3-371300ed86b1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/7bef9c4d-037b-4752-8ac3-371300ed86b1/publish" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7bef9c4d-037b-4752-8ac3-371300ed86b1"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5091568541328629@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5091568541328629@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8600449893523129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8600449893523129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ab095435-41ca-423c-b659-a42510b75af1" for 127.0.0.1 at 2024-05-06 12:24:27 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ab095435-41ca-423c-b659-a42510b75af1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39689290556091494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39689290556091494@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/2e255543-2cf5-40d8-be08-be5558b594b4" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"2e255543-2cf5-40d8-be08-be5558b594b4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/2e255543-2cf5-40d8-be08-be5558b594b4/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e255543-2cf5-40d8-be08-be5558b594b4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/863f9568-8a5b-4a36-97cd-994a0e338cdd" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"863f9568-8a5b-4a36-97cd-994a0e338cdd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/863f9568-8a5b-4a36-97cd-994a0e338cdd/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"863f9568-8a5b-4a36-97cd-994a0e338cdd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/69338227-12d0-45ab-be57-1bd419bc4121" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"69338227-12d0-45ab-be57-1bd419bc4121"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/69338227-12d0-45ab-be57-1bd419bc4121/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"69338227-12d0-45ab-be57-1bd419bc4121"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 192)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39393011456971005@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39393011456971005@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2a8966dc-d5a9-434f-a24e-7fd770bc56ff" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-802", "content"=>"content-864", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2a8966dc-d5a9-434f-a24e-7fd770bc56ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/2a8966dc-d5a9-434f-a24e-7fd770bc56ff/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2a8966dc-d5a9-434f-a24e-7fd770bc56ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/2a8966dc-d5a9-434f-a24e-7fd770bc56ff/unpublish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2a8966dc-d5a9-434f-a24e-7fd770bc56ff"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6649178032642957@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6649178032642957@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.925049869663969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.925049869663969@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/41e0568b-5401-4422-815d-fc427db960f3" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"41e0568b-5401-4422-815d-fc427db960f3"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6545378511765352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6545378511765352@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/36dfb1e7-6e14-41dd-bb1e-8b05f5c62786" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"36dfb1e7-6e14-41dd-bb1e-8b05f5c62786"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/36dfb1e7-6e14-41dd-bb1e-8b05f5c62786/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"36dfb1e7-6e14-41dd-bb1e-8b05f5c62786"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/36dfb1e7-6e14-41dd-bb1e-8b05f5c62786" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"36dfb1e7-6e14-41dd-bb1e-8b05f5c62786"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 193)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7315333389246527@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7315333389246527@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.004161665662649194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.004161665662649194@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4faeaebc-d5aa-465c-8505-9bdfc78efa86" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"4faeaebc-d5aa-465c-8505-9bdfc78efa86"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4faeaebc-d5aa-465c-8505-9bdfc78efa86/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4faeaebc-d5aa-465c-8505-9bdfc78efa86"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.06336581769189975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.06336581769189975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/d9122925-96a4-49a4-9b2f-d263e3849a5e" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d9122925-96a4-49a4-9b2f-d263e3849a5e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31612975255640974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31612975255640974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0b2dc35a-e203-4209-822c-38209085a147" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"0b2dc35a-e203-4209-822c-38209085a147"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/0b2dc35a-e203-4209-822c-38209085a147/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0b2dc35a-e203-4209-822c-38209085a147"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9705238294593024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9705238294593024@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7122882473708992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7122882473708992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/714522c6-c92f-440e-aea0-c0539fc48589" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"714522c6-c92f-440e-aea0-c0539fc48589"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2574675967045811@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2574675967045811@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22064639861324986@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22064639861324986@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/24701970-ec70-419a-b08e-463678a8237d" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"24701970-ec70-419a-b08e-463678a8237d"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3248851003305676@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3248851003305676@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19127612568839536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19127612568839536@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/54bd1c6d-f90c-4b33-83f2-52e7b159464a" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"54bd1c6d-f90c-4b33-83f2-52e7b159464a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/54bd1c6d-f90c-4b33-83f2-52e7b159464a/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"54bd1c6d-f90c-4b33-83f2-52e7b159464a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5aad748f-f8f8-487f-8712-adeba0cc89a5" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"5aad748f-f8f8-487f-8712-adeba0cc89a5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/5aad748f-f8f8-487f-8712-adeba0cc89a5/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5aad748f-f8f8-487f-8712-adeba0cc89a5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/16425034-a1aa-4122-a3e3-d35b404f79b8" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"16425034-a1aa-4122-a3e3-d35b404f79b8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/16425034-a1aa-4122-a3e3-d35b404f79b8/publish" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"16425034-a1aa-4122-a3e3-d35b404f79b8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:40 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms | Allocations: 994)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 231)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 184)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5655386600379774@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5655386600379774@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.510625415567025@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.510625415567025@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/cdb7c2ca-c895-47e6-bbc0-abb91d6990b6" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"cdb7c2ca-c895-47e6-bbc0-abb91d6990b6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.00764223935576136@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.00764223935576136@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.24833796251959295@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.24833796251959295@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1f4c5175-7520-47ea-8265-eefc2721f291" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"1f4c5175-7520-47ea-8265-eefc2721f291"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
Started POST "/users/me/announcements/1f4c5175-7520-47ea-8265-eefc2721f291/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1f4c5175-7520-47ea-8265-eefc2721f291"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03726172394467153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03726172394467153@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5cbafa4f-1764-4ae8-862f-1f313d9def2a" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"5cbafa4f-1764-4ae8-862f-1f313d9def2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 93)
Started POST "/users/me/announcements/5cbafa4f-1764-4ae8-862f-1f313d9def2a/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5cbafa4f-1764-4ae8-862f-1f313d9def2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 165)
Started PATCH "/users/me/announcements/5cbafa4f-1764-4ae8-862f-1f313d9def2a" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"5cbafa4f-1764-4ae8-862f-1f313d9def2a"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 88)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3918024599137522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3918024599137522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started PATCH "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/a7f13db7-12fd-4db3-8314-470a6678a9e5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a7f13db7-12fd-4db3-8314-470a6678a9e5"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4623839194216476@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4623839194216476@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5406485187096963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5406485187096963@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/cd3f3dcd-374d-48c5-87eb-b920d202c831" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"cd3f3dcd-374d-48c5-87eb-b920d202c831"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.32573015409068373@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.32573015409068373@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c0d0c7a1-9415-4f86-aefe-0980f6d4a50e" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c0d0c7a1-9415-4f86-aefe-0980f6d4a50e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/c0d0c7a1-9415-4f86-aefe-0980f6d4a50e/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c0d0c7a1-9415-4f86-aefe-0980f6d4a50e"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7498246788045403@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7498246788045403@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3751836479613262@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3751836479613262@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f7bb09dd-3412-46f5-95cb-b9808c40bf60" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"f7bb09dd-3412-46f5-95cb-b9808c40bf60"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.630945046807198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.630945046807198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08367204093351777@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08367204093351777@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/61b18cd6-969a-4a27-82af-608e6b7cc6cd" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"61b18cd6-969a-4a27-82af-608e6b7cc6cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/61b18cd6-969a-4a27-82af-608e6b7cc6cd/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"61b18cd6-969a-4a27-82af-608e6b7cc6cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/77e8685b-d958-4138-ba11-ff0b146a0a5e" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"77e8685b-d958-4138-ba11-ff0b146a0a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/77e8685b-d958-4138-ba11-ff0b146a0a5e/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"77e8685b-d958-4138-ba11-ff0b146a0a5e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7539e767-5414-4013-bf80-658fcb8885f5" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7539e767-5414-4013-bf80-658fcb8885f5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7539e767-5414-4013-bf80-658fcb8885f5/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7539e767-5414-4013-bf80-658fcb8885f5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19517817355502043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19517817355502043@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/41b94abd-8ba8-446b-93b5-e9cf218355d9" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"41b94abd-8ba8-446b-93b5-e9cf218355d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/41b94abd-8ba8-446b-93b5-e9cf218355d9/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"41b94abd-8ba8-446b-93b5-e9cf218355d9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef641faf-c589-4dc4-bef0-29e30f141b40" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"ef641faf-c589-4dc4-bef0-29e30f141b40"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ef641faf-c589-4dc4-bef0-29e30f141b40/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef641faf-c589-4dc4-bef0-29e30f141b40"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef40d138-5c70-49e3-bd17-f2e16ee3722c" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"ef40d138-5c70-49e3-bd17-f2e16ee3722c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ef40d138-5c70-49e3-bd17-f2e16ee3722c/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ef40d138-5c70-49e3-bd17-f2e16ee3722c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 247)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 101)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5902528302385823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5902528302385823@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/27f038b3-73c0-491f-a1c8-84013dc6e21e" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-917", "content"=>"content-638", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"27f038b3-73c0-491f-a1c8-84013dc6e21e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/27f038b3-73c0-491f-a1c8-84013dc6e21e/publish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"27f038b3-73c0-491f-a1c8-84013dc6e21e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 104)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/27f038b3-73c0-491f-a1c8-84013dc6e21e/unpublish" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"27f038b3-73c0-491f-a1c8-84013dc6e21e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:47 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7501868891886269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7501868891886269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5576816056816316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5576816056816316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started GET "/users/me/announcements/d64235dd-f05c-4080-8583-1a735c8d2a24" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"d64235dd-f05c-4080-8583-1a735c8d2a24"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9431557654925918@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9431557654925918@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.912566308857368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.912566308857368@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/18c33d1b-701f-4681-8df7-2331c0dcba1d" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"18c33d1b-701f-4681-8df7-2331c0dcba1d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started POST "/users/me/announcements/18c33d1b-701f-4681-8df7-2331c0dcba1d/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"18c33d1b-701f-4681-8df7-2331c0dcba1d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 172)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f235f33c-abd1-45c6-a440-61b34bcde518" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"f235f33c-abd1-45c6-a440-61b34bcde518"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f235f33c-abd1-45c6-a440-61b34bcde518/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f235f33c-abd1-45c6-a440-61b34bcde518"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/0a79f670-f9b3-45d5-9786-3483d2f04cd1" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"0a79f670-f9b3-45d5-9786-3483d2f04cd1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/0a79f670-f9b3-45d5-9786-3483d2f04cd1/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"0a79f670-f9b3-45d5-9786-3483d2f04cd1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 129)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9527299736205299@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9527299736205299@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 118)
Started PATCH "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 80)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/131a55de-42ff-44be-9817-8135a3d05b6e" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"131a55de-42ff-44be-9817-8135a3d05b6e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6743906833574723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6743906833574723@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08024337252097447@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08024337252097447@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a8a74c18-57fe-4e40-9fce-c3c6f89d9577" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a8a74c18-57fe-4e40-9fce-c3c6f89d9577"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7807932972706264@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7807932972706264@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8fd1028c-33de-4629-a4a5-e36aa7fb913b" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8fd1028c-33de-4629-a4a5-e36aa7fb913b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/8fd1028c-33de-4629-a4a5-e36aa7fb913b/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8fd1028c-33de-4629-a4a5-e36aa7fb913b"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.19158833826882182@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.19158833826882182@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8203087151591045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8203087151591045@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9da1db90-0c86-4662-8575-91322924e9f8" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"9da1db90-0c86-4662-8575-91322924e9f8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/9da1db90-0c86-4662-8575-91322924e9f8/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9da1db90-0c86-4662-8575-91322924e9f8"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9196657107376622@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9196657107376622@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f0c0cfbd-f9d6-4096-8e4d-2c94de401305" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"f0c0cfbd-f9d6-4096-8e4d-2c94de401305"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/f0c0cfbd-f9d6-4096-8e4d-2c94de401305/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f0c0cfbd-f9d6-4096-8e4d-2c94de401305"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/f0c0cfbd-f9d6-4096-8e4d-2c94de401305" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f0c0cfbd-f9d6-4096-8e4d-2c94de401305"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/f0c0cfbd-f9d6-4096-8e4d-2c94de401305" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f0c0cfbd-f9d6-4096-8e4d-2c94de401305"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/f0c0cfbd-f9d6-4096-8e4d-2c94de401305" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"f0c0cfbd-f9d6-4096-8e4d-2c94de401305"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1828653368207519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1828653368207519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2362121084075205@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2362121084075205@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bab5e67a-7abf-4cbd-acfa-3bb99af440ab" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"bab5e67a-7abf-4cbd-acfa-3bb99af440ab"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 166)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.45416309786596976@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.45416309786596976@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/36410c21-4143-411a-b7f4-d1d39106fede" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-236", "content"=>"content-241", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"36410c21-4143-411a-b7f4-d1d39106fede"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started POST "/users/me/announcements/36410c21-4143-411a-b7f4-d1d39106fede/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"36410c21-4143-411a-b7f4-d1d39106fede"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 104)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/36410c21-4143-411a-b7f4-d1d39106fede/unpublish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"36410c21-4143-411a-b7f4-d1d39106fede"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.11520688178945648@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.11520688178945648@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c957a800-cc84-4e19-842a-bbbf1abc78bf" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"c957a800-cc84-4e19-842a-bbbf1abc78bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c957a800-cc84-4e19-842a-bbbf1abc78bf/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c957a800-cc84-4e19-842a-bbbf1abc78bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/aca351db-5868-486f-8229-2d9dc3fa256a" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"aca351db-5868-486f-8229-2d9dc3fa256a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/aca351db-5868-486f-8229-2d9dc3fa256a/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"aca351db-5868-486f-8229-2d9dc3fa256a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6ea0f480-7f2e-45e5-82dc-bf9e2af85754" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"6ea0f480-7f2e-45e5-82dc-bf9e2af85754"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6ea0f480-7f2e-45e5-82dc-bf9e2af85754/publish" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6ea0f480-7f2e-45e5-82dc-bf9e2af85754"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:24:58 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21133999945473647@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21133999945473647@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/5c6cb0ff-7de0-4d7d-9ad7-be48642dcf61" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"5c6cb0ff-7de0-4d7d-9ad7-be48642dcf61"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/5c6cb0ff-7de0-4d7d-9ad7-be48642dcf61/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5c6cb0ff-7de0-4d7d-9ad7-be48642dcf61"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2e6884d2-2224-48a4-82f1-ca451196cb24" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"2e6884d2-2224-48a4-82f1-ca451196cb24"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/2e6884d2-2224-48a4-82f1-ca451196cb24/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e6884d2-2224-48a4-82f1-ca451196cb24"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c9e0bda7-32db-4032-8246-dffcd9ae4e5b" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"c9e0bda7-32db-4032-8246-dffcd9ae4e5b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c9e0bda7-32db-4032-8246-dffcd9ae4e5b/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c9e0bda7-32db-4032-8246-dffcd9ae4e5b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 191)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08833983488393926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08833983488393926@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/330587de-183f-49ab-a7fd-782a9446085e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-720", "content"=>"content-401", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"330587de-183f-49ab-a7fd-782a9446085e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/330587de-183f-49ab-a7fd-782a9446085e/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"330587de-183f-49ab-a7fd-782a9446085e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/330587de-183f-49ab-a7fd-782a9446085e/unpublish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"330587de-183f-49ab-a7fd-782a9446085e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13017066139430777@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13017066139430777@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7033882988287716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7033882988287716@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fd48d8ba-85ed-4910-812d-ecc0e9eb7d0a" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"fd48d8ba-85ed-4910-812d-ecc0e9eb7d0a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fd48d8ba-85ed-4910-812d-ecc0e9eb7d0a/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fd48d8ba-85ed-4910-812d-ecc0e9eb7d0a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2910194681786793@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2910194681786793@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
Started PATCH "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/b95ba3b0-7107-42d2-800a-75a17237bb0e" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"b95ba3b0-7107-42d2-800a-75a17237bb0e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9652350841840819@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9652350841840819@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.28558297692469914@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.28558297692469914@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/89d25897-e905-4fa8-8f92-ac377a133b83" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"89d25897-e905-4fa8-8f92-ac377a133b83"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/89d25897-e905-4fa8-8f92-ac377a133b83/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"89d25897-e905-4fa8-8f92-ac377a133b83"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/81178af8-5f04-487d-8def-7f0aa11189be" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"81178af8-5f04-487d-8def-7f0aa11189be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/81178af8-5f04-487d-8def-7f0aa11189be/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"81178af8-5f04-487d-8def-7f0aa11189be"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7d2cfd80-1dc4-49bf-ac41-f80f8efa1316" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"7d2cfd80-1dc4-49bf-ac41-f80f8efa1316"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7d2cfd80-1dc4-49bf-ac41-f80f8efa1316/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d2cfd80-1dc4-49bf-ac41-f80f8efa1316"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8412505971456073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8412505971456073@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.011732839962911967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.011732839962911967@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1a643888-054e-4bcf-864d-54962f88cd13" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"1a643888-054e-4bcf-864d-54962f88cd13"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4992945332453751@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4992945332453751@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8151020616355077@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8151020616355077@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/02f6521b-b603-4804-9355-f6c527cdd032" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"02f6521b-b603-4804-9355-f6c527cdd032"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.17444129037932932@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.17444129037932932@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6625272522561776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6625272522561776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9e1329b6-67d8-4283-a2ee-5dcefc9d8497" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e1329b6-67d8-4283-a2ee-5dcefc9d8497"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6504928119648142@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6504928119648142@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/644d9ad3-b280-4897-932a-03073325db09" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"644d9ad3-b280-4897-932a-03073325db09"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/644d9ad3-b280-4897-932a-03073325db09/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"644d9ad3-b280-4897-932a-03073325db09"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7543890178541521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7543890178541521@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ebd11496-9870-4f05-aa1f-420ec6bab81d" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"ebd11496-9870-4f05-aa1f-420ec6bab81d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/ebd11496-9870-4f05-aa1f-420ec6bab81d/publish" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ebd11496-9870-4f05-aa1f-420ec6bab81d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/ebd11496-9870-4f05-aa1f-420ec6bab81d" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ebd11496-9870-4f05-aa1f-420ec6bab81d"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/ebd11496-9870-4f05-aa1f-420ec6bab81d" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ebd11496-9870-4f05-aa1f-420ec6bab81d"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/ebd11496-9870-4f05-aa1f-420ec6bab81d" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"ebd11496-9870-4f05-aa1f-420ec6bab81d"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:22 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.327072226439306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 1100)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.327072226439306@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/19d1d956-8987-41a5-b6f1-3de1c58bd36a" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"19d1d956-8987-41a5-b6f1-3de1c58bd36a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/19d1d956-8987-41a5-b6f1-3de1c58bd36a/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"19d1d956-8987-41a5-b6f1-3de1c58bd36a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/31f50423-91a7-4282-aea3-5e7590e792a0" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"31f50423-91a7-4282-aea3-5e7590e792a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/31f50423-91a7-4282-aea3-5e7590e792a0/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"31f50423-91a7-4282-aea3-5e7590e792a0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bac720ac-0057-48c4-b8b7-4dc3181e85bf" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"bac720ac-0057-48c4-b8b7-4dc3181e85bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/bac720ac-0057-48c4-b8b7-4dc3181e85bf/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bac720ac-0057-48c4-b8b7-4dc3181e85bf"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 255)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.13847597324567562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.13847597324567562@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/692f8e00-3cd4-4f7e-b912-33e1b415c7b3" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-692", "content"=>"content-685", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"692f8e00-3cd4-4f7e-b912-33e1b415c7b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/692f8e00-3cd4-4f7e-b912-33e1b415c7b3/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"692f8e00-3cd4-4f7e-b912-33e1b415c7b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/692f8e00-3cd4-4f7e-b912-33e1b415c7b3/unpublish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"692f8e00-3cd4-4f7e-b912-33e1b415c7b3"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2659727289153956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2659727289153956@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.48148581422241477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.48148581422241477@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/64479e4e-f588-411d-a784-b56fa456e422" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"64479e4e-f588-411d-a784-b56fa456e422"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7039091644284402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7039091644284402@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7725315040809126@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7725315040809126@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6f6e4d7d-7f62-4809-ab5e-923e351a66e5" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6f6e4d7d-7f62-4809-ab5e-923e351a66e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6f6e4d7d-7f62-4809-ab5e-923e351a66e5/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6f6e4d7d-7f62-4809-ab5e-923e351a66e5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ee461cf8-136a-4b02-a9e1-fc05dbc47ab4" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"ee461cf8-136a-4b02-a9e1-fc05dbc47ab4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/ee461cf8-136a-4b02-a9e1-fc05dbc47ab4/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ee461cf8-136a-4b02-a9e1-fc05dbc47ab4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8cd34aa9-c6dd-41da-a025-7ed4468bae97" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"8cd34aa9-c6dd-41da-a025-7ed4468bae97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8cd34aa9-c6dd-41da-a025-7ed4468bae97/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8cd34aa9-c6dd-41da-a025-7ed4468bae97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.18855356515466715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.18855356515466715@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6856967892488935@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6856967892488935@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4f75242c-353f-4d24-b94c-e5a2f31ea900" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"4f75242c-353f-4d24-b94c-e5a2f31ea900"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5847648733222679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5847648733222679@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6718373e-78aa-4324-951c-c8901a506748" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"6718373e-78aa-4324-951c-c8901a506748"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6718373e-78aa-4324-951c-c8901a506748/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6718373e-78aa-4324-951c-c8901a506748"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/6718373e-78aa-4324-951c-c8901a506748" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"6718373e-78aa-4324-951c-c8901a506748"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2366391698604382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2366391698604382@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 65)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/411adc7c-69be-427c-b3ed-3391192b3d18" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"411adc7c-69be-427c-b3ed-3391192b3d18"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31345680481197447@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31345680481197447@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.49019756909771794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.49019756909771794@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/8158565c-13d9-4475-b0e1-cad3f70a4ac7" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"8158565c-13d9-4475-b0e1-cad3f70a4ac7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/8158565c-13d9-4475-b0e1-cad3f70a4ac7/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8158565c-13d9-4475-b0e1-cad3f70a4ac7"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0003690501835846849@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0003690501835846849@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09617706-7daf-4c55-b414-9e7c8efdf496" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"09617706-7daf-4c55-b414-9e7c8efdf496"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/09617706-7daf-4c55-b414-9e7c8efdf496/publish" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"09617706-7daf-4c55-b414-9e7c8efdf496"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6623305015611226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6623305015611226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47130151117478314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47130151117478314@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c5360b3d-5250-4baa-a7c4-13541a3bfafc" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c5360b3d-5250-4baa-a7c4-13541a3bfafc"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:25:29 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:25:43 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8492596233349078@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8492596233349078@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/9bc17177-5e32-463e-b70b-e4ad6f88b1a9" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"9bc17177-5e32-463e-b70b-e4ad6f88b1a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/9bc17177-5e32-463e-b70b-e4ad6f88b1a9/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9bc17177-5e32-463e-b70b-e4ad6f88b1a9"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/49bb88a0-566a-4717-9420-4e20edfa0138" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"49bb88a0-566a-4717-9420-4e20edfa0138"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/49bb88a0-566a-4717-9420-4e20edfa0138/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"49bb88a0-566a-4717-9420-4e20edfa0138"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4b903ad0-c92b-44b8-a0eb-0403fea6bc93" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"4b903ad0-c92b-44b8-a0eb-0403fea6bc93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/4b903ad0-c92b-44b8-a0eb-0403fea6bc93/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4b903ad0-c92b-44b8-a0eb-0403fea6bc93"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 192)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9239882377207609@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9239882377207609@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e682828c-175f-48bb-a0d8-df5ed29b41a2" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-294", "content"=>"content-194", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e682828c-175f-48bb-a0d8-df5ed29b41a2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/e682828c-175f-48bb-a0d8-df5ed29b41a2/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e682828c-175f-48bb-a0d8-df5ed29b41a2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started POST "/users/me/announcements/e682828c-175f-48bb-a0d8-df5ed29b41a2/unpublish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e682828c-175f-48bb-a0d8-df5ed29b41a2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.448207606523669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.448207606523669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9b699cd6-d05a-4c4d-a604-1543e956c030" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9b699cd6-d05a-4c4d-a604-1543e956c030"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/9b699cd6-d05a-4c4d-a604-1543e956c030/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9b699cd6-d05a-4c4d-a604-1543e956c030"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 74)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5313203170618782@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5313203170618782@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/34c5ba3e-ff16-4243-91f5-4c77486b4497" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"34c5ba3e-ff16-4243-91f5-4c77486b4497"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/34c5ba3e-ff16-4243-91f5-4c77486b4497/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"34c5ba3e-ff16-4243-91f5-4c77486b4497"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/34c5ba3e-ff16-4243-91f5-4c77486b4497" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"34c5ba3e-ff16-4243-91f5-4c77486b4497"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
Started PATCH "/users/me/announcements/34c5ba3e-ff16-4243-91f5-4c77486b4497" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"34c5ba3e-ff16-4243-91f5-4c77486b4497"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/34c5ba3e-ff16-4243-91f5-4c77486b4497" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"34c5ba3e-ff16-4243-91f5-4c77486b4497"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2823406166242297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2823406166242297@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3532868249781622@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3532868249781622@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/153a3fd9-7e40-405d-afcd-993339365bb6" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"153a3fd9-7e40-405d-afcd-993339365bb6"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.944357218419322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.944357218419322@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3825755512827781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3825755512827781@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/5807554d-3f96-4946-bdba-f8a2e7d944be" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"5807554d-3f96-4946-bdba-f8a2e7d944be"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9020994326305997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9020994326305997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c3f01ee6-d41f-4f9c-8e14-8b49a18b0faa"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8720174538150395@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8720174538150395@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7597022314226519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7597022314226519@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f0d52293-ec2d-4383-bc2a-2c8afdcd17ec" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"f0d52293-ec2d-4383-bc2a-2c8afdcd17ec"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/f0d52293-ec2d-4383-bc2a-2c8afdcd17ec/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f0d52293-ec2d-4383-bc2a-2c8afdcd17ec"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4448866695776237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4448866695776237@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07567222874498558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07567222874498558@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3a156cce-f397-46ae-84f6-dbd01de1a2e8" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"3a156cce-f397-46ae-84f6-dbd01de1a2e8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3a156cce-f397-46ae-84f6-dbd01de1a2e8/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3a156cce-f397-46ae-84f6-dbd01de1a2e8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4cea3835-ba6f-47ed-b1f5-6de09b6fc7d4" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"4cea3835-ba6f-47ed-b1f5-6de09b6fc7d4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/4cea3835-ba6f-47ed-b1f5-6de09b6fc7d4/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4cea3835-ba6f-47ed-b1f5-6de09b6fc7d4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/28529282-ea54-4126-8f8f-107a8a25ce67" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"28529282-ea54-4126-8f8f-107a8a25ce67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/28529282-ea54-4126-8f8f-107a8a25ce67/publish" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"28529282-ea54-4126-8f8f-107a8a25ce67"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33059554983897976@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33059554983897976@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1303154860473258@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1303154860473258@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/770a9ea9-cf1d-48b5-ae47-63acf60d4180" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"770a9ea9-cf1d-48b5-ae47-63acf60d4180"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:25:44 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.032105902361270755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.032105902361270755@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/706e3e10-0280-4170-82fe-3755af90a009" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-210", "content"=>"content-225", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"706e3e10-0280-4170-82fe-3755af90a009"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/706e3e10-0280-4170-82fe-3755af90a009/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"706e3e10-0280-4170-82fe-3755af90a009"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/706e3e10-0280-4170-82fe-3755af90a009/unpublish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"706e3e10-0280-4170-82fe-3755af90a009"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.661053706882239@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.661053706882239@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5962fa01-61b5-4284-86a6-fc62c3e9dde5" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"5962fa01-61b5-4284-86a6-fc62c3e9dde5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/5962fa01-61b5-4284-86a6-fc62c3e9dde5/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5962fa01-61b5-4284-86a6-fc62c3e9dde5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c7c26c02-e135-43b0-a9f9-e94d23b79dae" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"c7c26c02-e135-43b0-a9f9-e94d23b79dae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c7c26c02-e135-43b0-a9f9-e94d23b79dae/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7c26c02-e135-43b0-a9f9-e94d23b79dae"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6f615510-9257-4547-969e-0f2563001fa4" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"6f615510-9257-4547-969e-0f2563001fa4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6f615510-9257-4547-969e-0f2563001fa4/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6f615510-9257-4547-969e-0f2563001fa4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.013531844635172208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.013531844635172208@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4871238850550298@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4871238850550298@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/da092fe6-bd63-4093-b9fb-a7b7a436d543" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"da092fe6-bd63-4093-b9fb-a7b7a436d543"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3197763540570625@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3197763540570625@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.42820120733194533@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.42820120733194533@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5d7be2fd-e0ad-4d83-858e-9c72bce6c3f5" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5d7be2fd-e0ad-4d83-858e-9c72bce6c3f5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.03850489993591977@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.03850489993591977@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6608cdce-f0ab-486e-b522-5e1fb1602d84" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"6608cdce-f0ab-486e-b522-5e1fb1602d84"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/6608cdce-f0ab-486e-b522-5e1fb1602d84/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6608cdce-f0ab-486e-b522-5e1fb1602d84"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/6608cdce-f0ab-486e-b522-5e1fb1602d84" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"6608cdce-f0ab-486e-b522-5e1fb1602d84"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/6608cdce-f0ab-486e-b522-5e1fb1602d84" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"6608cdce-f0ab-486e-b522-5e1fb1602d84"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/6608cdce-f0ab-486e-b522-5e1fb1602d84" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"6608cdce-f0ab-486e-b522-5e1fb1602d84"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8791967540660103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8791967540660103@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5b9e9695-69b8-4137-88ed-4afff7b080c0" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"5b9e9695-69b8-4137-88ed-4afff7b080c0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/5b9e9695-69b8-4137-88ed-4afff7b080c0/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5b9e9695-69b8-4137-88ed-4afff7b080c0"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.014374557629391549@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.014374557629391549@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 116)
Started PATCH "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/ca884448-c3d2-45b0-b32b-00ed4c474400" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"ca884448-c3d2-45b0-b32b-00ed4c474400"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9458582619633575@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9458582619633575@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6409774604993855@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6409774604993855@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/cde0cbec-ede4-477b-b0ca-3307132bb8b8" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"cde0cbec-ede4-477b-b0ca-3307132bb8b8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 70)
Started POST "/users/me/announcements/cde0cbec-ede4-477b-b0ca-3307132bb8b8/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cde0cbec-ede4-477b-b0ca-3307132bb8b8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/06da790b-7964-4614-98fe-bed32ec1bed1" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"06da790b-7964-4614-98fe-bed32ec1bed1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/06da790b-7964-4614-98fe-bed32ec1bed1/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"06da790b-7964-4614-98fe-bed32ec1bed1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/fdf36a36-f7c2-412e-8956-db9f97161406" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"fdf36a36-f7c2-412e-8956-db9f97161406"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/fdf36a36-f7c2-412e-8956-db9f97161406/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"fdf36a36-f7c2-412e-8956-db9f97161406"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.21283059028071627@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.21283059028071627@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.769893157208522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.769893157208522@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/86f146e2-f8f9-4fd3-89d1-50dc780e437a" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"86f146e2-f8f9-4fd3-89d1-50dc780e437a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/86f146e2-f8f9-4fd3-89d1-50dc780e437a/publish" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"86f146e2-f8f9-4fd3-89d1-50dc780e437a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6467732967128651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6467732967128651@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.028480522835197974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.028480522835197974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/ef14633c-ca61-45e4-b20b-386eb559b559" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"ef14633c-ca61-45e4-b20b-386eb559b559"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:41 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 202)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 366)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 167)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4770074037901585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4770074037901585@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/91dc4948-ce9c-4981-bc2c-0144c97e13d0" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-878", "content"=>"content-283", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"91dc4948-ce9c-4981-bc2c-0144c97e13d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 110)
Started POST "/users/me/announcements/91dc4948-ce9c-4981-bc2c-0144c97e13d0/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"91dc4948-ce9c-4981-bc2c-0144c97e13d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/91dc4948-ce9c-4981-bc2c-0144c97e13d0/unpublish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"91dc4948-ce9c-4981-bc2c-0144c97e13d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.47099259702705065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.47099259702705065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/467cdc8c-c0c3-40df-b7e2-94d3bd9932cb" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"467cdc8c-c0c3-40df-b7e2-94d3bd9932cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/467cdc8c-c0c3-40df-b7e2-94d3bd9932cb/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"467cdc8c-c0c3-40df-b7e2-94d3bd9932cb"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b2b9cc4e-0481-4833-8bcf-35ccb8e354f7" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"b2b9cc4e-0481-4833-8bcf-35ccb8e354f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b2b9cc4e-0481-4833-8bcf-35ccb8e354f7/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b2b9cc4e-0481-4833-8bcf-35ccb8e354f7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7d9654f6-2d23-405d-bee1-a3330b82d687" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"7d9654f6-2d23-405d-bee1-a3330b82d687"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/7d9654f6-2d23-405d-bee1-a3330b82d687/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7d9654f6-2d23-405d-bee1-a3330b82d687"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8202735108045783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8202735108045783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5696886461081185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5696886461081185@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/09eb7c8d-e200-48b1-b6d9-1451bd08c892" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"09eb7c8d-e200-48b1-b6d9-1451bd08c892"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.33855373228738694@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.33855373228738694@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8197971022400939@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8197971022400939@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c97097d1-d615-41d6-b90a-3db0bff9e128" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"c97097d1-d615-41d6-b90a-3db0bff9e128"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c97097d1-d615-41d6-b90a-3db0bff9e128/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c97097d1-d615-41d6-b90a-3db0bff9e128"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4461939223593496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4461939223593496@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16435519518617814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16435519518617814@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/6f4811d2-64d9-454a-952a-9047effbc24c" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"6f4811d2-64d9-454a-952a-9047effbc24c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/6f4811d2-64d9-454a-952a-9047effbc24c/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"6f4811d2-64d9-454a-952a-9047effbc24c"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/e87b42f6-91a1-4574-b2ad-38df43fa88d7" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"e87b42f6-91a1-4574-b2ad-38df43fa88d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/e87b42f6-91a1-4574-b2ad-38df43fa88d7/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e87b42f6-91a1-4574-b2ad-38df43fa88d7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/593987cd-23f2-46ac-b470-bc459a689f3a" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"593987cd-23f2-46ac-b470-bc459a689f3a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/593987cd-23f2-46ac-b470-bc459a689f3a/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"593987cd-23f2-46ac-b470-bc459a689f3a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8814125587284413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8814125587284413@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/bf1a2d37-4dd8-47a3-92eb-cbdb4d8fbac7" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bf1a2d37-4dd8-47a3-92eb-cbdb4d8fbac7"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/bf1a2d37-4dd8-47a3-92eb-cbdb4d8fbac7/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bf1a2d37-4dd8-47a3-92eb-cbdb4d8fbac7"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 72)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8673438727943593@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8673438727943593@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4221718492112738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4221718492112738@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9f73967c-fdfb-45dd-bf38-b48151b31a81" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9f73967c-fdfb-45dd-bf38-b48151b31a81"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.29567679581093853@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.29567679581093853@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 121)
Started PATCH "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/186e5363-fc5a-4c2f-b520-f57587672fe2" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"186e5363-fc5a-4c2f-b520-f57587672fe2"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 89)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6363947237158456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6363947237158456@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.10508572042338293@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.10508572042338293@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/45491eae-3ad6-4529-be74-0501622cc36f" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"45491eae-3ad6-4529-be74-0501622cc36f"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7561224292535962@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7561224292535962@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d8ea3569-a0aa-4c6c-8ebb-c093e947139e" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"d8ea3569-a0aa-4c6c-8ebb-c093e947139e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d8ea3569-a0aa-4c6c-8ebb-c093e947139e/publish" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d8ea3569-a0aa-4c6c-8ebb-c093e947139e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/d8ea3569-a0aa-4c6c-8ebb-c093e947139e" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"d8ea3569-a0aa-4c6c-8ebb-c093e947139e"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/d8ea3569-a0aa-4c6c-8ebb-c093e947139e" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"d8ea3569-a0aa-4c6c-8ebb-c093e947139e"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/d8ea3569-a0aa-4c6c-8ebb-c093e947139e" for 127.0.0.1 at 2024-05-06 12:26:49 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"d8ea3569-a0aa-4c6c-8ebb-c093e947139e"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1112)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6797028537502618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 251)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6797028537502618@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 386)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
Started PATCH "/users/me/announcements/e73a49aa-108a-44a3-a199-12e78c70c2ea" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-719", "content"=>"content-838", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"e73a49aa-108a-44a3-a199-12e78c70c2ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/e73a49aa-108a-44a3-a199-12e78c70c2ea/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e73a49aa-108a-44a3-a199-12e78c70c2ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/e73a49aa-108a-44a3-a199-12e78c70c2ea/unpublish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"e73a49aa-108a-44a3-a199-12e78c70c2ea"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05358161098155201@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05358161098155201@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/275e92eb-c954-409e-b6cf-91dda4193cdd" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"275e92eb-c954-409e-b6cf-91dda4193cdd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/275e92eb-c954-409e-b6cf-91dda4193cdd/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"275e92eb-c954-409e-b6cf-91dda4193cdd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/5df0cb8b-7d1c-42b8-8bf8-f770fae329cd" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"5df0cb8b-7d1c-42b8-8bf8-f770fae329cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/5df0cb8b-7d1c-42b8-8bf8-f770fae329cd/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"5df0cb8b-7d1c-42b8-8bf8-f770fae329cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/57660f3e-6026-45de-ad9e-6739b26476d0" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"57660f3e-6026-45de-ad9e-6739b26476d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/57660f3e-6026-45de-ad9e-6739b26476d0/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"57660f3e-6026-45de-ad9e-6739b26476d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.39898946373141975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.39898946373141975@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9876439054488341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9876439054488341@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/afbff1fe-4c31-4e68-b9df-1ee3f06cae83" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"afbff1fe-4c31-4e68-b9df-1ee3f06cae83"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 85)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.37343525604010575@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.37343525604010575@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9834989966127838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9834989966127838@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b317454d-73c9-4bb6-8234-0b78d52ad73e" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"b317454d-73c9-4bb6-8234-0b78d52ad73e"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7877713170790245@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7877713170790245@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7497672766000054@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7497672766000054@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c34818e9-da6a-4dd5-a42d-6fd2b5b0ea00" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"c34818e9-da6a-4dd5-a42d-6fd2b5b0ea00"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/c34818e9-da6a-4dd5-a42d-6fd2b5b0ea00/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c34818e9-da6a-4dd5-a42d-6fd2b5b0ea00"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/701318ec-9c29-4c6a-87fd-f4d95bf08393" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"701318ec-9c29-4c6a-87fd-f4d95bf08393"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/701318ec-9c29-4c6a-87fd-f4d95bf08393/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"701318ec-9c29-4c6a-87fd-f4d95bf08393"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/79472652-d1bd-4a00-b6bc-f37d202c8754" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"79472652-d1bd-4a00-b6bc-f37d202c8754"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/79472652-d1bd-4a00-b6bc-f37d202c8754/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"79472652-d1bd-4a00-b6bc-f37d202c8754"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7643504479940119@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7643504479940119@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7294380105123992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7294380105123992@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7c53556f-06ae-4f59-bf88-b08123a50cab" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"7c53556f-06ae-4f59-bf88-b08123a50cab"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7328860420415776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7328860420415776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
Started PATCH "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/8e8bfbcf-b685-4267-9d09-2b4616e5850a" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"8e8bfbcf-b685-4267-9d09-2b4616e5850a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7867996997821791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7867996997821791@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a58ae0cb-1092-496e-916c-40ca235c1646" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a58ae0cb-1092-496e-916c-40ca235c1646"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/a58ae0cb-1092-496e-916c-40ca235c1646/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a58ae0cb-1092-496e-916c-40ca235c1646"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5092008795281697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5092008795281697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/b7124f85-c3e2-414b-9c37-77ebe212dcda" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"b7124f85-c3e2-414b-9c37-77ebe212dcda"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/b7124f85-c3e2-414b-9c37-77ebe212dcda/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"b7124f85-c3e2-414b-9c37-77ebe212dcda"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/b7124f85-c3e2-414b-9c37-77ebe212dcda" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"b7124f85-c3e2-414b-9c37-77ebe212dcda"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/b7124f85-c3e2-414b-9c37-77ebe212dcda" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"b7124f85-c3e2-414b-9c37-77ebe212dcda"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/b7124f85-c3e2-414b-9c37-77ebe212dcda" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"b7124f85-c3e2-414b-9c37-77ebe212dcda"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.655312148037283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.655312148037283@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5037834491098037@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5037834491098037@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/06735282-bafc-42db-9c40-0a43879b462f" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"06735282-bafc-42db-9c40-0a43879b462f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/06735282-bafc-42db-9c40-0a43879b462f/publish" for 127.0.0.1 at 2024-05-06 12:26:57 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"06735282-bafc-42db-9c40-0a43879b462f"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1124)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 206)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 361)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 163)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0002957261399252342@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0002957261399252342@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/cdbff508-5bfc-4210-a236-dbe7f6b41cdc" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-433", "content"=>"content-134", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"cdbff508-5bfc-4210-a236-dbe7f6b41cdc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 111)
Started POST "/users/me/announcements/cdbff508-5bfc-4210-a236-dbe7f6b41cdc/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cdbff508-5bfc-4210-a236-dbe7f6b41cdc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/cdbff508-5bfc-4210-a236-dbe7f6b41cdc/unpublish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"cdbff508-5bfc-4210-a236-dbe7f6b41cdc"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6550594912824697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6550594912824697@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d82410d9-4796-459b-8b4c-54df9aa06450" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"d82410d9-4796-459b-8b4c-54df9aa06450"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d82410d9-4796-459b-8b4c-54df9aa06450/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d82410d9-4796-459b-8b4c-54df9aa06450"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9b986f55-51cb-4add-ac4a-c66d5420861b" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"9b986f55-51cb-4add-ac4a-c66d5420861b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/9b986f55-51cb-4add-ac4a-c66d5420861b/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9b986f55-51cb-4add-ac4a-c66d5420861b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/c2799255-e088-41f8-b4a0-ee0eefae3161" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"c2799255-e088-41f8-b4a0-ee0eefae3161"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/c2799255-e088-41f8-b4a0-ee0eefae3161/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c2799255-e088-41f8-b4a0-ee0eefae3161"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.08985774806074776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.08985774806074776@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9199631124207548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9199631124207548@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7f5b9879-4905-4857-a2b0-cbc639eb2af4" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"7f5b9879-4905-4857-a2b0-cbc639eb2af4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7f5b9879-4905-4857-a2b0-cbc639eb2af4/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7f5b9879-4905-4857-a2b0-cbc639eb2af4"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7e80e643-0cfd-45a0-9bbe-effda69bdac8" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"7e80e643-0cfd-45a0-9bbe-effda69bdac8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7e80e643-0cfd-45a0-9bbe-effda69bdac8/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7e80e643-0cfd-45a0-9bbe-effda69bdac8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/11d2f731-8bbe-48b4-b2cd-be6300b1fb48" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"11d2f731-8bbe-48b4-b2cd-be6300b1fb48"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/11d2f731-8bbe-48b4-b2cd-be6300b1fb48/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"11d2f731-8bbe-48b4-b2cd-be6300b1fb48"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1209789598867771@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1209789598867771@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 115)
Started PATCH "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/9e85a70d-ec65-403d-856a-57a2e712fe9e" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"9e85a70d-ec65-403d-856a-57a2e712fe9e"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8311164467620312@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8311164467620312@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7365889162671584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7365889162671584@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/641d9e50-098c-46fd-842c-1193a11b3db0" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"641d9e50-098c-46fd-842c-1193a11b3db0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9444563608838934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9444563608838934@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d2ff0008-6fdf-457e-9b43-13a50b3e4949" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d2ff0008-6fdf-457e-9b43-13a50b3e4949"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d2ff0008-6fdf-457e-9b43-13a50b3e4949/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d2ff0008-6fdf-457e-9b43-13a50b3e4949"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.20022429862965307@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.20022429862965307@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6141286590869189@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6141286590869189@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/692574ca-abf6-4bd2-8e1b-74ae1fe89afd" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"692574ca-abf6-4bd2-8e1b-74ae1fe89afd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/692574ca-abf6-4bd2-8e1b-74ae1fe89afd/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"692574ca-abf6-4bd2-8e1b-74ae1fe89afd"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.16133850783714898@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.16133850783714898@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5665676691134482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5665676691134482@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/a81fc14d-c2f9-424e-9e4f-bf04bb34da50" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"a81fc14d-c2f9-424e-9e4f-bf04bb34da50"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 68)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5105909222844784@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5105909222844784@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/f47eec8d-cbae-48c1-b512-9cc28bed4ef8" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"f47eec8d-cbae-48c1-b512-9cc28bed4ef8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/f47eec8d-cbae-48c1-b512-9cc28bed4ef8/publish" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"f47eec8d-cbae-48c1-b512-9cc28bed4ef8"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/f47eec8d-cbae-48c1-b512-9cc28bed4ef8" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"f47eec8d-cbae-48c1-b512-9cc28bed4ef8"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/f47eec8d-cbae-48c1-b512-9cc28bed4ef8" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"f47eec8d-cbae-48c1-b512-9cc28bed4ef8"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/f47eec8d-cbae-48c1-b512-9cc28bed4ef8" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"f47eec8d-cbae-48c1-b512-9cc28bed4ef8"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7492617774583129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7492617774583129@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5307567430412704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5307567430412704@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/3b76af9e-9619-465d-9135-06093931c8dc" for 127.0.0.1 at 2024-05-06 12:29:05 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"3b76af9e-9619-465d-9135-06093931c8dc"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 1024)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6208328111651455@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 238)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6208328111651455@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 488)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 131)
Started PATCH "/users/me/announcements/a9c19d52-8534-473f-abf5-a3f2ea1bb9bd" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"a9c19d52-8534-473f-abf5-a3f2ea1bb9bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 104)
Started POST "/users/me/announcements/a9c19d52-8534-473f-abf5-a3f2ea1bb9bd/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"a9c19d52-8534-473f-abf5-a3f2ea1bb9bd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started PATCH "/users/me/announcements/a9c19d52-8534-473f-abf5-a3f2ea1bb9bd" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"a9c19d52-8534-473f-abf5-a3f2ea1bb9bd"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
Started PATCH "/users/me/announcements/a9c19d52-8534-473f-abf5-a3f2ea1bb9bd" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"a9c19d52-8534-473f-abf5-a3f2ea1bb9bd"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 88)
Started PATCH "/users/me/announcements/a9c19d52-8534-473f-abf5-a3f2ea1bb9bd" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"a9c19d52-8534-473f-abf5-a3f2ea1bb9bd"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5324625578968226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5324625578968226@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3807845772990669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3807845772990669@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/03723ed9-9cc6-460f-86b8-b28b7fc195ae" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"03723ed9-9cc6-460f-86b8-b28b7fc195ae"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 76)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7634966921753191@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7634966921753191@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9995982896200475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9995982896200475@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/9d25aeff-6df0-4fc7-bea4-bd7447109975" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"9d25aeff-6df0-4fc7-bea4-bd7447109975"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.31673899054475474@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.31673899054475474@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.6480003961077007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.6480003961077007@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23ed0c13-0918-4c1f-b983-1e3b49be04ff" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"23ed0c13-0918-4c1f-b983-1e3b49be04ff"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.398558885632997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.398558885632997@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 119)
Started PATCH "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/c7f24958-d284-4ee9-b737-a542fa7a367a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"c7f24958-d284-4ee9-b737-a542fa7a367a"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.777051089435065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.777051089435065@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.43831574396250517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.43831574396250517@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/7b6744a4-44f7-4e5d-a343-e536f7693dad" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"7b6744a4-44f7-4e5d-a343-e536f7693dad"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7b6744a4-44f7-4e5d-a343-e536f7693dad/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7b6744a4-44f7-4e5d-a343-e536f7693dad"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/70113ae6-0789-4145-a8de-bf96e0f01043" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"70113ae6-0789-4145-a8de-bf96e0f01043"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/70113ae6-0789-4145-a8de-bf96e0f01043/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"70113ae6-0789-4145-a8de-bf96e0f01043"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/eb1d2b4b-fb8f-4cb7-8e6c-542af5209e88" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"eb1d2b4b-fb8f-4cb7-8e6c-542af5209e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/eb1d2b4b-fb8f-4cb7-8e6c-542af5209e88/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"eb1d2b4b-fb8f-4cb7-8e6c-542af5209e88"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 127)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5884973148826732@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5884973148826732@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1319e4c0-8af2-4fc6-af04-9ae9f67654c5" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"1319e4c0-8af2-4fc6-af04-9ae9f67654c5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/1319e4c0-8af2-4fc6-af04-9ae9f67654c5/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1319e4c0-8af2-4fc6-af04-9ae9f67654c5"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7596515067576316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7596515067576316@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.9669575896987692@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.9669575896987692@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/556cfba8-ebb8-44da-9a67-950fb28cf7f0" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"556cfba8-ebb8-44da-9a67-950fb28cf7f0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/556cfba8-ebb8-44da-9a67-950fb28cf7f0/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"556cfba8-ebb8-44da-9a67-950fb28cf7f0"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 162)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5860230016569643@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5860230016569643@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/2e28545f-fa11-4171-91fb-8445aebc2c2a" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-961", "content"=>"content-804", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"2e28545f-fa11-4171-91fb-8445aebc2c2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
Started POST "/users/me/announcements/2e28545f-fa11-4171-91fb-8445aebc2c2a/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e28545f-fa11-4171-91fb-8445aebc2c2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 138)
Started POST "/users/me/announcements/2e28545f-fa11-4171-91fb-8445aebc2c2a/unpublish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"2e28545f-fa11-4171-91fb-8445aebc2c2a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 94)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5863848477617467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5863848477617467@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/919888c1-11b4-45b4-a270-2af7bdc92502" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"919888c1-11b4-45b4-a270-2af7bdc92502"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/919888c1-11b4-45b4-a270-2af7bdc92502/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"919888c1-11b4-45b4-a270-2af7bdc92502"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/1ef14db4-20c8-400e-b570-7a589d91c8fd" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"1ef14db4-20c8-400e-b570-7a589d91c8fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/1ef14db4-20c8-400e-b570-7a589d91c8fd/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"1ef14db4-20c8-400e-b570-7a589d91c8fd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/4c4684f6-df82-4bd3-ab6a-6cc58ef0590f" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"4c4684f6-df82-4bd3-ab6a-6cc58ef0590f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/4c4684f6-df82-4bd3-ab6a-6cc58ef0590f/publish" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"4c4684f6-df82-4bd3-ab6a-6cc58ef0590f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 177)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 12:30:46 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3392438248875269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 1697)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3392438248875269@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 487)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 185)
Started PATCH "/users/me/announcements/04251865-0ee4-4a5c-b769-774648f11bfe" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"04251865-0ee4-4a5c-b769-774648f11bfe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
Started POST "/users/me/announcements/04251865-0ee4-4a5c-b769-774648f11bfe/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"04251865-0ee4-4a5c-b769-774648f11bfe"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started PATCH "/users/me/announcements/04251865-0ee4-4a5c-b769-774648f11bfe" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"04251865-0ee4-4a5c-b769-774648f11bfe"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
Started PATCH "/users/me/announcements/04251865-0ee4-4a5c-b769-774648f11bfe" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"04251865-0ee4-4a5c-b769-774648f11bfe"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/04251865-0ee4-4a5c-b769-774648f11bfe" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"04251865-0ee4-4a5c-b769-774648f11bfe"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.709564685775198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.709564685775198@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started PATCH "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started PATCH "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 107)
Started POST "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/bd9bd715-3da5-41ea-b3e3-b8f806ae54cd" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"bd9bd715-3da5-41ea-b3e3-b8f806ae54cd"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.053043740491457214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.053043740491457214@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.4220817302597023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.4220817302597023@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/7675c100-5889-4dcf-9ae7-88a08ac7db97" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"7675c100-5889-4dcf-9ae7-88a08ac7db97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/7675c100-5889-4dcf-9ae7-88a08ac7db97/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7675c100-5889-4dcf-9ae7-88a08ac7db97"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/26e45d79-b9ab-44ce-9f52-a2db1ee49b3d" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"26e45d79-b9ab-44ce-9f52-a2db1ee49b3d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/26e45d79-b9ab-44ce-9f52-a2db1ee49b3d/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"26e45d79-b9ab-44ce-9f52-a2db1ee49b3d"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/bf78d97c-deff-4bfd-9548-99238c42c961" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"bf78d97c-deff-4bfd-9548-99238c42c961"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/bf78d97c-deff-4bfd-9548-99238c42c961/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"bf78d97c-deff-4bfd-9548-99238c42c961"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 126)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.40448558714896254@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.40448558714896254@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7553613662539046@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7553613662539046@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/a2fc65dd-bc0f-4f46-b371-a90b03eb1ebc" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"a2fc65dd-bc0f-4f46-b371-a90b03eb1ebc"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2751441084527011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2751441084527011@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2008133860294874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2008133860294874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/users/me/announcements/a2544870-efc8-46e8-80de-4d4d278bb0b1" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"a2544870-efc8-46e8-80de-4d4d278bb0b1"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.8524563325163919@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.8524563325163919@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/43d9db6e-91ab-42cc-9909-d85b2fe4ee81" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"43d9db6e-91ab-42cc-9909-d85b2fe4ee81"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/43d9db6e-91ab-42cc-9909-d85b2fe4ee81/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"43d9db6e-91ab-42cc-9909-d85b2fe4ee81"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7731404789341075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7731404789341075@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7561626684327288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7561626684327288@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/88ab1d1c-4555-424c-9093-4be920d7019a" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"88ab1d1c-4555-424c-9093-4be920d7019a"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.7239205052673761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.7239205052673761@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3019356984470615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3019356984470615@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/53fb613a-538d-48f1-9679-f8ebfac9bd5b" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"53fb613a-538d-48f1-9679-f8ebfac9bd5b"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/53fb613a-538d-48f1-9679-f8ebfac9bd5b/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"53fb613a-538d-48f1-9679-f8ebfac9bd5b"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 161)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.34348615345606825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 122)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.34348615345606825@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/9addb7f4-01bd-478b-b874-4ee8c5d3fa65" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"9addb7f4-01bd-478b-b874-4ee8c5d3fa65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/9addb7f4-01bd-478b-b874-4ee8c5d3fa65/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"9addb7f4-01bd-478b-b874-4ee8c5d3fa65"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/51cdec51-c0dc-4fb0-aed6-4f9aad63ae5a" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"51cdec51-c0dc-4fb0-aed6-4f9aad63ae5a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/51cdec51-c0dc-4fb0-aed6-4f9aad63ae5a/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"51cdec51-c0dc-4fb0-aed6-4f9aad63ae5a"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/8346c579-d18b-4fed-a774-9cf5269d82f5" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"8346c579-d18b-4fed-a774-9cf5269d82f5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/8346c579-d18b-4fed-a774-9cf5269d82f5/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"8346c579-d18b-4fed-a774-9cf5269d82f5"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 185)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 169)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3691517781174547@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3691517781174547@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
Started PATCH "/users/me/announcements/3e2cc548-466d-4c95-9a16-71e2ed53d7d0" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-826", "content"=>"content-174", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"3e2cc548-466d-4c95-9a16-71e2ed53d7d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements/3e2cc548-466d-4c95-9a16-71e2ed53d7d0/publish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3e2cc548-466d-4c95-9a16-71e2ed53d7d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 125)
Started POST "/users/me/announcements/3e2cc548-466d-4c95-9a16-71e2ed53d7d0/unpublish" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3e2cc548-466d-4c95-9a16-71e2ed53d7d0"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 93)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 75)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 148)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:03:43 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1129)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
SigningInTest: test_user_signs_up,_signs_in_and_get_access_token
----------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 202)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 366)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 186)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_email_of_existing_other_user
--------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 145)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_in_with_too_long_password
---------------------------------------------------------------------------
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
SigningInTest: test_user_got_error_trying_to_sign_up_with_too_long_email
------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee@example.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 97)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
SigningInTest: test_user_signs_up_and_signs_in_when_email_and_password_is_correct
---------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"other@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 176)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"email@example.com", "password"=>"[FILTERED]"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 130)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_longitude
----------------------------------------------------------------------------
Started GET "/announcements?latitude=0&longitude=invalid" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"invalid"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 167)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_no_location
----------------------------------------------------------------------
Started GET "/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 96)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_one_announcement_when_it_is_published
-----------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.3804062709690602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 124)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.3804062709690602@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/7534fe12-4e89-4853-9c47-0b2c7207cda1" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title-889", "content"=>"content-932", "location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"7534fe12-4e89-4853-9c47-0b2c7207cda1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 116)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 110)
Started POST "/users/me/announcements/7534fe12-4e89-4853-9c47-0b2c7207cda1/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7534fe12-4e89-4853-9c47-0b2c7207cda1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 169)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 141)
Started POST "/users/me/announcements/7534fe12-4e89-4853-9c47-0b2c7207cda1/unpublish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#unpublish as HTML
  Parameters: {"user_id"=>"me", "id"=>"7534fe12-4e89-4853-9c47-0b2c7207cda1"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 97)
Started GET "/announcements?latitude=0&longitude=0" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"0"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
SearchAnnouncementsTest: test_announcement_search_returns_announcement_sorted_by_distance_to_provided_location
--------------------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.1526642677658423@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.1526642677658423@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d48f2d02-ffd8-4ec3-8957-ac45b6c7158f" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 10", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"10"}, "user_id"=>"me", "id"=>"d48f2d02-ffd8-4ec3-8957-ac45b6c7158f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/d48f2d02-ffd8-4ec3-8957-ac45b6c7158f/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d48f2d02-ffd8-4ec3-8957-ac45b6c7158f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/773bede7-98d1-4bae-848d-a2b2ca46f6d6" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 25", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"25"}, "user_id"=>"me", "id"=>"773bede7-98d1-4bae-848d-a2b2ca46f6d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/773bede7-98d1-4bae-848d-a2b2ca46f6d6/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"773bede7-98d1-4bae-848d-a2b2ca46f6d6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/10572814-8bfd-4bcd-afff-091cc4693834" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"announcement on 30", "content"=>"content", "location"=>{"latitude"=>"0", "longitude"=>"30"}, "user_id"=>"me", "id"=>"10572814-8bfd-4bcd-afff-091cc4693834"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/10572814-8bfd-4bcd-afff-091cc4693834/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"10572814-8bfd-4bcd-afff-091cc4693834"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/announcements?latitude=0&longitude=11" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"11"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 170)
Started GET "/announcements?latitude=0&longitude=27" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"0", "longitude"=>"27"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
SearchAnnouncementsTest: test_returns_error_searching_with_invalid_latitude
---------------------------------------------------------------------------
Started GET "/announcements?latitude=invalid&longitude=0" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by PublicAnnouncementsController#index as HTML
  Parameters: {"latitude"=>"invalid", "longitude"=>"0"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 95)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_user_creates,_updates_and_publishes_announcement
--------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.045847437989906537@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.045847437989906537@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 123)
Started PATCH "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"12.34", "longitude"=>"-43.21"}, "user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started PATCH "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 108)
Started POST "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements/54e43c55-2965-413b-bd62-1968c8799574" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"54e43c55-2965-413b-bd62-1968c8799574"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 109)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_user_all_announcements
--------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.337556595356842@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.337556595356842@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.05458293460788277@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.05458293460788277@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/019ff30e-3ec2-4ae8-8cbb-4e336dd4d268" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title1", "content"=>"content1", "user_id"=>"me", "id"=>"019ff30e-3ec2-4ae8-8cbb-4e336dd4d268"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/019ff30e-3ec2-4ae8-8cbb-4e336dd4d268/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"019ff30e-3ec2-4ae8-8cbb-4e336dd4d268"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/31dc90b2-7932-41e0-adbb-425d6180c29f" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "content"=>"content2", "user_id"=>"me", "id"=>"31dc90b2-7932-41e0-adbb-425d6180c29f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/31dc90b2-7932-41e0-adbb-425d6180c29f/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"31dc90b2-7932-41e0-adbb-425d6180c29f"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/23c6b257-db90-4647-84bf-93f7ca8baad6" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title3", "content"=>"content3", "user_id"=>"me", "id"=>"23c6b257-db90-4647-84bf-93f7ca8baad6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/23c6b257-db90-4647-84bf-93f7ca8baad6/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"23c6b257-db90-4647-84bf-93f7ca8baad6"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 124)
Started GET "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#index as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_content_of_someone_else_announcement
-----------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.014714203691267747@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.014714203691267747@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.22961903772285974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.22961903772285974@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 99)
Started PATCH "/users/me/announcements/74a7b09a-710b-46d2-af8f-b8534d6b4513" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content", "user_id"=>"me", "id"=>"74a7b09a-710b-46d2-af8f-b8534d6b4513"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 71)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_edit_published_announcement
---------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.01936831912610415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.01936831912610415@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/817697c8-0327-42fd-9e15-bcaac7966616" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "location"=>{"latitude"=>"1", "longitude"=>"2"}, "user_id"=>"me", "id"=>"817697c8-0327-42fd-9e15-bcaac7966616"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 79)
Started POST "/users/me/announcements/817697c8-0327-42fd-9e15-bcaac7966616/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"817697c8-0327-42fd-9e15-bcaac7966616"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 103)
Started PATCH "/users/me/announcements/817697c8-0327-42fd-9e15-bcaac7966616" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title2", "user_id"=>"me", "id"=>"817697c8-0327-42fd-9e15-bcaac7966616"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 91)
Started PATCH "/users/me/announcements/817697c8-0327-42fd-9e15-bcaac7966616" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"content"=>"content2", "user_id"=>"me", "id"=>"817697c8-0327-42fd-9e15-bcaac7966616"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 87)
Started PATCH "/users/me/announcements/817697c8-0327-42fd-9e15-bcaac7966616" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"location"=>{"latitude"=>"3", "longitude"=>"4"}, "user_id"=>"me", "id"=>"817697c8-0327-42fd-9e15-bcaac7966616"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 92)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_someone_else_announcement
-----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.0364419013907461@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.0364419013907461@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.018252709872650486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.018252709872650486@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started GET "/users/me/announcements/6781cd72-4104-456e-94b6-a3ac512dbeb7" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"6781cd72-4104-456e-94b6-a3ac512dbeb7"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 78)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_400_trying_to_publish_unready_announcement
----------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.07612041810449188@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.07612041810449188@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/d3035c73-3c7c-45f6-9285-77466a46912e" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"d3035c73-3c7c-45f6-9285-77466a46912e"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 64)
Started POST "/users/me/announcements/d3035c73-3c7c-45f6-9285-77466a46912e/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"d3035c73-3c7c-45f6-9285-77466a46912e"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 73)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_404_trying_to_get_not_existing_announcement
-----------------------------------------------------------------------------------------
Started GET "/users/me/announcements/id" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#show as HTML
  Parameters: {"user_id"=>"me", "id"=>"id"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 87)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_edit_title_of_someone_else_announcement
---------------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.42953274407403874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.42953274407403874@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.729796889312678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.729796889312678@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/46d6fc35-ceb1-4c96-8bc6-83a9eeecfff5" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "user_id"=>"me", "id"=>"46d6fc35-ceb1-4c96-8bc6-83a9eeecfff5"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
CreateNewAnnouncementTest: test_responds_with_403_trying_to_publish_someone_else_announcement
---------------------------------------------------------------------------------------------
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.5558457879319206@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.5558457879319206@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 150)
Started POST "/sign_up" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_up as HTML
  Parameters: {"email"=>"test0.2413528209308783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 121)
Started POST "/sign_in" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by UsersController#sign_in as HTML
  Parameters: {"email"=>"test0.2413528209308783@example.com", "password"=>"[FILTERED]"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 149)
Started POST "/users/me/announcements" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#create as HTML
  Parameters: {"user_id"=>"me"}
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 98)
Started PATCH "/users/me/announcements/3063cc81-4f57-4fa6-a5ee-cc4c3a876761" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#update as HTML
  Parameters: {"title"=>"title", "content"=>"content", "user_id"=>"me", "id"=>"3063cc81-4f57-4fa6-a5ee-cc4c3a876761"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 69)
Started POST "/users/me/announcements/3063cc81-4f57-4fa6-a5ee-cc4c3a876761/publish" for 127.0.0.1 at 2024-05-06 13:05:51 +0000
Processing by AnnouncementsController#publish as HTML
  Parameters: {"user_id"=>"me", "id"=>"3063cc81-4f57-4fa6-a5ee-cc4c3a876761"}
Completed 403 Forbidden in 0ms (ActiveRecord: 0.0ms | Allocations: 67)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
